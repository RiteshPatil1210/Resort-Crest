{"version":3,"file":"core.js","names":["fn","rdtHook","i","rdtHook","g","n","t","e","E","r","C","u","o","x","w","k","I","s","N","T","A","L","O","F","P","B","i","l","H","$","q","cn","c","v","d","m","h","p","y","_","b","S","a","ref: ForwardedRef<SVGSVGElement>","r","e","t","f","n","o","classGroup","i","k","callback: () => void","callback: (e?: E) => void","delay: number","e?: E","fn: () => T","defaultValue: T","storageKey: string","state: T","element: HTMLElement","classes: Array<string>","fiber: Fiber","wrappers: Array<string>","wrapperTypes: Array<WrapperBadge>","value: boolean","onDelay: number","offDelay: number","element: Element","callback: (element: Element) => void","container: HTMLElement","changes: Array<Change>","prevAggregatedChange?: AggregatedChange","newRender: Render","prevAggregated: AggregatedRender","a: number","b: number","group: ComponentData[]","groupedAggregatedRenders: Array<AggregatedRender>","parts: Array<string>","fiber: Fiber","renders: Array<Render>","a: unknown","b: unknown","audioContext: AudioContext","elements: Array<Element>","el: Element","prevValue: unknown","nextValue: unknown","value: unknown","fiber: Fiber","changes: StateChange[]","memoizedState: MemoizedState | null","prevState: MemoizedState | null | undefined","change: StateChange","contextFiber: ContextFiber","nextValue: ContextFiber | null | undefined","prevValue: ContextFiber | null | undefined","change: ContextChange","changes: Array<ContextChange>","_propsName: string","state: IsRenderUnnecessaryState","value: RenderData","fiberSelfTime: number","fiberTotalTime: number","hasChanges: boolean","hasDomMutations: boolean","renderData: RenderData","instanceKey: string","config: InstrumentationConfig","instrumentation: Instrumentation","phase: \"mount\" | \"update\" | \"unmount\"","validInstancesIndicies: Array<number>","changes: Array<Change>","render: Render","e: Error","element: Element","fiber: Fiber","current: Fiber | null","element: Element | null","prevHost: Fiber | null","root: Fiber","curr: Fiber | null","rootFiber: Fiber | null","knownFiber?: Fiber","currentRootFiber: Fiber | null","changes: Array<PropsChange>","value: unknown","overrideProps: OverrideMethods[\"overrideProps\"]","overrideHookState: OverrideMethods[\"overrideHookState\"]","overrideContext: OverrideMethods[\"overrideContext\"]","id: string","path: string[]","path: Array<string>","contextType: unknown","root: HTMLElement","result: Array<InspectableElement>","element: HTMLElement | null","element: HTMLElement","current: HTMLElement | null","parentPath?: string","componentName: string","section: string","parentPath: string","key: string","value: string","error: string","result: Array<unknown>","currentType: unknown","obj: unknown","prev: unknown","current: unknown","changes: Array<DiffChange>","body: string","code: string","merged: Array<string>","openTok: string","closeTok: string","startIndex: number","lines: Array<string>","stack: Array<string>","tok: string","fn: { toString(): string }","totalUpdates: number","currentIndex: number","nextState: ExtendedMemoizedState | null","result: Record<string, unknown>","entries: Record<string, unknown>","memoizedState: ExtendedMemoizedState | null","lastComponentType: unknown","fiber: Fiber","m: RegExpMatchArray","tracker: Map<ChangeKey, ChangeTrackingInfo>","key: ChangeKey","currentValue: unknown","previousValue: unknown","memoizedState: MemoizedState | null","state: Record<number, unknown>","current: Record<string, unknown>","prev: Record<string, unknown>","changes: Array<StateChange>","changes: Array<ContextChange>","currentFiber: Fiber | null","contextItem: ContextDependency<unknown> | null","timelineStateDefault: TimelineState","pendingUpdates: Array<{ update: TimelineUpdate; fiber: Fiber | null }>","batchTimeout: ReturnType<typeof setTimeout> | null","newCurrentIndex: number","index: number","isViewingHistory: boolean","speed: TimelineState[\"playbackSpeed\"]","update: TimelineUpdate","latestFiber: Fiber | null","formattedTime: string | undefined","props: SVGProps<SVGSVGElement>","n","e","t","i","o","s","r","h","c","a","d","f","u","l","M","m","g","D","e: MouseEvent","ref: PossibleRef<T>","value: T","node: T","e: Event","e: KeyboardEvent","newValue: unknown","prevState: boolean","obj: unknown","entries: Array<[key: string | number, value: unknown]>","path: string[]","value: unknown","container: HTMLElement","props: {\n\t\t\t\tname: string\n\t\t\t\tdata: Signal<Record<string, unknown>>\n\t\t\t\trefSticky?:\n\t\t\t\t\t| ReturnType<typeof useMergedRefs<HTMLElement>>\n\t\t\t\t\t| ((node: HTMLElement | null) => void)\n\t\t\t\tisSticky?: boolean\n\t\t\t}","e: PointerEvent","createRootPromise: Promise<any> | null","children: React.ReactNode","tabId: string","entry: any","og: Record<string, string>","twitter: Record<string, string>","Component: FunctionComponent<P>","props: P","fps: number","start: number","end: number","t: number","ctx: CanvasRenderingContext2D","x: number","y: number","size: number","rect: Rect","kind: \"locked\" | \"inspecting\"","fiber: Fiber | null","canvas: HTMLCanvasElement","kind: DrawKind","targetRect: Rect","parentCompositeFiber: Fiber","onComplete?: () => void","timestamp: number","overlayElement: Element | null","canvas: HTMLCanvasElement | null","ctx: CanvasRenderingContext2D | null","e: TransitionEvent","componentElement: Element","e?: PointerEvent","e: MouseEvent","state: States","e: KeyboardEvent","unsubReport: (() => void) | undefined","e: PointerEvent","width: number","height: number","cachedWindowDimensions: WindowDimensions | undefined","position: ResizeHandleProps[\"position\"]","currentCorner: Corner","isFullScreen: boolean","isFullWidth?: boolean","isFullHeight?: boolean","corner: Corner","x: number","y: number","isFullWidth: boolean","isFullHeight: boolean","currentSize: number","delta: number","isWidth: boolean","initialSize: Size","initialPosition: Position","deltaX: number","deltaY: number","position: Position","distances: Record<Corner, number>","closest: Corner","mouseX: number","mouseY: number","initialMouseX?: number","initialMouseY?: number","e: JSX.TargetedPointerEvent<HTMLDivElement>","rafId: number | null","e: PointerEvent","e: JSX.TargetedMouseEvent<HTMLDivElement>","newWidth: number","newHeight: number","rafId: number | null","e: JSX.TargetedPointerEvent<HTMLDivElement>","e: globalThis.PointerEvent","targetCorner: Corner","orientation: \"horizontal\" | \"vertical\"","collapsedPosition: CollapsedPosition","error: Error","root: ShadowRoot","callback: (...args: unknown[]) => void","cachedSession: Session","fiber: Fiber","children: Array<Fiber>","curr: typeof fiber.child","root: Fiber","limit: number","tree: Node","queue: Array<[node: Fiber, parent: Fiber | null]>","message: string | undefined","fn: () => T","capacity: number","array: Array<T>","initialValue: T","subscriber: Subscriber<T>","data: T","item: T","to: ChanelName","cb: Callback<T>","dropFirst: boolean","channel: ChanelName","updater: Updater<T>","DEFAULT_FILTERS: PathFilters","name: string","filters: PathFilters","patternsToCheck: Array<RegExp>","initialFiber: Fiber | null","stack: string[]","currentMouseOver: Element","component: FiberType","event: Event","element: Element","curr: Element | null","parentCompositeFiber: Fiber | null","lastVisibilityHiddenAt: number | \"never-hidden\"","options?: Partial<PathFilters>","eventName: string","onEntry: (interaction: PerformanceInteraction) => void","entry: PerformanceInteractionEntry","interaction: PerformanceInteraction","fiber: Fiber","accept: (name: string) => boolean","curr: Fiber | null","unsubscribeTrackVisibilityChange: (() => void) | undefined","lastVisibilityHiddenAt: number | \"never-hidden\"","str: string","eventName: string","interaction: any","path: string[]","onEntryAnimationId: number | null","onEntry: (interaction: PerformanceInteraction) => void","entry: PerformanceInteractionEntry","current: Element | null","interaction: PerformanceInteraction","entry: PerformanceInteraction","activeTasks: Array<Task>","closestTask: Task | null","task: Task","onComplete: (completedInteraction: CompletedInteraction) => void","target: Element","kind: \"pointer\" | \"keyboard\"","options: {\n\t\tonStart?: (interactionUUID: string) => void\n\t\tonComplete?: (\n\t\t\tinteractionUUID: string,\n\t\t\tfinalInteraction: {\n\t\t\t\tdetailedTiming: TimeoutStage\n\t\t\t\tlatency: number\n\t\t\t\tcompletedAt: number\n\t\t\t\tflushNeeded: boolean\n\t\t\t},\n\t\t\tentry: PerformanceEntryChannelEvent,\n\t\t) => void\n\t\tonError?: (interactionUUID: string) => void\n\t}","instrumentationIdInControl: string | null","info: { phase: \"start\" } | { phase: \"end\"; target: Element }","lastInteractionRef: LastInteractionRef","e: Event","fiberRenders: InteractionStartStage[\"fiberRenders\"]","e: { target: Element }","instrumentationId: string","abort: () => boolean","timeoutStage: TimeoutStage","event: PerformanceEntryChannelEvent","limit: number","emptySection: SectionData","existing: SectionData","newData: SectionData","mergedSection: SectionData","createStoreImpl: CreateStoreImpl","state: TState","listeners: Set<Listener>","setState: StoreApi<TState>[\"setState\"]","getState: StoreApi<TState>[\"getState\"]","getInitialState: StoreApi<TState>[\"getInitialState\"]","subscribe: StoreApi<TState>[\"subscribe\"]","selectorOrListener:\n\t\t\t| ((state: TState, prevState: TState) => void)\n\t\t\t// biome-ignore lint/suspicious/noExplicitAny: <explanation>\n\t\t\t| ((state: TState) => any)","listener?: (selectedState: any, prevSelectedState: any) => void","selector: ((state: TState) => any) | undefined","actualListener: (state: any, prevState: any) => void","newState: TState","previousState: TState","profileListeners: Array<(interaction: FinalInteraction) => void>","listener: (interaction: FinalInteraction) => void","interactionStatusStore: {\n\tstate: NewInteractionStoreState | null\n\tlisteners: Array<(state: NewInteractionStoreState) => void>\n\taddListener: (cb: (state: NewInteractionStoreState) => void) => () => void\n}","accumulatedFiberRendersOverTask: null | FiberRenders","event: SlowdownEvent","longRenderEvent: LongRenderPipeline & { id: string }","onOverlap: (overlapsWith: InteractionEvent & { id: string }) => void","listener: (event: SlowdownEvent) => void","taskDirtyAt: null | number","taskDirtyOrigin: null | number","previousTrackCurrentMouseOverElementCallback:\n\t| ((e: MouseEvent) => void)\n\t| null","overToolbar: boolean | null","e: MouseEvent","framesDrawnInTheLastSecond: Array<number>","rafHandle: number","timeoutHandle: ReturnType<typeof setTimeout>","unSub: (() => void) | null","_: string","finalInteraction: FinalInteraction","event: PerformanceEntryChannelEvent","highlightCanvas: HTMLCanvasElement | null","highlightCtx: CanvasRenderingContext2D | null","animationFrame: number | null","currFrame: ReturnType<typeof requestAnimationFrame> | null","handleResizeListener: (() => void) | null","root: HTMLElement","rootContainer: HTMLDivElement | null","shadowRoot: ShadowRoot | null","Store: StoreType","ReactDevtoolInternals: Internals","key: string","options: Partial<Options>","errors: Array<string>","validOptions: Partial<Options>","userOptions: Partial<Options>","isProduction: boolean | null","rdtHook: ReturnType<typeof getRDTHook>","showToolbar: boolean","options: Options"],"sources":["../node_modules/.pnpm/bippy@0.3.17_@types+react@19.1.8_react@19.1.0/node_modules/bippy/dist/rdt-hook-D8LwQB-4.js","../node_modules/.pnpm/bippy@0.3.17_@types+react@19.1.8_react@19.1.0/node_modules/bippy/dist/core-wkpXT9Yv.js","../node_modules/.pnpm/bippy@0.3.17_@types+react@19.1.8_react@19.1.0/node_modules/bippy/dist/src-C5k3J1-J.js","../node_modules/.pnpm/preact@10.26.9/node_modules/preact/compat/dist/compat.module.js","../src/devtool/components/icon/index.tsx","../node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs","../src/devtool/utils/constants.ts","../node_modules/.pnpm/tailwind-merge@3.3.1/node_modules/tailwind-merge/dist/bundle-mjs.mjs","../src/devtool/utils/helpers.ts","../src/devtool/constants.ts","../src/devtool/state.ts","../src/devtool/hooks/use-delayed-value.ts","../src/devtool/views/inspector/flash-overlay.ts","../src/devtool/core/utils.ts","../src/devtool/utils/outline.ts","../src/devtool/core/instrumentation.ts","../src/devtool/views/inspector/index.tsx","../src/devtool/views/inspector/utils.ts","../src/devtool/views/inspector/timeline/utils.ts","../src/devtool/views/inspector/states.ts","../src/devtool/views/inspector/header.tsx","../src/devtool/widget/header.tsx","../src/devtool/components/logo.tsx","../node_modules/.pnpm/web-vitals@5.0.3/node_modules/web-vitals/dist/web-vitals.js","../src/devtool/components/copy-to-clipboard/index.tsx","../src/devtool/hooks/use-merged-refs.ts","../src/devtool/views/inspector/properties.tsx","../src/devtool/views/main/index.tsx","../src/devtool/utils/preact/constant.ts","../src/devtool/widget/fps-meter.tsx","../src/devtool/views/toolbar/index.tsx","../src/devtool/views/index.tsx","../src/devtool/utils/lerp.ts","../src/devtool/views/inspector/overlay/index.tsx","../src/devtool/widget/helpers.ts","../src/devtool/widget/resize-handle.tsx","../src/devtool/widget/index.tsx","../src/devtool/components/svg-sprite/index.tsx","../src/devtool/toolbar.tsx","../src/index.css?inline","../src/devtool/core/monitor/utils.ts","../src/devtool/core/notifications/performance-utils.ts","../src/devtool/core/notifications/interaction-store.ts","../src/devtool/core/notifications/performance-store.ts","../src/devtool/core/monitor/performance.ts","../src/devtool/core/notifications/performance.ts","../src/devtool/utils/create-store.ts","../src/devtool/core/notifications/event-tracking.ts","../src/devtool/core/notifications/outline-overlay.ts","../src/devtool/core/index.ts"],"sourcesContent":["/**\n * @license bippy\n *\n * Copyright (c) Aiden Bai\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n//#region src/rdt-hook.ts\nconst version = \"0.3.17\";\nconst BIPPY_INSTRUMENTATION_STRING = `bippy-${version}`;\nconst objectDefineProperty = Object.defineProperty;\nconst objectHasOwnProperty = Object.prototype.hasOwnProperty;\nconst NO_OP = () => {};\nconst checkDCE = (fn) => {\n\ttry {\n\t\tconst code = Function.prototype.toString.call(fn);\n\t\tif (code.indexOf(\"^_^\") > -1) setTimeout(() => {\n\t\t\tthrow new Error(\"React is running in production mode, but dead code elimination has not been applied. Read how to correctly configure React for production: https://reactjs.org/link/perf-use-production-build\");\n\t\t});\n\t} catch {}\n};\nconst isRealReactDevtools = (rdtHook = getRDTHook()) => {\n\treturn \"getFiberRoots\" in rdtHook;\n};\nlet isReactRefreshOverride = false;\nlet injectFnStr = void 0;\nconst isReactRefresh = (rdtHook = getRDTHook()) => {\n\tif (isReactRefreshOverride) return true;\n\tif (typeof rdtHook.inject === \"function\") injectFnStr = rdtHook.inject.toString();\n\treturn Boolean(injectFnStr?.includes(\"(injected)\"));\n};\nconst onActiveListeners = new Set();\nconst _renderers = new Set();\nconst installRDTHook = (onActive) => {\n\tconst renderers = new Map();\n\tlet i = 0;\n\tlet rdtHook = {\n\t\tcheckDCE,\n\t\tsupportsFiber: true,\n\t\tsupportsFlight: true,\n\t\thasUnsupportedRendererAttached: false,\n\t\trenderers,\n\t\tonCommitFiberRoot: NO_OP,\n\t\tonCommitFiberUnmount: NO_OP,\n\t\tonPostCommitFiberRoot: NO_OP,\n\t\tinject(renderer) {\n\t\t\tconst nextID = ++i;\n\t\t\trenderers.set(nextID, renderer);\n\t\t\t_renderers.add(renderer);\n\t\t\tif (!rdtHook._instrumentationIsActive) {\n\t\t\t\trdtHook._instrumentationIsActive = true;\n\t\t\t\tonActiveListeners.forEach((listener) => listener());\n\t\t\t}\n\t\t\treturn nextID;\n\t\t},\n\t\t_instrumentationSource: BIPPY_INSTRUMENTATION_STRING,\n\t\t_instrumentationIsActive: false\n\t};\n\ttry {\n\t\tobjectDefineProperty(globalThis, \"__REACT_DEVTOOLS_GLOBAL_HOOK__\", {\n\t\t\tget() {\n\t\t\t\treturn rdtHook;\n\t\t\t},\n\t\t\tset(newHook) {\n\t\t\t\tif (newHook && typeof newHook === \"object\") {\n\t\t\t\t\tconst ourRenderers = rdtHook.renderers;\n\t\t\t\t\trdtHook = newHook;\n\t\t\t\t\tif (ourRenderers.size > 0) {\n\t\t\t\t\t\tourRenderers.forEach((renderer, id) => {\n\t\t\t\t\t\t\t_renderers.add(renderer);\n\t\t\t\t\t\t\tnewHook.renderers.set(id, renderer);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tpatchRDTHook(onActive);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true\n\t\t});\n\t\tconst originalWindowHasOwnProperty = window.hasOwnProperty;\n\t\tlet hasRanHack = false;\n\t\tobjectDefineProperty(window, \"hasOwnProperty\", {\n\t\t\tvalue: function() {\n\t\t\t\ttry {\n\t\t\t\t\tif (!hasRanHack && arguments[0] === \"__REACT_DEVTOOLS_GLOBAL_HOOK__\") {\n\t\t\t\t\t\tglobalThis.__REACT_DEVTOOLS_GLOBAL_HOOK__ = void 0;\n\t\t\t\t\t\thasRanHack = true;\n\t\t\t\t\t\treturn -0;\n\t\t\t\t\t}\n\t\t\t\t} catch {}\n\t\t\t\treturn originalWindowHasOwnProperty.apply(this, arguments);\n\t\t\t},\n\t\t\tconfigurable: true,\n\t\t\twritable: true\n\t\t});\n\t} catch {\n\t\tpatchRDTHook(onActive);\n\t}\n\treturn rdtHook;\n};\nconst patchRDTHook = (onActive) => {\n\tif (onActive) onActiveListeners.add(onActive);\n\ttry {\n\t\tconst rdtHook = globalThis.__REACT_DEVTOOLS_GLOBAL_HOOK__;\n\t\tif (!rdtHook) return;\n\t\tif (!rdtHook._instrumentationSource) {\n\t\t\trdtHook.checkDCE = checkDCE;\n\t\t\trdtHook.supportsFiber = true;\n\t\t\trdtHook.supportsFlight = true;\n\t\t\trdtHook.hasUnsupportedRendererAttached = false;\n\t\t\trdtHook._instrumentationSource = BIPPY_INSTRUMENTATION_STRING;\n\t\t\trdtHook._instrumentationIsActive = false;\n\t\t\tif (rdtHook.renderers.size) {\n\t\t\t\trdtHook._instrumentationIsActive = true;\n\t\t\t\tonActiveListeners.forEach((listener) => listener());\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst prevInject = rdtHook.inject;\n\t\t\tif (isReactRefresh(rdtHook) && !isRealReactDevtools()) {\n\t\t\t\tisReactRefreshOverride = true;\n\t\t\t\tconst nextID = rdtHook.inject({ scheduleRefresh() {} });\n\t\t\t\tif (nextID) rdtHook._instrumentationIsActive = true;\n\t\t\t}\n\t\t\trdtHook.inject = (renderer) => {\n\t\t\t\tconst id = prevInject(renderer);\n\t\t\t\t_renderers.add(renderer);\n\t\t\t\trdtHook._instrumentationIsActive = true;\n\t\t\t\tonActiveListeners.forEach((listener) => listener());\n\t\t\t\treturn id;\n\t\t\t};\n\t\t}\n\t\tif (rdtHook.renderers.size || rdtHook._instrumentationIsActive || isReactRefresh()) onActive?.();\n\t} catch {}\n};\nconst hasRDTHook = () => {\n\treturn objectHasOwnProperty.call(globalThis, \"__REACT_DEVTOOLS_GLOBAL_HOOK__\");\n};\n/**\n* Returns the current React DevTools global hook.\n*/\nconst getRDTHook = (onActive) => {\n\tif (!hasRDTHook()) return installRDTHook(onActive);\n\tpatchRDTHook(onActive);\n\treturn globalThis.__REACT_DEVTOOLS_GLOBAL_HOOK__;\n};\nconst isClientEnvironment = () => {\n\treturn Boolean(typeof window !== \"undefined\" && (window.document?.createElement || window.navigator?.product === \"ReactNative\"));\n};\n/**\n* Usually used purely for side effect\n*/\nconst safelyInstallRDTHook = () => {\n\ttry {\n\t\tif (isClientEnvironment()) getRDTHook();\n\t} catch {}\n};\n\n//#endregion\nexport { BIPPY_INSTRUMENTATION_STRING as BIPPY_INSTRUMENTATION_STRING$1, _renderers as _renderers$1, getRDTHook as getRDTHook$1, hasRDTHook as hasRDTHook$1, installRDTHook as installRDTHook$1, isClientEnvironment as isClientEnvironment$1, isReactRefresh as isReactRefresh$1, isRealReactDevtools as isRealReactDevtools$1, patchRDTHook as patchRDTHook$1, safelyInstallRDTHook as safelyInstallRDTHook$1, version as version$1 };","/**\n * @license bippy\n *\n * Copyright (c) Aiden Bai\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport { BIPPY_INSTRUMENTATION_STRING$1 as BIPPY_INSTRUMENTATION_STRING, getRDTHook$1 as getRDTHook, hasRDTHook$1 as hasRDTHook, isReactRefresh$1 as isReactRefresh, isRealReactDevtools$1 as isRealReactDevtools } from \"./rdt-hook-D8LwQB-4.js\";\n\n//#region src/install-hook-script-string.ts\nconst INSTALL_HOOK_SCRIPT_STRING = \"(()=>{try{var t=()=>{};const n=new Map;let o=0;globalThis.__REACT_DEVTOOLS_GLOBAL_HOOK__={checkDCE:t,supportsFiber:!0,supportsFlight:!0,hasUnsupportedRendererAttached:!1,renderers:n,onCommitFiberRoot:t,onCommitFiberUnmount:t,onPostCommitFiberRoot:t,inject(t){var e=++o;return n.set(e,t),globalThis.__REACT_DEVTOOLS_GLOBAL_HOOK__._instrumentationIsActive=!0,e},_instrumentationIsActive:!1,_script:!0}}catch{}})()\";\n\n//#endregion\n//#region src/core.ts\nconst FunctionComponentTag = 0;\nconst ClassComponentTag = 1;\nconst HostRootTag = 3;\nconst HostComponentTag = 5;\nconst HostTextTag = 6;\nconst FragmentTag = 7;\nconst ContextConsumerTag = 9;\nconst ForwardRefTag = 11;\nconst SuspenseComponentTag = 13;\nconst MemoComponentTag = 14;\nconst SimpleMemoComponentTag = 15;\nconst DehydratedSuspenseComponentTag = 18;\nconst OffscreenComponentTag = 22;\nconst LegacyHiddenComponentTag = 23;\nconst HostHoistableTag = 26;\nconst HostSingletonTag = 27;\nconst CONCURRENT_MODE_NUMBER = 60111;\nconst ELEMENT_TYPE_SYMBOL_STRING = \"Symbol(react.element)\";\nconst TRANSITIONAL_ELEMENT_TYPE_SYMBOL_STRING = \"Symbol(react.transitional.element)\";\nconst CONCURRENT_MODE_SYMBOL_STRING = \"Symbol(react.concurrent_mode)\";\nconst DEPRECATED_ASYNC_MODE_SYMBOL_STRING = \"Symbol(react.async_mode)\";\nconst PerformedWork = 1;\nconst Placement = 2;\nconst Hydrating = 4096;\nconst Update = 4;\nconst Cloned = 8;\nconst ChildDeletion = 16;\nconst ContentReset = 32;\nconst Snapshot = 1024;\nconst Visibility = 8192;\nconst MutationMask = Placement | Update | ChildDeletion | ContentReset | Hydrating | Visibility | Snapshot;\n/**\n* Returns `true` if object is a React Element.\n*\n* @see https://react.dev/reference/react/isValidElement\n*/\nconst isValidElement = (element) => typeof element === \"object\" && element != null && \"$$typeof\" in element && [ELEMENT_TYPE_SYMBOL_STRING, TRANSITIONAL_ELEMENT_TYPE_SYMBOL_STRING].includes(String(element.$$typeof));\n/**\n* Returns `true` if object is a React Fiber.\n*/\nconst isValidFiber = (fiber) => typeof fiber === \"object\" && fiber != null && \"tag\" in fiber && \"stateNode\" in fiber && \"return\" in fiber && \"child\" in fiber && \"sibling\" in fiber && \"flags\" in fiber;\n/**\n* Returns `true` if fiber is a host fiber. Host fibers are DOM nodes in react-dom, `View` in react-native, etc.\n*\n* @see https://reactnative.dev/architecture/glossary#host-view-tree-and-host-view\n*/\nconst isHostFiber = (fiber) => {\n\tswitch (fiber.tag) {\n\t\tcase HostComponentTag:\n\t\tcase HostHoistableTag:\n\t\tcase HostSingletonTag: return true;\n\t\tdefault: return typeof fiber.type === \"string\";\n\t}\n};\n/**\n* Returns `true` if fiber is a composite fiber. Composite fibers are fibers that can render (like functional components, class components, etc.)\n*\n* @see https://reactnative.dev/architecture/glossary#react-composite-components\n*/\nconst isCompositeFiber = (fiber) => {\n\tswitch (fiber.tag) {\n\t\tcase FunctionComponentTag:\n\t\tcase ClassComponentTag:\n\t\tcase SimpleMemoComponentTag:\n\t\tcase MemoComponentTag:\n\t\tcase ForwardRefTag: return true;\n\t\tdefault: return false;\n\t}\n};\n/**\n* Traverses up or down a {@link Fiber}'s contexts, return `true` to stop and select the current and previous context value.\n*/\nconst traverseContexts = (fiber, selector) => {\n\ttry {\n\t\tconst nextDependencies = fiber.dependencies;\n\t\tconst prevDependencies = fiber.alternate?.dependencies;\n\t\tif (!nextDependencies || !prevDependencies) return false;\n\t\tif (typeof nextDependencies !== \"object\" || !(\"firstContext\" in nextDependencies) || typeof prevDependencies !== \"object\" || !(\"firstContext\" in prevDependencies)) return false;\n\t\tlet nextContext = nextDependencies.firstContext;\n\t\tlet prevContext = prevDependencies.firstContext;\n\t\twhile (nextContext && typeof nextContext === \"object\" && \"memoizedValue\" in nextContext || prevContext && typeof prevContext === \"object\" && \"memoizedValue\" in prevContext) {\n\t\t\tif (selector(nextContext, prevContext) === true) return true;\n\t\t\tnextContext = nextContext?.next;\n\t\t\tprevContext = prevContext?.next;\n\t\t}\n\t} catch {}\n\treturn false;\n};\n/**\n* Traverses up or down a {@link Fiber}'s states, return `true` to stop and select the current and previous state value. This stores both state values and effects.\n*/\nconst traverseState = (fiber, selector) => {\n\ttry {\n\t\tlet nextState = fiber.memoizedState;\n\t\tlet prevState = fiber.alternate?.memoizedState;\n\t\twhile (nextState || prevState) {\n\t\t\tif (selector(nextState, prevState) === true) return true;\n\t\t\tnextState = nextState?.next;\n\t\t\tprevState = prevState?.next;\n\t\t}\n\t} catch {}\n\treturn false;\n};\n/**\n* Traverses up or down a {@link Fiber}'s props, return `true` to stop and select the current and previous props value.\n*/\nconst traverseProps = (fiber, selector) => {\n\ttry {\n\t\tconst nextProps = fiber.memoizedProps;\n\t\tconst prevProps = fiber.alternate?.memoizedProps || {};\n\t\tconst allKeys = new Set([...Object.keys(prevProps), ...Object.keys(nextProps)]);\n\t\tfor (const propName of allKeys) {\n\t\t\tconst prevValue = prevProps?.[propName];\n\t\t\tconst nextValue = nextProps?.[propName];\n\t\t\tif (selector(propName, nextValue, prevValue) === true) return true;\n\t\t}\n\t} catch {}\n\treturn false;\n};\n/**\n* Returns `true` if the {@link Fiber} has rendered. Note that this does not mean the fiber has rendered in the current commit, just that it has rendered in the past.\n*/\nconst didFiberRender = (fiber) => {\n\tconst nextProps = fiber.memoizedProps;\n\tconst prevProps = fiber.alternate?.memoizedProps || {};\n\tconst flags = fiber.flags ?? fiber.effectTag ?? 0;\n\tswitch (fiber.tag) {\n\t\tcase ClassComponentTag:\n\t\tcase FunctionComponentTag:\n\t\tcase ContextConsumerTag:\n\t\tcase ForwardRefTag:\n\t\tcase MemoComponentTag:\n\t\tcase SimpleMemoComponentTag: return (flags & PerformedWork) === PerformedWork;\n\t\tdefault:\n\t\t\tif (!fiber.alternate) return true;\n\t\t\treturn prevProps !== nextProps || fiber.alternate.memoizedState !== fiber.memoizedState || fiber.alternate.ref !== fiber.ref;\n\t}\n};\n/**\n* Returns `true` if the {@link Fiber} has committed. Note that this does not mean the fiber has committed in the current commit, just that it has committed in the past.\n*/\nconst didFiberCommit = (fiber) => {\n\treturn Boolean((fiber.flags & (MutationMask | Cloned)) !== 0 || (fiber.subtreeFlags & (MutationMask | Cloned)) !== 0);\n};\n/**\n* Returns all host {@link Fiber}s that have committed and rendered.\n*/\nconst getMutatedHostFibers = (fiber) => {\n\tconst mutations = [];\n\tconst stack = [fiber];\n\twhile (stack.length) {\n\t\tconst node = stack.pop();\n\t\tif (!node) continue;\n\t\tif (isHostFiber(node) && didFiberCommit(node) && didFiberRender(node)) mutations.push(node);\n\t\tif (node.child) stack.push(node.child);\n\t\tif (node.sibling) stack.push(node.sibling);\n\t}\n\treturn mutations;\n};\n/**\n* Returns the stack of {@link Fiber}s from the current fiber to the root fiber.\n*\n* @example\n* ```ts\n* [fiber, fiber.return, fiber.return.return, ...]\n* ```\n*/\nconst getFiberStack = (fiber) => {\n\tconst stack = [];\n\tlet currentFiber = fiber;\n\twhile (currentFiber.return) {\n\t\tstack.push(currentFiber);\n\t\tcurrentFiber = currentFiber.return;\n\t}\n\treturn stack;\n};\n/**\n* Returns `true` if the {@link Fiber} should be filtered out during reconciliation.\n*/\nconst shouldFilterFiber = (fiber) => {\n\tswitch (fiber.tag) {\n\t\tcase DehydratedSuspenseComponentTag: return true;\n\t\tcase HostTextTag:\n\t\tcase FragmentTag:\n\t\tcase LegacyHiddenComponentTag:\n\t\tcase OffscreenComponentTag: return true;\n\t\tcase HostRootTag: return false;\n\t\tdefault: {\n\t\t\tconst symbolOrNumber = typeof fiber.type === \"object\" && fiber.type !== null ? fiber.type.$$typeof : fiber.type;\n\t\t\tconst typeSymbol = typeof symbolOrNumber === \"symbol\" ? symbolOrNumber.toString() : symbolOrNumber;\n\t\t\tswitch (typeSymbol) {\n\t\t\t\tcase CONCURRENT_MODE_NUMBER:\n\t\t\t\tcase CONCURRENT_MODE_SYMBOL_STRING:\n\t\t\t\tcase DEPRECATED_ASYNC_MODE_SYMBOL_STRING: return true;\n\t\t\t\tdefault: return false;\n\t\t\t}\n\t\t}\n\t}\n};\n/**\n* Returns the nearest host {@link Fiber} to the current {@link Fiber}.\n*/\nconst getNearestHostFiber = (fiber, ascending = false) => {\n\tlet hostFiber = traverseFiber(fiber, isHostFiber, ascending);\n\tif (!hostFiber) hostFiber = traverseFiber(fiber, isHostFiber, !ascending);\n\treturn hostFiber;\n};\n/**\n* Returns all host {@link Fiber}s in the tree that are associated with the current {@link Fiber}.\n*/\nconst getNearestHostFibers = (fiber) => {\n\tconst hostFibers = [];\n\tconst stack = [];\n\tif (isHostFiber(fiber)) hostFibers.push(fiber);\n\telse if (fiber.child) stack.push(fiber.child);\n\twhile (stack.length) {\n\t\tconst currentNode = stack.pop();\n\t\tif (!currentNode) break;\n\t\tif (isHostFiber(currentNode)) hostFibers.push(currentNode);\n\t\telse if (currentNode.child) stack.push(currentNode.child);\n\t\tif (currentNode.sibling) stack.push(currentNode.sibling);\n\t}\n\treturn hostFibers;\n};\n/**\n* Traverses up or down a {@link Fiber}, return `true` to stop and select a node.\n*/\nconst traverseFiber = (fiber, selector, ascending = false) => {\n\tif (!fiber) return null;\n\tif (selector(fiber) === true) return fiber;\n\tlet child = ascending ? fiber.return : fiber.child;\n\twhile (child) {\n\t\tconst match = traverseFiber(child, selector, ascending);\n\t\tif (match) return match;\n\t\tchild = ascending ? null : child.sibling;\n\t}\n\treturn null;\n};\n/**\n* Returns the timings of the {@link Fiber}.\n*\n* @example\n* ```ts\n* const { selfTime, totalTime } = getTimings(fiber);\n* console.log(selfTime, totalTime);\n* ```\n*/\nconst getTimings = (fiber) => {\n\tconst totalTime = fiber?.actualDuration ?? 0;\n\tlet selfTime = totalTime;\n\tlet child = fiber?.child ?? null;\n\twhile (totalTime > 0 && child != null) {\n\t\tselfTime -= child.actualDuration ?? 0;\n\t\tchild = child.sibling;\n\t}\n\treturn {\n\t\tselfTime,\n\t\ttotalTime\n\t};\n};\n/**\n* Returns `true` if the {@link Fiber} uses React Compiler's memo cache.\n*/\nconst hasMemoCache = (fiber) => {\n\treturn Boolean(fiber.updateQueue?.memoCache);\n};\n/**\n* Returns the type (e.g. component definition) of the {@link Fiber}\n*/\nconst getType = (type) => {\n\tconst currentType = type;\n\tif (typeof currentType === \"function\") return currentType;\n\tif (typeof currentType === \"object\" && currentType) return getType(currentType.type || currentType.render);\n\treturn null;\n};\n/**\n* Returns the display name of the {@link Fiber} type.\n*/\nconst getDisplayName = (type) => {\n\tconst currentType = type;\n\tif (typeof currentType === \"string\") return currentType;\n\tif (typeof currentType !== \"function\" && !(typeof currentType === \"object\" && currentType)) return null;\n\tconst name = currentType.displayName || currentType.name || null;\n\tif (name) return name;\n\tconst unwrappedType = getType(currentType);\n\tif (!unwrappedType) return null;\n\treturn unwrappedType.displayName || unwrappedType.name || null;\n};\n/**\n* Returns the build type of the React renderer.\n*/\nconst detectReactBuildType = (renderer) => {\n\ttry {\n\t\tif (typeof renderer.version === \"string\" && renderer.bundleType > 0) return \"development\";\n\t} catch {}\n\treturn \"production\";\n};\n/**\n* Returns `true` if bippy's instrumentation is active.\n*/\nconst isInstrumentationActive = () => {\n\tconst rdtHook = getRDTHook();\n\treturn Boolean(rdtHook._instrumentationIsActive) || isRealReactDevtools() || isReactRefresh();\n};\n/**\n* Returns the latest fiber (since it may be double-buffered).\n*/\nconst getLatestFiber = (fiber) => {\n\tconst alternate = fiber.alternate;\n\tif (!alternate) return fiber;\n\tif (alternate.actualStartTime && fiber.actualStartTime) return alternate.actualStartTime > fiber.actualStartTime ? alternate : fiber;\n\tfor (const root of _fiberRoots) {\n\t\tconst latestFiber = traverseFiber(root.current, (innerFiber) => {\n\t\t\tif (innerFiber === fiber) return true;\n\t\t});\n\t\tif (latestFiber) return latestFiber;\n\t}\n\treturn fiber;\n};\nlet fiberId = 0;\nconst fiberIdMap = new WeakMap();\nconst setFiberId = (fiber, id = fiberId++) => {\n\tfiberIdMap.set(fiber, id);\n};\nconst getFiberId = (fiber) => {\n\tlet id = fiberIdMap.get(fiber);\n\tif (!id && fiber.alternate) id = fiberIdMap.get(fiber.alternate);\n\tif (!id) {\n\t\tid = fiberId++;\n\t\tsetFiberId(fiber, id);\n\t}\n\treturn id;\n};\nconst mountFiberRecursively = (onRender, firstChild, traverseSiblings) => {\n\tlet fiber = firstChild;\n\twhile (fiber != null) {\n\t\tif (!fiberIdMap.has(fiber)) getFiberId(fiber);\n\t\tconst shouldIncludeInTree = !shouldFilterFiber(fiber);\n\t\tif (shouldIncludeInTree && didFiberRender(fiber)) onRender(fiber, \"mount\");\n\t\tif (fiber.tag === SuspenseComponentTag) {\n\t\t\tconst isTimedOut = fiber.memoizedState !== null;\n\t\t\tif (isTimedOut) {\n\t\t\t\tconst primaryChildFragment = fiber.child;\n\t\t\t\tconst fallbackChildFragment = primaryChildFragment ? primaryChildFragment.sibling : null;\n\t\t\t\tif (fallbackChildFragment) {\n\t\t\t\t\tconst fallbackChild = fallbackChildFragment.child;\n\t\t\t\t\tif (fallbackChild !== null) mountFiberRecursively(onRender, fallbackChild, false);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet primaryChild = null;\n\t\t\t\tconst areSuspenseChildrenConditionallyWrapped = OffscreenComponentTag === -1;\n\t\t\t\tif (areSuspenseChildrenConditionallyWrapped) primaryChild = fiber.child;\n\t\t\t\telse if (fiber.child !== null) primaryChild = fiber.child.child;\n\t\t\t\tif (primaryChild !== null) mountFiberRecursively(onRender, primaryChild, false);\n\t\t\t}\n\t\t} else if (fiber.child != null) mountFiberRecursively(onRender, fiber.child, true);\n\t\tfiber = traverseSiblings ? fiber.sibling : null;\n\t}\n};\nconst updateFiberRecursively = (onRender, nextFiber, prevFiber, parentFiber) => {\n\tif (!fiberIdMap.has(nextFiber)) getFiberId(nextFiber);\n\tif (!prevFiber) return;\n\tif (!fiberIdMap.has(prevFiber)) getFiberId(prevFiber);\n\tconst isSuspense = nextFiber.tag === SuspenseComponentTag;\n\tconst shouldIncludeInTree = !shouldFilterFiber(nextFiber);\n\tif (shouldIncludeInTree && didFiberRender(nextFiber)) onRender(nextFiber, \"update\");\n\tconst prevDidTimeout = isSuspense && prevFiber.memoizedState !== null;\n\tconst nextDidTimeOut = isSuspense && nextFiber.memoizedState !== null;\n\tif (prevDidTimeout && nextDidTimeOut) {\n\t\tconst nextFallbackChildSet = nextFiber.child?.sibling ?? null;\n\t\tconst prevFallbackChildSet = prevFiber.child?.sibling ?? null;\n\t\tif (nextFallbackChildSet !== null && prevFallbackChildSet !== null) updateFiberRecursively(onRender, nextFallbackChildSet, prevFallbackChildSet, nextFiber);\n\t} else if (prevDidTimeout && !nextDidTimeOut) {\n\t\tconst nextPrimaryChildSet = nextFiber.child;\n\t\tif (nextPrimaryChildSet !== null) mountFiberRecursively(onRender, nextPrimaryChildSet, true);\n\t} else if (!prevDidTimeout && nextDidTimeOut) {\n\t\tunmountFiberChildrenRecursively(onRender, prevFiber);\n\t\tconst nextFallbackChildSet = nextFiber.child?.sibling ?? null;\n\t\tif (nextFallbackChildSet !== null) mountFiberRecursively(onRender, nextFallbackChildSet, true);\n\t} else if (nextFiber.child !== prevFiber.child) {\n\t\tlet nextChild = nextFiber.child;\n\t\twhile (nextChild) {\n\t\t\tif (nextChild.alternate) {\n\t\t\t\tconst prevChild = nextChild.alternate;\n\t\t\t\tupdateFiberRecursively(onRender, nextChild, prevChild, shouldIncludeInTree ? nextFiber : parentFiber);\n\t\t\t} else mountFiberRecursively(onRender, nextChild, false);\n\t\t\tnextChild = nextChild.sibling;\n\t\t}\n\t}\n};\nconst unmountFiber = (onRender, fiber) => {\n\tconst isRoot = fiber.tag === HostRootTag;\n\tif (isRoot || !shouldFilterFiber(fiber)) onRender(fiber, \"unmount\");\n};\nconst unmountFiberChildrenRecursively = (onRender, fiber) => {\n\tconst isTimedOutSuspense = fiber.tag === SuspenseComponentTag && fiber.memoizedState !== null;\n\tlet child = fiber.child;\n\tif (isTimedOutSuspense) {\n\t\tconst primaryChildFragment = fiber.child;\n\t\tconst fallbackChildFragment = primaryChildFragment?.sibling ?? null;\n\t\tchild = fallbackChildFragment?.child ?? null;\n\t}\n\twhile (child !== null) {\n\t\tif (child.return !== null) {\n\t\t\tunmountFiber(onRender, child);\n\t\t\tunmountFiberChildrenRecursively(onRender, child);\n\t\t}\n\t\tchild = child.sibling;\n\t}\n};\nlet commitId = 0;\nconst rootInstanceMap = new WeakMap();\n/**\n* Creates a fiber visitor function. Must pass a fiber root and a render handler.\n* @example\n* traverseRenderedFibers(root, (fiber, phase) => {\n*   console.log(phase)\n* })\n*/\nconst traverseRenderedFibers = (root, onRender) => {\n\tconst fiber = \"current\" in root ? root.current : root;\n\tlet rootInstance = rootInstanceMap.get(root);\n\tif (!rootInstance) {\n\t\trootInstance = {\n\t\t\tprevFiber: null,\n\t\t\tid: commitId++\n\t\t};\n\t\trootInstanceMap.set(root, rootInstance);\n\t}\n\tconst { prevFiber } = rootInstance;\n\tif (!fiber) unmountFiber(onRender, fiber);\n\telse if (prevFiber !== null) {\n\t\tconst wasMounted = prevFiber && prevFiber.memoizedState != null && prevFiber.memoizedState.element != null && prevFiber.memoizedState.isDehydrated !== true;\n\t\tconst isMounted = fiber.memoizedState != null && fiber.memoizedState.element != null && fiber.memoizedState.isDehydrated !== true;\n\t\tif (!wasMounted && isMounted) mountFiberRecursively(onRender, fiber, false);\n\t\telse if (wasMounted && isMounted) updateFiberRecursively(onRender, fiber, fiber.alternate, null);\n\t\telse if (wasMounted && !isMounted) unmountFiber(onRender, fiber);\n\t} else mountFiberRecursively(onRender, fiber, true);\n\trootInstance.prevFiber = fiber;\n};\n/**\n* @deprecated use `traverseRenderedFibers` instead\n*/\nconst createFiberVisitor = ({ onRender }) => {\n\treturn (_rendererID, root, _state) => {\n\t\ttraverseRenderedFibers(root, onRender);\n\t};\n};\n/**\n* Instruments the DevTools hook.\n* @example\n* const hook = instrument({\n*   onActive() {\n*     console.log('initialized');\n*   },\n*   onCommitFiberRoot(rendererID, root) {\n*     console.log('fiberRoot', root.current)\n*   },\n* });\n*/\nconst instrument = (options) => {\n\treturn getRDTHook(() => {\n\t\tconst rdtHook = getRDTHook();\n\t\toptions.onActive?.();\n\t\trdtHook._instrumentationSource = options.name ?? BIPPY_INSTRUMENTATION_STRING;\n\t\tconst prevOnCommitFiberRoot = rdtHook.onCommitFiberRoot;\n\t\tif (options.onCommitFiberRoot) rdtHook.onCommitFiberRoot = (rendererID, root, priority) => {\n\t\t\tif (prevOnCommitFiberRoot) prevOnCommitFiberRoot(rendererID, root, priority);\n\t\t\toptions.onCommitFiberRoot?.(rendererID, root, priority);\n\t\t};\n\t\tconst prevOnCommitFiberUnmount = rdtHook.onCommitFiberUnmount;\n\t\tif (options.onCommitFiberUnmount) rdtHook.onCommitFiberUnmount = (rendererID, root) => {\n\t\t\tif (prevOnCommitFiberUnmount) prevOnCommitFiberUnmount(rendererID, root);\n\t\t\toptions.onCommitFiberUnmount?.(rendererID, root);\n\t\t};\n\t\tconst prevOnPostCommitFiberRoot = rdtHook.onPostCommitFiberRoot;\n\t\tif (options.onPostCommitFiberRoot) rdtHook.onPostCommitFiberRoot = (rendererID, root) => {\n\t\t\tif (prevOnPostCommitFiberRoot) prevOnPostCommitFiberRoot(rendererID, root);\n\t\t\toptions.onPostCommitFiberRoot?.(rendererID, root);\n\t\t};\n\t});\n};\nconst getFiberFromHostInstance = (hostInstance) => {\n\tconst rdtHook = getRDTHook();\n\tfor (const renderer of rdtHook.renderers.values()) try {\n\t\tconst fiber = renderer.findFiberByHostInstance?.(hostInstance);\n\t\tif (fiber) return fiber;\n\t} catch {}\n\tif (typeof hostInstance === \"object\" && hostInstance != null) {\n\t\tif (\"_reactRootContainer\" in hostInstance) return hostInstance._reactRootContainer?._internalRoot?.current?.child;\n\t\tfor (const key in hostInstance) if (key.startsWith(\"__reactInternalInstance$\") || key.startsWith(\"__reactFiber\")) return hostInstance[key] || null;\n\t}\n\treturn null;\n};\nconst INSTALL_ERROR = new Error();\nconst _fiberRoots = new Set();\nconst secure = (options, secureOptions = {}) => {\n\tconst onActive = options.onActive;\n\tconst isRDTHookInstalled = hasRDTHook();\n\tconst isUsingRealReactDevtools = isRealReactDevtools();\n\tconst isUsingReactRefresh = isReactRefresh();\n\tlet timeout;\n\tlet isProduction = secureOptions.isProduction ?? false;\n\toptions.onActive = () => {\n\t\tclearTimeout(timeout);\n\t\tlet isSecure = true;\n\t\ttry {\n\t\t\tconst rdtHook = getRDTHook();\n\t\t\tfor (const renderer of rdtHook.renderers.values()) {\n\t\t\t\tconst [majorVersion] = renderer.version.split(\".\");\n\t\t\t\tif (Number(majorVersion) < (secureOptions.minReactMajorVersion ?? 17)) isSecure = false;\n\t\t\t\tconst buildType = detectReactBuildType(renderer);\n\t\t\t\tif (buildType !== \"development\") {\n\t\t\t\t\tisProduction = true;\n\t\t\t\t\tif (!secureOptions.dangerouslyRunInProduction) isSecure = false;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsecureOptions.onError?.(err);\n\t\t}\n\t\tif (!isSecure) {\n\t\t\toptions.onCommitFiberRoot = void 0;\n\t\t\toptions.onCommitFiberUnmount = void 0;\n\t\t\toptions.onPostCommitFiberRoot = void 0;\n\t\t\toptions.onActive = void 0;\n\t\t\treturn;\n\t\t}\n\t\tonActive?.();\n\t\ttry {\n\t\t\tconst onCommitFiberRoot$1 = options.onCommitFiberRoot;\n\t\t\tif (onCommitFiberRoot$1) options.onCommitFiberRoot = (rendererID, root, priority) => {\n\t\t\t\tif (!_fiberRoots.has(root)) _fiberRoots.add(root);\n\t\t\t\ttry {\n\t\t\t\t\tonCommitFiberRoot$1(rendererID, root, priority);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsecureOptions.onError?.(err);\n\t\t\t\t}\n\t\t\t};\n\t\t\tconst onCommitFiberUnmount = options.onCommitFiberUnmount;\n\t\t\tif (onCommitFiberUnmount) options.onCommitFiberUnmount = (rendererID, root) => {\n\t\t\t\ttry {\n\t\t\t\t\tonCommitFiberUnmount(rendererID, root);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsecureOptions.onError?.(err);\n\t\t\t\t}\n\t\t\t};\n\t\t\tconst onPostCommitFiberRoot = options.onPostCommitFiberRoot;\n\t\t\tif (onPostCommitFiberRoot) options.onPostCommitFiberRoot = (rendererID, root) => {\n\t\t\t\ttry {\n\t\t\t\t\tonPostCommitFiberRoot(rendererID, root);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsecureOptions.onError?.(err);\n\t\t\t\t}\n\t\t\t};\n\t\t} catch (err) {\n\t\t\tsecureOptions.onError?.(err);\n\t\t}\n\t};\n\tif (!isRDTHookInstalled && !isUsingRealReactDevtools && !isUsingReactRefresh) timeout = setTimeout(() => {\n\t\tif (!isProduction) secureOptions.onError?.(INSTALL_ERROR);\n\t\tstop();\n\t}, secureOptions.installCheckTimeout ?? 100);\n\treturn options;\n};\n/**\n* a wrapper around the {@link instrument} function that sets the `onCommitFiberRoot` hook.\n*\n* @example\n* onCommitFiberRoot((root) => {\n*   console.log(root.current);\n* });\n*/\nconst onCommitFiberRoot = (handler) => {\n\treturn instrument(secure({ onCommitFiberRoot: (_, root) => {\n\t\thandler(root);\n\t} }));\n};\n\n//#endregion\nexport { CONCURRENT_MODE_NUMBER, CONCURRENT_MODE_SYMBOL_STRING, ClassComponentTag, ContextConsumerTag, DEPRECATED_ASYNC_MODE_SYMBOL_STRING, DehydratedSuspenseComponentTag, ELEMENT_TYPE_SYMBOL_STRING, ForwardRefTag, FragmentTag, FunctionComponentTag, HostComponentTag, HostHoistableTag, HostRootTag, HostSingletonTag, HostTextTag, INSTALL_ERROR, INSTALL_HOOK_SCRIPT_STRING, LegacyHiddenComponentTag, MemoComponentTag, OffscreenComponentTag, SimpleMemoComponentTag, SuspenseComponentTag, TRANSITIONAL_ELEMENT_TYPE_SYMBOL_STRING, _fiberRoots, createFiberVisitor, detectReactBuildType, didFiberCommit, didFiberRender, fiberIdMap, getDisplayName, getFiberFromHostInstance, getFiberId, getFiberStack, getLatestFiber, getMutatedHostFibers, getNearestHostFiber, getNearestHostFibers, getTimings, getType, hasMemoCache, instrument, isCompositeFiber, isHostFiber, isInstrumentationActive, isValidElement, isValidFiber, mountFiberRecursively, onCommitFiberRoot, secure, setFiberId, shouldFilterFiber, traverseContexts, traverseFiber, traverseProps, traverseRenderedFibers, traverseState, unmountFiber, unmountFiberChildrenRecursively, updateFiberRecursively };","/**\n * @license bippy\n *\n * Copyright (c) Aiden Bai\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport { safelyInstallRDTHook$1 as safelyInstallRDTHook } from \"./rdt-hook-D8LwQB-4.js\";\n\n//#region src/index.ts\nsafelyInstallRDTHook();\n\n//#endregion","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useLayoutEffect as s,useEffect as h,useCallback as v,useContext as d,useDebugValue as m,useId as p,useImperativeHandle as y,useMemo as _,useReducer as b,useRef as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function E(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function C(n,t){var e=t(),r=a({t:{__:e,u:t}}),u=r[0].t,o=r[1];return s(function(){u.__=e,u.u=t,x(u)&&o({t:u})},[n,e,t]),h(function(){return x(u)&&o({t:u}),n(function(){x(u)&&o({t:u})})},[n]),e}function x(n){var t,e,r=n.u,u=n.__;try{var o=r();return!((t=u)===(e=o)&&(0!==t||1/t==1/e)||t!=t&&e!=e)}catch(n){return!0}}function R(n){n()}function w(n){return n}function k(){return[!1,R]}var I=s;function N(n,t){this.props=n,this.context=t}function M(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:E(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(N.prototype=new n).isPureReactComponent=!0,N.prototype.shouldComponentUpdate=function(n,t){return E(this.props,n)||E(this.state,t)};var T=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),T&&T(n)};var A=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function D(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=A,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var L=function(n,t){return null==n?null:r(r(n).map(t))},O={map:L,forEach:L,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},F=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);F(n,t,e,r)};var U=e.unmount;function V(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c.__e=!0,n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return V(n,t,e)})),n}function W(n,t,e){return n&&e&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return W(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=e)),n}function P(){this.__u=0,this.o=null,this.__b=null}function j(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function z(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function B(){this.i=null,this.l=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&32&n.__u&&(n.type=null),U&&U(n)},(P.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.o&&(r.o=[]),r.o.push(e);var u=j(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=W(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.o.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},P.prototype.componentWillUnmount=function(){this.o=[]},P.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=V(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__u&=-33),[t(u,null,e.__a?null:n.children),i]};var H=function(n,t,e){if(++e[1]===e[0]&&n.l.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.l.size))for(e=n.i;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.i=e=e[2]}};function Z(n){return this.getChildContext=function(){return n.context},n.children}function Y(n){var e=this,r=n.h;if(e.componentWillUnmount=function(){o(null,e.v),e.v=null,e.h=null},e.h&&e.h!==r&&e.componentWillUnmount(),!e.v){for(var u=e.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;e.h=r,e.v={nodeType:1,parentNode:r,childNodes:[],__k:{__m:u.__m},contains:function(){return!0},insertBefore:function(n,t){this.childNodes.push(n),e.h.insertBefore(n,t)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.h.removeChild(n)}}}o(t(Z,{context:e.context},n.__v),e.v)}function $(n,e){var r=t(Y,{__v:n,h:e});return r.containerInfo=e,r}(B.prototype=new n).__a=function(n){var t=this,e=j(t.__v),r=t.l.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),H(t,n,r)):u()};e?e(o):o()}},B.prototype.render=function(n){this.i=null,this.l=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.l.set(t[e],this.i=[1,0,this.i]);return n.children},B.prototype.componentDidUpdate=B.prototype.componentDidMount=function(){var n=this;this.l.forEach(function(t,e){H(n,e,t)})};var q=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,G=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,J=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,K=/[A-Z0-9]/g,Q=\"undefined\"!=typeof document,X=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};function nn(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function tn(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var en=e.event;function rn(){}function un(){return this.cancelBubble}function on(){return this.defaultPrevented}e.event=function(n){return en&&(n=en(n)),n.persist=rn,n.isPropagationStopped=un,n.isDefaultPrevented=on,n.nativeEvent=n};var ln,cn={enumerable:!1,configurable:!0,get:function(){return this.class}},fn=e.vnode;e.vnode=function(n){\"string\"==typeof n.type&&function(n){var t=n.props,e=n.type,u={},o=-1===e.indexOf(\"-\");for(var i in t){var l=t[i];if(!(\"value\"===i&&\"defaultValue\"in t&&null==l||Q&&\"children\"===i&&\"noscript\"===e||\"class\"===i||\"className\"===i)){var c=i.toLowerCase();\"defaultValue\"===i&&\"value\"in t&&null==t.value?i=\"value\":\"download\"===i&&!0===l?l=\"\":\"translate\"===c&&\"no\"===l?l=!1:\"o\"===c[0]&&\"n\"===c[1]?\"ondoubleclick\"===c?i=\"ondblclick\":\"onchange\"!==c||\"input\"!==e&&\"textarea\"!==e||X(t.type)?\"onfocus\"===c?i=\"onfocusin\":\"onblur\"===c?i=\"onfocusout\":J.test(i)&&(i=c):c=i=\"oninput\":o&&G.test(i)?i=i.replace(K,\"-$&\").toLowerCase():null===l&&(l=void 0),\"oninput\"===c&&u[i=c]&&(i=\"oninputCapture\"),u[i]=l}}\"select\"==e&&u.multiple&&Array.isArray(u.value)&&(u.value=r(t.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==e&&null!=u.defaultValue&&(u.value=r(t.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),t.class&&!t.className?(u.class=t.class,Object.defineProperty(u,\"className\",cn)):(t.className&&!t.class||t.class&&t.className)&&(u.class=u.className=t.className),n.props=u}(n),n.$$typeof=q,fn&&fn(n)};var an=e.__r;e.__r=function(n){an&&an(n),ln=n.__c};var sn=e.diffed;e.diffed=function(n){sn&&sn(n);var t=n.props,e=n.__e;null!=e&&\"textarea\"===n.type&&\"value\"in t&&t.value!==e.value&&(e.value=null==t.value?\"\":t.value),ln=null};var hn={ReactCurrentDispatcher:{current:{readContext:function(n){return ln.__n[n.__c].props.value},useCallback:v,useContext:d,useDebugValue:m,useDeferredValue:w,useEffect:h,useId:p,useImperativeHandle:y,useInsertionEffect:I,useLayoutEffect:s,useMemo:_,useReducer:b,useRef:S,useState:a,useSyncExternalStore:C,useTransition:k}}},vn=\"18.3.1\";function dn(n){return t.bind(null,n)}function mn(n){return!!n&&n.$$typeof===q}function pn(n){return mn(n)&&n.type===u}function yn(n){return!!n&&!!n.displayName&&(\"string\"==typeof n.displayName||n.displayName instanceof String)&&n.displayName.startsWith(\"Memo(\")}function _n(n){return mn(n)?f.apply(null,arguments):n}function bn(n){return!!n.__k&&(o(null,n),!0)}function Sn(n){return n&&(n.base||1===n.nodeType&&n)||null}var gn=function(n,t){return n(t)},En=function(n,t){return n(t)},Cn=u,xn=mn,Rn={useState:a,useId:p,useReducer:b,useEffect:h,useLayoutEffect:s,useInsertionEffect:I,useTransition:k,useDeferredValue:w,useSyncExternalStore:C,startTransition:R,useRef:S,useImperativeHandle:y,useMemo:_,useCallback:v,useContext:d,useDebugValue:m,version:\"18.3.1\",Children:O,render:nn,hydrate:tn,unmountComponentAtNode:bn,createPortal:$,createElement:t,createContext:l,createFactory:dn,cloneElement:_n,createRef:c,Fragment:u,isValidElement:mn,isElement:xn,isFragment:pn,isMemo:yn,findDOMNode:Sn,Component:n,PureComponent:N,memo:M,forwardRef:D,flushSync:En,unstable_batchedUpdates:gn,StrictMode:Cn,Suspense:P,SuspenseList:B,lazy:z,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:hn};export{O as Children,N as PureComponent,Cn as StrictMode,P as Suspense,B as SuspenseList,hn as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_n as cloneElement,dn as createFactory,$ as createPortal,Rn as default,Sn as findDOMNode,En as flushSync,D as forwardRef,tn as hydrate,xn as isElement,pn as isFragment,yn as isMemo,mn as isValidElement,z as lazy,M as memo,nn as render,R as startTransition,bn as unmountComponentAtNode,gn as unstable_batchedUpdates,w as useDeferredValue,I as useInsertionEffect,C as useSyncExternalStore,k as useTransition,vn as version};\n//# sourceMappingURL=compat.module.js.map\n","import type { JSX } from \"preact\"\nimport { type ForwardedRef, forwardRef } from \"preact/compat\"\n\ninterface SVGIconProps {\n\tsize?: number | Array<number>\n\tname: string\n\tfill?: string\n\tstroke?: string\n\tclassName?: string\n\texternalURL?: string\n\tstyle?: JSX.CSSProperties\n}\n\nexport const Icon = forwardRef(\n\t(\n\t\t{\n\t\t\tsize = 15,\n\t\t\tname,\n\t\t\tfill = \"currentColor\",\n\t\t\tstroke = \"currentColor\",\n\t\t\tclassName,\n\t\t\texternalURL = \"\",\n\t\t\tstyle,\n\t\t}: SVGIconProps,\n\t\tref: ForwardedRef<SVGSVGElement>,\n\t) => {\n\t\tconst width = Array.isArray(size) ? size[0] : size\n\t\tconst height = Array.isArray(size) ? size[1] || size[0] : size\n\n\t\tconst path = `${externalURL}#${name}`\n\n\t\treturn (\n\t\t\t<svg\n\t\t\t\tref={ref}\n\t\t\t\twidth={`${width}px`}\n\t\t\t\theight={`${height}px`}\n\t\t\t\tfill={fill}\n\t\t\t\tstroke={stroke}\n\t\t\t\tclassName={className}\n\t\t\t\tstyle={{\n\t\t\t\t\t...style,\n\t\t\t\t\tminWidth: `${width}px`,\n\t\t\t\t\tmaxWidth: `${width}px`,\n\t\t\t\t\tminHeight: `${height}px`,\n\t\t\t\t\tmaxHeight: `${height}px`,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<title>{name}</title>\n\t\t\t\t<use href={path} />\n\t\t\t</svg>\n\t\t)\n\t},\n)\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","export const IS_CLIENT = typeof window !== \"undefined\"\n","const CLASS_PART_SEPARATOR = '-';\nconst createClassGroupUtils = config => {\n  const classMap = createClassMap(config);\n  const {\n    conflictingClassGroups,\n    conflictingClassGroupModifiers\n  } = config;\n  const getClassGroupId = className => {\n    const classParts = className.split(CLASS_PART_SEPARATOR);\n    // Classes like `-inset-1` produce an empty string as first classPart. We assume that classes for negative values are used correctly and remove it from classParts.\n    if (classParts[0] === '' && classParts.length !== 1) {\n      classParts.shift();\n    }\n    return getGroupRecursive(classParts, classMap) || getGroupIdForArbitraryProperty(className);\n  };\n  const getConflictingClassGroupIds = (classGroupId, hasPostfixModifier) => {\n    const conflicts = conflictingClassGroups[classGroupId] || [];\n    if (hasPostfixModifier && conflictingClassGroupModifiers[classGroupId]) {\n      return [...conflicts, ...conflictingClassGroupModifiers[classGroupId]];\n    }\n    return conflicts;\n  };\n  return {\n    getClassGroupId,\n    getConflictingClassGroupIds\n  };\n};\nconst getGroupRecursive = (classParts, classPartObject) => {\n  if (classParts.length === 0) {\n    return classPartObject.classGroupId;\n  }\n  const currentClassPart = classParts[0];\n  const nextClassPartObject = classPartObject.nextPart.get(currentClassPart);\n  const classGroupFromNextClassPart = nextClassPartObject ? getGroupRecursive(classParts.slice(1), nextClassPartObject) : undefined;\n  if (classGroupFromNextClassPart) {\n    return classGroupFromNextClassPart;\n  }\n  if (classPartObject.validators.length === 0) {\n    return undefined;\n  }\n  const classRest = classParts.join(CLASS_PART_SEPARATOR);\n  return classPartObject.validators.find(({\n    validator\n  }) => validator(classRest))?.classGroupId;\n};\nconst arbitraryPropertyRegex = /^\\[(.+)\\]$/;\nconst getGroupIdForArbitraryProperty = className => {\n  if (arbitraryPropertyRegex.test(className)) {\n    const arbitraryPropertyClassName = arbitraryPropertyRegex.exec(className)[1];\n    const property = arbitraryPropertyClassName?.substring(0, arbitraryPropertyClassName.indexOf(':'));\n    if (property) {\n      // I use two dots here because one dot is used as prefix for class groups in plugins\n      return 'arbitrary..' + property;\n    }\n  }\n};\n/**\n * Exported for testing only\n */\nconst createClassMap = config => {\n  const {\n    theme,\n    classGroups\n  } = config;\n  const classMap = {\n    nextPart: new Map(),\n    validators: []\n  };\n  for (const classGroupId in classGroups) {\n    processClassesRecursively(classGroups[classGroupId], classMap, classGroupId, theme);\n  }\n  return classMap;\n};\nconst processClassesRecursively = (classGroup, classPartObject, classGroupId, theme) => {\n  classGroup.forEach(classDefinition => {\n    if (typeof classDefinition === 'string') {\n      const classPartObjectToEdit = classDefinition === '' ? classPartObject : getPart(classPartObject, classDefinition);\n      classPartObjectToEdit.classGroupId = classGroupId;\n      return;\n    }\n    if (typeof classDefinition === 'function') {\n      if (isThemeGetter(classDefinition)) {\n        processClassesRecursively(classDefinition(theme), classPartObject, classGroupId, theme);\n        return;\n      }\n      classPartObject.validators.push({\n        validator: classDefinition,\n        classGroupId\n      });\n      return;\n    }\n    Object.entries(classDefinition).forEach(([key, classGroup]) => {\n      processClassesRecursively(classGroup, getPart(classPartObject, key), classGroupId, theme);\n    });\n  });\n};\nconst getPart = (classPartObject, path) => {\n  let currentClassPartObject = classPartObject;\n  path.split(CLASS_PART_SEPARATOR).forEach(pathPart => {\n    if (!currentClassPartObject.nextPart.has(pathPart)) {\n      currentClassPartObject.nextPart.set(pathPart, {\n        nextPart: new Map(),\n        validators: []\n      });\n    }\n    currentClassPartObject = currentClassPartObject.nextPart.get(pathPart);\n  });\n  return currentClassPartObject;\n};\nconst isThemeGetter = func => func.isThemeGetter;\n\n// LRU cache inspired from hashlru (https://github.com/dominictarr/hashlru/blob/v1.0.4/index.js) but object replaced with Map to improve performance\nconst createLruCache = maxCacheSize => {\n  if (maxCacheSize < 1) {\n    return {\n      get: () => undefined,\n      set: () => {}\n    };\n  }\n  let cacheSize = 0;\n  let cache = new Map();\n  let previousCache = new Map();\n  const update = (key, value) => {\n    cache.set(key, value);\n    cacheSize++;\n    if (cacheSize > maxCacheSize) {\n      cacheSize = 0;\n      previousCache = cache;\n      cache = new Map();\n    }\n  };\n  return {\n    get(key) {\n      let value = cache.get(key);\n      if (value !== undefined) {\n        return value;\n      }\n      if ((value = previousCache.get(key)) !== undefined) {\n        update(key, value);\n        return value;\n      }\n    },\n    set(key, value) {\n      if (cache.has(key)) {\n        cache.set(key, value);\n      } else {\n        update(key, value);\n      }\n    }\n  };\n};\nconst IMPORTANT_MODIFIER = '!';\nconst MODIFIER_SEPARATOR = ':';\nconst MODIFIER_SEPARATOR_LENGTH = MODIFIER_SEPARATOR.length;\nconst createParseClassName = config => {\n  const {\n    prefix,\n    experimentalParseClassName\n  } = config;\n  /**\n   * Parse class name into parts.\n   *\n   * Inspired by `splitAtTopLevelOnly` used in Tailwind CSS\n   * @see https://github.com/tailwindlabs/tailwindcss/blob/v3.2.2/src/util/splitAtTopLevelOnly.js\n   */\n  let parseClassName = className => {\n    const modifiers = [];\n    let bracketDepth = 0;\n    let parenDepth = 0;\n    let modifierStart = 0;\n    let postfixModifierPosition;\n    for (let index = 0; index < className.length; index++) {\n      let currentCharacter = className[index];\n      if (bracketDepth === 0 && parenDepth === 0) {\n        if (currentCharacter === MODIFIER_SEPARATOR) {\n          modifiers.push(className.slice(modifierStart, index));\n          modifierStart = index + MODIFIER_SEPARATOR_LENGTH;\n          continue;\n        }\n        if (currentCharacter === '/') {\n          postfixModifierPosition = index;\n          continue;\n        }\n      }\n      if (currentCharacter === '[') {\n        bracketDepth++;\n      } else if (currentCharacter === ']') {\n        bracketDepth--;\n      } else if (currentCharacter === '(') {\n        parenDepth++;\n      } else if (currentCharacter === ')') {\n        parenDepth--;\n      }\n    }\n    const baseClassNameWithImportantModifier = modifiers.length === 0 ? className : className.substring(modifierStart);\n    const baseClassName = stripImportantModifier(baseClassNameWithImportantModifier);\n    const hasImportantModifier = baseClassName !== baseClassNameWithImportantModifier;\n    const maybePostfixModifierPosition = postfixModifierPosition && postfixModifierPosition > modifierStart ? postfixModifierPosition - modifierStart : undefined;\n    return {\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    };\n  };\n  if (prefix) {\n    const fullPrefix = prefix + MODIFIER_SEPARATOR;\n    const parseClassNameOriginal = parseClassName;\n    parseClassName = className => className.startsWith(fullPrefix) ? parseClassNameOriginal(className.substring(fullPrefix.length)) : {\n      isExternal: true,\n      modifiers: [],\n      hasImportantModifier: false,\n      baseClassName: className,\n      maybePostfixModifierPosition: undefined\n    };\n  }\n  if (experimentalParseClassName) {\n    const parseClassNameOriginal = parseClassName;\n    parseClassName = className => experimentalParseClassName({\n      className,\n      parseClassName: parseClassNameOriginal\n    });\n  }\n  return parseClassName;\n};\nconst stripImportantModifier = baseClassName => {\n  if (baseClassName.endsWith(IMPORTANT_MODIFIER)) {\n    return baseClassName.substring(0, baseClassName.length - 1);\n  }\n  /**\n   * In Tailwind CSS v3 the important modifier was at the start of the base class name. This is still supported for legacy reasons.\n   * @see https://github.com/dcastil/tailwind-merge/issues/513#issuecomment-2614029864\n   */\n  if (baseClassName.startsWith(IMPORTANT_MODIFIER)) {\n    return baseClassName.substring(1);\n  }\n  return baseClassName;\n};\n\n/**\n * Sorts modifiers according to following schema:\n * - Predefined modifiers are sorted alphabetically\n * - When an arbitrary variant appears, it must be preserved which modifiers are before and after it\n */\nconst createSortModifiers = config => {\n  const orderSensitiveModifiers = Object.fromEntries(config.orderSensitiveModifiers.map(modifier => [modifier, true]));\n  const sortModifiers = modifiers => {\n    if (modifiers.length <= 1) {\n      return modifiers;\n    }\n    const sortedModifiers = [];\n    let unsortedModifiers = [];\n    modifiers.forEach(modifier => {\n      const isPositionSensitive = modifier[0] === '[' || orderSensitiveModifiers[modifier];\n      if (isPositionSensitive) {\n        sortedModifiers.push(...unsortedModifiers.sort(), modifier);\n        unsortedModifiers = [];\n      } else {\n        unsortedModifiers.push(modifier);\n      }\n    });\n    sortedModifiers.push(...unsortedModifiers.sort());\n    return sortedModifiers;\n  };\n  return sortModifiers;\n};\nconst createConfigUtils = config => ({\n  cache: createLruCache(config.cacheSize),\n  parseClassName: createParseClassName(config),\n  sortModifiers: createSortModifiers(config),\n  ...createClassGroupUtils(config)\n});\nconst SPLIT_CLASSES_REGEX = /\\s+/;\nconst mergeClassList = (classList, configUtils) => {\n  const {\n    parseClassName,\n    getClassGroupId,\n    getConflictingClassGroupIds,\n    sortModifiers\n  } = configUtils;\n  /**\n   * Set of classGroupIds in following format:\n   * `{importantModifier}{variantModifiers}{classGroupId}`\n   * @example 'float'\n   * @example 'hover:focus:bg-color'\n   * @example 'md:!pr'\n   */\n  const classGroupsInConflict = [];\n  const classNames = classList.trim().split(SPLIT_CLASSES_REGEX);\n  let result = '';\n  for (let index = classNames.length - 1; index >= 0; index -= 1) {\n    const originalClassName = classNames[index];\n    const {\n      isExternal,\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    } = parseClassName(originalClassName);\n    if (isExternal) {\n      result = originalClassName + (result.length > 0 ? ' ' + result : result);\n      continue;\n    }\n    let hasPostfixModifier = !!maybePostfixModifierPosition;\n    let classGroupId = getClassGroupId(hasPostfixModifier ? baseClassName.substring(0, maybePostfixModifierPosition) : baseClassName);\n    if (!classGroupId) {\n      if (!hasPostfixModifier) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      classGroupId = getClassGroupId(baseClassName);\n      if (!classGroupId) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      hasPostfixModifier = false;\n    }\n    const variantModifier = sortModifiers(modifiers).join(':');\n    const modifierId = hasImportantModifier ? variantModifier + IMPORTANT_MODIFIER : variantModifier;\n    const classId = modifierId + classGroupId;\n    if (classGroupsInConflict.includes(classId)) {\n      // Tailwind class omitted due to conflict\n      continue;\n    }\n    classGroupsInConflict.push(classId);\n    const conflictGroups = getConflictingClassGroupIds(classGroupId, hasPostfixModifier);\n    for (let i = 0; i < conflictGroups.length; ++i) {\n      const group = conflictGroups[i];\n      classGroupsInConflict.push(modifierId + group);\n    }\n    // Tailwind class not in conflict\n    result = originalClassName + (result.length > 0 ? ' ' + result : result);\n  }\n  return result;\n};\n\n/**\n * The code in this file is copied from https://github.com/lukeed/clsx and modified to suit the needs of tailwind-merge better.\n *\n * Specifically:\n * - Runtime code from https://github.com/lukeed/clsx/blob/v1.2.1/src/index.js\n * - TypeScript types from https://github.com/lukeed/clsx/blob/v1.2.1/clsx.d.ts\n *\n * Original code has MIT license: Copyright (c) Luke Edwards <luke.edwards05@gmail.com> (lukeed.com)\n */\nfunction twJoin() {\n  let index = 0;\n  let argument;\n  let resolvedValue;\n  let string = '';\n  while (index < arguments.length) {\n    if (argument = arguments[index++]) {\n      if (resolvedValue = toValue(argument)) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n}\nconst toValue = mix => {\n  if (typeof mix === 'string') {\n    return mix;\n  }\n  let resolvedValue;\n  let string = '';\n  for (let k = 0; k < mix.length; k++) {\n    if (mix[k]) {\n      if (resolvedValue = toValue(mix[k])) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n};\nfunction createTailwindMerge(createConfigFirst, ...createConfigRest) {\n  let configUtils;\n  let cacheGet;\n  let cacheSet;\n  let functionToCall = initTailwindMerge;\n  function initTailwindMerge(classList) {\n    const config = createConfigRest.reduce((previousConfig, createConfigCurrent) => createConfigCurrent(previousConfig), createConfigFirst());\n    configUtils = createConfigUtils(config);\n    cacheGet = configUtils.cache.get;\n    cacheSet = configUtils.cache.set;\n    functionToCall = tailwindMerge;\n    return tailwindMerge(classList);\n  }\n  function tailwindMerge(classList) {\n    const cachedResult = cacheGet(classList);\n    if (cachedResult) {\n      return cachedResult;\n    }\n    const result = mergeClassList(classList, configUtils);\n    cacheSet(classList, result);\n    return result;\n  }\n  return function callTailwindMerge() {\n    return functionToCall(twJoin.apply(null, arguments));\n  };\n}\nconst fromTheme = key => {\n  const themeGetter = theme => theme[key] || [];\n  themeGetter.isThemeGetter = true;\n  return themeGetter;\n};\nconst arbitraryValueRegex = /^\\[(?:(\\w[\\w-]*):)?(.+)\\]$/i;\nconst arbitraryVariableRegex = /^\\((?:(\\w[\\w-]*):)?(.+)\\)$/i;\nconst fractionRegex = /^\\d+\\/\\d+$/;\nconst tshirtUnitRegex = /^(\\d+(\\.\\d+)?)?(xs|sm|md|lg|xl)$/;\nconst lengthUnitRegex = /\\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\\b(calc|min|max|clamp)\\(.+\\)|^0$/;\nconst colorFunctionRegex = /^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\\(.+\\)$/;\n// Shadow always begins with x and y offset separated by underscore optionally prepended by inset\nconst shadowRegex = /^(inset_)?-?((\\d+)?\\.?(\\d+)[a-z]+|0)_-?((\\d+)?\\.?(\\d+)[a-z]+|0)/;\nconst imageRegex = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\\(.+\\)$/;\nconst isFraction = value => fractionRegex.test(value);\nconst isNumber = value => !!value && !Number.isNaN(Number(value));\nconst isInteger = value => !!value && Number.isInteger(Number(value));\nconst isPercent = value => value.endsWith('%') && isNumber(value.slice(0, -1));\nconst isTshirtSize = value => tshirtUnitRegex.test(value);\nconst isAny = () => true;\nconst isLengthOnly = value =>\n// `colorFunctionRegex` check is necessary because color functions can have percentages in them which which would be incorrectly classified as lengths.\n// For example, `hsl(0 0% 0%)` would be classified as a length without this check.\n// I could also use lookbehind assertion in `lengthUnitRegex` but that isn't supported widely enough.\nlengthUnitRegex.test(value) && !colorFunctionRegex.test(value);\nconst isNever = () => false;\nconst isShadow = value => shadowRegex.test(value);\nconst isImage = value => imageRegex.test(value);\nconst isAnyNonArbitrary = value => !isArbitraryValue(value) && !isArbitraryVariable(value);\nconst isArbitrarySize = value => getIsArbitraryValue(value, isLabelSize, isNever);\nconst isArbitraryValue = value => arbitraryValueRegex.test(value);\nconst isArbitraryLength = value => getIsArbitraryValue(value, isLabelLength, isLengthOnly);\nconst isArbitraryNumber = value => getIsArbitraryValue(value, isLabelNumber, isNumber);\nconst isArbitraryPosition = value => getIsArbitraryValue(value, isLabelPosition, isNever);\nconst isArbitraryImage = value => getIsArbitraryValue(value, isLabelImage, isImage);\nconst isArbitraryShadow = value => getIsArbitraryValue(value, isLabelShadow, isShadow);\nconst isArbitraryVariable = value => arbitraryVariableRegex.test(value);\nconst isArbitraryVariableLength = value => getIsArbitraryVariable(value, isLabelLength);\nconst isArbitraryVariableFamilyName = value => getIsArbitraryVariable(value, isLabelFamilyName);\nconst isArbitraryVariablePosition = value => getIsArbitraryVariable(value, isLabelPosition);\nconst isArbitraryVariableSize = value => getIsArbitraryVariable(value, isLabelSize);\nconst isArbitraryVariableImage = value => getIsArbitraryVariable(value, isLabelImage);\nconst isArbitraryVariableShadow = value => getIsArbitraryVariable(value, isLabelShadow, true);\n// Helpers\nconst getIsArbitraryValue = (value, testLabel, testValue) => {\n  const result = arbitraryValueRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return testLabel(result[1]);\n    }\n    return testValue(result[2]);\n  }\n  return false;\n};\nconst getIsArbitraryVariable = (value, testLabel, shouldMatchNoLabel = false) => {\n  const result = arbitraryVariableRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return testLabel(result[1]);\n    }\n    return shouldMatchNoLabel;\n  }\n  return false;\n};\n// Labels\nconst isLabelPosition = label => label === 'position' || label === 'percentage';\nconst isLabelImage = label => label === 'image' || label === 'url';\nconst isLabelSize = label => label === 'length' || label === 'size' || label === 'bg-size';\nconst isLabelLength = label => label === 'length';\nconst isLabelNumber = label => label === 'number';\nconst isLabelFamilyName = label => label === 'family-name';\nconst isLabelShadow = label => label === 'shadow';\nconst validators = /*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  isAny,\n  isAnyNonArbitrary,\n  isArbitraryImage,\n  isArbitraryLength,\n  isArbitraryNumber,\n  isArbitraryPosition,\n  isArbitraryShadow,\n  isArbitrarySize,\n  isArbitraryValue,\n  isArbitraryVariable,\n  isArbitraryVariableFamilyName,\n  isArbitraryVariableImage,\n  isArbitraryVariableLength,\n  isArbitraryVariablePosition,\n  isArbitraryVariableShadow,\n  isArbitraryVariableSize,\n  isFraction,\n  isInteger,\n  isNumber,\n  isPercent,\n  isTshirtSize\n}, Symbol.toStringTag, {\n  value: 'Module'\n});\nconst getDefaultConfig = () => {\n  /**\n   * Theme getters for theme variable namespaces\n   * @see https://tailwindcss.com/docs/theme#theme-variable-namespaces\n   */\n  /***/\n  const themeColor = fromTheme('color');\n  const themeFont = fromTheme('font');\n  const themeText = fromTheme('text');\n  const themeFontWeight = fromTheme('font-weight');\n  const themeTracking = fromTheme('tracking');\n  const themeLeading = fromTheme('leading');\n  const themeBreakpoint = fromTheme('breakpoint');\n  const themeContainer = fromTheme('container');\n  const themeSpacing = fromTheme('spacing');\n  const themeRadius = fromTheme('radius');\n  const themeShadow = fromTheme('shadow');\n  const themeInsetShadow = fromTheme('inset-shadow');\n  const themeTextShadow = fromTheme('text-shadow');\n  const themeDropShadow = fromTheme('drop-shadow');\n  const themeBlur = fromTheme('blur');\n  const themePerspective = fromTheme('perspective');\n  const themeAspect = fromTheme('aspect');\n  const themeEase = fromTheme('ease');\n  const themeAnimate = fromTheme('animate');\n  /**\n   * Helpers to avoid repeating the same scales\n   *\n   * We use functions that create a new array every time they're called instead of static arrays.\n   * This ensures that users who modify any scale by mutating the array (e.g. with `array.push(element)`) don't accidentally mutate arrays in other parts of the config.\n   */\n  /***/\n  const scaleBreak = () => ['auto', 'avoid', 'all', 'avoid-page', 'page', 'left', 'right', 'column'];\n  const scalePosition = () => ['center', 'top', 'bottom', 'left', 'right', 'top-left',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'left-top', 'top-right',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'right-top', 'bottom-right',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'right-bottom', 'bottom-left',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'left-bottom'];\n  const scalePositionWithArbitrary = () => [...scalePosition(), isArbitraryVariable, isArbitraryValue];\n  const scaleOverflow = () => ['auto', 'hidden', 'clip', 'visible', 'scroll'];\n  const scaleOverscroll = () => ['auto', 'contain', 'none'];\n  const scaleUnambiguousSpacing = () => [isArbitraryVariable, isArbitraryValue, themeSpacing];\n  const scaleInset = () => [isFraction, 'full', 'auto', ...scaleUnambiguousSpacing()];\n  const scaleGridTemplateColsRows = () => [isInteger, 'none', 'subgrid', isArbitraryVariable, isArbitraryValue];\n  const scaleGridColRowStartAndEnd = () => ['auto', {\n    span: ['full', isInteger, isArbitraryVariable, isArbitraryValue]\n  }, isInteger, isArbitraryVariable, isArbitraryValue];\n  const scaleGridColRowStartOrEnd = () => [isInteger, 'auto', isArbitraryVariable, isArbitraryValue];\n  const scaleGridAutoColsRows = () => ['auto', 'min', 'max', 'fr', isArbitraryVariable, isArbitraryValue];\n  const scaleAlignPrimaryAxis = () => ['start', 'end', 'center', 'between', 'around', 'evenly', 'stretch', 'baseline', 'center-safe', 'end-safe'];\n  const scaleAlignSecondaryAxis = () => ['start', 'end', 'center', 'stretch', 'center-safe', 'end-safe'];\n  const scaleMargin = () => ['auto', ...scaleUnambiguousSpacing()];\n  const scaleSizing = () => [isFraction, 'auto', 'full', 'dvw', 'dvh', 'lvw', 'lvh', 'svw', 'svh', 'min', 'max', 'fit', ...scaleUnambiguousSpacing()];\n  const scaleColor = () => [themeColor, isArbitraryVariable, isArbitraryValue];\n  const scaleBgPosition = () => [...scalePosition(), isArbitraryVariablePosition, isArbitraryPosition, {\n    position: [isArbitraryVariable, isArbitraryValue]\n  }];\n  const scaleBgRepeat = () => ['no-repeat', {\n    repeat: ['', 'x', 'y', 'space', 'round']\n  }];\n  const scaleBgSize = () => ['auto', 'cover', 'contain', isArbitraryVariableSize, isArbitrarySize, {\n    size: [isArbitraryVariable, isArbitraryValue]\n  }];\n  const scaleGradientStopPosition = () => [isPercent, isArbitraryVariableLength, isArbitraryLength];\n  const scaleRadius = () => [\n  // Deprecated since Tailwind CSS v4.0.0\n  '', 'none', 'full', themeRadius, isArbitraryVariable, isArbitraryValue];\n  const scaleBorderWidth = () => ['', isNumber, isArbitraryVariableLength, isArbitraryLength];\n  const scaleLineStyle = () => ['solid', 'dashed', 'dotted', 'double'];\n  const scaleBlendMode = () => ['normal', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\n  const scaleMaskImagePosition = () => [isNumber, isPercent, isArbitraryVariablePosition, isArbitraryPosition];\n  const scaleBlur = () => [\n  // Deprecated since Tailwind CSS v4.0.0\n  '', 'none', themeBlur, isArbitraryVariable, isArbitraryValue];\n  const scaleRotate = () => ['none', isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleScale = () => ['none', isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleSkew = () => [isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleTranslate = () => [isFraction, 'full', ...scaleUnambiguousSpacing()];\n  return {\n    cacheSize: 500,\n    theme: {\n      animate: ['spin', 'ping', 'pulse', 'bounce'],\n      aspect: ['video'],\n      blur: [isTshirtSize],\n      breakpoint: [isTshirtSize],\n      color: [isAny],\n      container: [isTshirtSize],\n      'drop-shadow': [isTshirtSize],\n      ease: ['in', 'out', 'in-out'],\n      font: [isAnyNonArbitrary],\n      'font-weight': ['thin', 'extralight', 'light', 'normal', 'medium', 'semibold', 'bold', 'extrabold', 'black'],\n      'inset-shadow': [isTshirtSize],\n      leading: ['none', 'tight', 'snug', 'normal', 'relaxed', 'loose'],\n      perspective: ['dramatic', 'near', 'normal', 'midrange', 'distant', 'none'],\n      radius: [isTshirtSize],\n      shadow: [isTshirtSize],\n      spacing: ['px', isNumber],\n      text: [isTshirtSize],\n      'text-shadow': [isTshirtSize],\n      tracking: ['tighter', 'tight', 'normal', 'wide', 'wider', 'widest']\n    },\n    classGroups: {\n      // --------------\n      // --- Layout ---\n      // --------------\n      /**\n       * Aspect Ratio\n       * @see https://tailwindcss.com/docs/aspect-ratio\n       */\n      aspect: [{\n        aspect: ['auto', 'square', isFraction, isArbitraryValue, isArbitraryVariable, themeAspect]\n      }],\n      /**\n       * Container\n       * @see https://tailwindcss.com/docs/container\n       * @deprecated since Tailwind CSS v4.0.0\n       */\n      container: ['container'],\n      /**\n       * Columns\n       * @see https://tailwindcss.com/docs/columns\n       */\n      columns: [{\n        columns: [isNumber, isArbitraryValue, isArbitraryVariable, themeContainer]\n      }],\n      /**\n       * Break After\n       * @see https://tailwindcss.com/docs/break-after\n       */\n      'break-after': [{\n        'break-after': scaleBreak()\n      }],\n      /**\n       * Break Before\n       * @see https://tailwindcss.com/docs/break-before\n       */\n      'break-before': [{\n        'break-before': scaleBreak()\n      }],\n      /**\n       * Break Inside\n       * @see https://tailwindcss.com/docs/break-inside\n       */\n      'break-inside': [{\n        'break-inside': ['auto', 'avoid', 'avoid-page', 'avoid-column']\n      }],\n      /**\n       * Box Decoration Break\n       * @see https://tailwindcss.com/docs/box-decoration-break\n       */\n      'box-decoration': [{\n        'box-decoration': ['slice', 'clone']\n      }],\n      /**\n       * Box Sizing\n       * @see https://tailwindcss.com/docs/box-sizing\n       */\n      box: [{\n        box: ['border', 'content']\n      }],\n      /**\n       * Display\n       * @see https://tailwindcss.com/docs/display\n       */\n      display: ['block', 'inline-block', 'inline', 'flex', 'inline-flex', 'table', 'inline-table', 'table-caption', 'table-cell', 'table-column', 'table-column-group', 'table-footer-group', 'table-header-group', 'table-row-group', 'table-row', 'flow-root', 'grid', 'inline-grid', 'contents', 'list-item', 'hidden'],\n      /**\n       * Screen Reader Only\n       * @see https://tailwindcss.com/docs/display#screen-reader-only\n       */\n      sr: ['sr-only', 'not-sr-only'],\n      /**\n       * Floats\n       * @see https://tailwindcss.com/docs/float\n       */\n      float: [{\n        float: ['right', 'left', 'none', 'start', 'end']\n      }],\n      /**\n       * Clear\n       * @see https://tailwindcss.com/docs/clear\n       */\n      clear: [{\n        clear: ['left', 'right', 'both', 'none', 'start', 'end']\n      }],\n      /**\n       * Isolation\n       * @see https://tailwindcss.com/docs/isolation\n       */\n      isolation: ['isolate', 'isolation-auto'],\n      /**\n       * Object Fit\n       * @see https://tailwindcss.com/docs/object-fit\n       */\n      'object-fit': [{\n        object: ['contain', 'cover', 'fill', 'none', 'scale-down']\n      }],\n      /**\n       * Object Position\n       * @see https://tailwindcss.com/docs/object-position\n       */\n      'object-position': [{\n        object: scalePositionWithArbitrary()\n      }],\n      /**\n       * Overflow\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      overflow: [{\n        overflow: scaleOverflow()\n      }],\n      /**\n       * Overflow X\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-x': [{\n        'overflow-x': scaleOverflow()\n      }],\n      /**\n       * Overflow Y\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-y': [{\n        'overflow-y': scaleOverflow()\n      }],\n      /**\n       * Overscroll Behavior\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      overscroll: [{\n        overscroll: scaleOverscroll()\n      }],\n      /**\n       * Overscroll Behavior X\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-x': [{\n        'overscroll-x': scaleOverscroll()\n      }],\n      /**\n       * Overscroll Behavior Y\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-y': [{\n        'overscroll-y': scaleOverscroll()\n      }],\n      /**\n       * Position\n       * @see https://tailwindcss.com/docs/position\n       */\n      position: ['static', 'fixed', 'absolute', 'relative', 'sticky'],\n      /**\n       * Top / Right / Bottom / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      inset: [{\n        inset: scaleInset()\n      }],\n      /**\n       * Right / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-x': [{\n        'inset-x': scaleInset()\n      }],\n      /**\n       * Top / Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-y': [{\n        'inset-y': scaleInset()\n      }],\n      /**\n       * Start\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      start: [{\n        start: scaleInset()\n      }],\n      /**\n       * End\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      end: [{\n        end: scaleInset()\n      }],\n      /**\n       * Top\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      top: [{\n        top: scaleInset()\n      }],\n      /**\n       * Right\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      right: [{\n        right: scaleInset()\n      }],\n      /**\n       * Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      bottom: [{\n        bottom: scaleInset()\n      }],\n      /**\n       * Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      left: [{\n        left: scaleInset()\n      }],\n      /**\n       * Visibility\n       * @see https://tailwindcss.com/docs/visibility\n       */\n      visibility: ['visible', 'invisible', 'collapse'],\n      /**\n       * Z-Index\n       * @see https://tailwindcss.com/docs/z-index\n       */\n      z: [{\n        z: [isInteger, 'auto', isArbitraryVariable, isArbitraryValue]\n      }],\n      // ------------------------\n      // --- Flexbox and Grid ---\n      // ------------------------\n      /**\n       * Flex Basis\n       * @see https://tailwindcss.com/docs/flex-basis\n       */\n      basis: [{\n        basis: [isFraction, 'full', 'auto', themeContainer, ...scaleUnambiguousSpacing()]\n      }],\n      /**\n       * Flex Direction\n       * @see https://tailwindcss.com/docs/flex-direction\n       */\n      'flex-direction': [{\n        flex: ['row', 'row-reverse', 'col', 'col-reverse']\n      }],\n      /**\n       * Flex Wrap\n       * @see https://tailwindcss.com/docs/flex-wrap\n       */\n      'flex-wrap': [{\n        flex: ['nowrap', 'wrap', 'wrap-reverse']\n      }],\n      /**\n       * Flex\n       * @see https://tailwindcss.com/docs/flex\n       */\n      flex: [{\n        flex: [isNumber, isFraction, 'auto', 'initial', 'none', isArbitraryValue]\n      }],\n      /**\n       * Flex Grow\n       * @see https://tailwindcss.com/docs/flex-grow\n       */\n      grow: [{\n        grow: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Flex Shrink\n       * @see https://tailwindcss.com/docs/flex-shrink\n       */\n      shrink: [{\n        shrink: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Order\n       * @see https://tailwindcss.com/docs/order\n       */\n      order: [{\n        order: [isInteger, 'first', 'last', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Grid Template Columns\n       * @see https://tailwindcss.com/docs/grid-template-columns\n       */\n      'grid-cols': [{\n        'grid-cols': scaleGridTemplateColsRows()\n      }],\n      /**\n       * Grid Column Start / End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start-end': [{\n        col: scaleGridColRowStartAndEnd()\n      }],\n      /**\n       * Grid Column Start\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start': [{\n        'col-start': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Column End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-end': [{\n        'col-end': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Template Rows\n       * @see https://tailwindcss.com/docs/grid-template-rows\n       */\n      'grid-rows': [{\n        'grid-rows': scaleGridTemplateColsRows()\n      }],\n      /**\n       * Grid Row Start / End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start-end': [{\n        row: scaleGridColRowStartAndEnd()\n      }],\n      /**\n       * Grid Row Start\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start': [{\n        'row-start': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Row End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-end': [{\n        'row-end': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Auto Flow\n       * @see https://tailwindcss.com/docs/grid-auto-flow\n       */\n      'grid-flow': [{\n        'grid-flow': ['row', 'col', 'dense', 'row-dense', 'col-dense']\n      }],\n      /**\n       * Grid Auto Columns\n       * @see https://tailwindcss.com/docs/grid-auto-columns\n       */\n      'auto-cols': [{\n        'auto-cols': scaleGridAutoColsRows()\n      }],\n      /**\n       * Grid Auto Rows\n       * @see https://tailwindcss.com/docs/grid-auto-rows\n       */\n      'auto-rows': [{\n        'auto-rows': scaleGridAutoColsRows()\n      }],\n      /**\n       * Gap\n       * @see https://tailwindcss.com/docs/gap\n       */\n      gap: [{\n        gap: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Gap X\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-x': [{\n        'gap-x': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Gap Y\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-y': [{\n        'gap-y': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Justify Content\n       * @see https://tailwindcss.com/docs/justify-content\n       */\n      'justify-content': [{\n        justify: [...scaleAlignPrimaryAxis(), 'normal']\n      }],\n      /**\n       * Justify Items\n       * @see https://tailwindcss.com/docs/justify-items\n       */\n      'justify-items': [{\n        'justify-items': [...scaleAlignSecondaryAxis(), 'normal']\n      }],\n      /**\n       * Justify Self\n       * @see https://tailwindcss.com/docs/justify-self\n       */\n      'justify-self': [{\n        'justify-self': ['auto', ...scaleAlignSecondaryAxis()]\n      }],\n      /**\n       * Align Content\n       * @see https://tailwindcss.com/docs/align-content\n       */\n      'align-content': [{\n        content: ['normal', ...scaleAlignPrimaryAxis()]\n      }],\n      /**\n       * Align Items\n       * @see https://tailwindcss.com/docs/align-items\n       */\n      'align-items': [{\n        items: [...scaleAlignSecondaryAxis(), {\n          baseline: ['', 'last']\n        }]\n      }],\n      /**\n       * Align Self\n       * @see https://tailwindcss.com/docs/align-self\n       */\n      'align-self': [{\n        self: ['auto', ...scaleAlignSecondaryAxis(), {\n          baseline: ['', 'last']\n        }]\n      }],\n      /**\n       * Place Content\n       * @see https://tailwindcss.com/docs/place-content\n       */\n      'place-content': [{\n        'place-content': scaleAlignPrimaryAxis()\n      }],\n      /**\n       * Place Items\n       * @see https://tailwindcss.com/docs/place-items\n       */\n      'place-items': [{\n        'place-items': [...scaleAlignSecondaryAxis(), 'baseline']\n      }],\n      /**\n       * Place Self\n       * @see https://tailwindcss.com/docs/place-self\n       */\n      'place-self': [{\n        'place-self': ['auto', ...scaleAlignSecondaryAxis()]\n      }],\n      // Spacing\n      /**\n       * Padding\n       * @see https://tailwindcss.com/docs/padding\n       */\n      p: [{\n        p: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding X\n       * @see https://tailwindcss.com/docs/padding\n       */\n      px: [{\n        px: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Y\n       * @see https://tailwindcss.com/docs/padding\n       */\n      py: [{\n        py: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Start\n       * @see https://tailwindcss.com/docs/padding\n       */\n      ps: [{\n        ps: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding End\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pe: [{\n        pe: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Top\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pt: [{\n        pt: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Right\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pr: [{\n        pr: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Bottom\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pb: [{\n        pb: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Left\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pl: [{\n        pl: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Margin\n       * @see https://tailwindcss.com/docs/margin\n       */\n      m: [{\n        m: scaleMargin()\n      }],\n      /**\n       * Margin X\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mx: [{\n        mx: scaleMargin()\n      }],\n      /**\n       * Margin Y\n       * @see https://tailwindcss.com/docs/margin\n       */\n      my: [{\n        my: scaleMargin()\n      }],\n      /**\n       * Margin Start\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ms: [{\n        ms: scaleMargin()\n      }],\n      /**\n       * Margin End\n       * @see https://tailwindcss.com/docs/margin\n       */\n      me: [{\n        me: scaleMargin()\n      }],\n      /**\n       * Margin Top\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mt: [{\n        mt: scaleMargin()\n      }],\n      /**\n       * Margin Right\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mr: [{\n        mr: scaleMargin()\n      }],\n      /**\n       * Margin Bottom\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mb: [{\n        mb: scaleMargin()\n      }],\n      /**\n       * Margin Left\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ml: [{\n        ml: scaleMargin()\n      }],\n      /**\n       * Space Between X\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-x': [{\n        'space-x': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Space Between X Reverse\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-x-reverse': ['space-x-reverse'],\n      /**\n       * Space Between Y\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-y': [{\n        'space-y': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Space Between Y Reverse\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-y-reverse': ['space-y-reverse'],\n      // --------------\n      // --- Sizing ---\n      // --------------\n      /**\n       * Size\n       * @see https://tailwindcss.com/docs/width#setting-both-width-and-height\n       */\n      size: [{\n        size: scaleSizing()\n      }],\n      /**\n       * Width\n       * @see https://tailwindcss.com/docs/width\n       */\n      w: [{\n        w: [themeContainer, 'screen', ...scaleSizing()]\n      }],\n      /**\n       * Min-Width\n       * @see https://tailwindcss.com/docs/min-width\n       */\n      'min-w': [{\n        'min-w': [themeContainer, 'screen', /** Deprecated. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        'none', ...scaleSizing()]\n      }],\n      /**\n       * Max-Width\n       * @see https://tailwindcss.com/docs/max-width\n       */\n      'max-w': [{\n        'max-w': [themeContainer, 'screen', 'none', /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        'prose', /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        {\n          screen: [themeBreakpoint]\n        }, ...scaleSizing()]\n      }],\n      /**\n       * Height\n       * @see https://tailwindcss.com/docs/height\n       */\n      h: [{\n        h: ['screen', 'lh', ...scaleSizing()]\n      }],\n      /**\n       * Min-Height\n       * @see https://tailwindcss.com/docs/min-height\n       */\n      'min-h': [{\n        'min-h': ['screen', 'lh', 'none', ...scaleSizing()]\n      }],\n      /**\n       * Max-Height\n       * @see https://tailwindcss.com/docs/max-height\n       */\n      'max-h': [{\n        'max-h': ['screen', 'lh', ...scaleSizing()]\n      }],\n      // ------------------\n      // --- Typography ---\n      // ------------------\n      /**\n       * Font Size\n       * @see https://tailwindcss.com/docs/font-size\n       */\n      'font-size': [{\n        text: ['base', themeText, isArbitraryVariableLength, isArbitraryLength]\n      }],\n      /**\n       * Font Smoothing\n       * @see https://tailwindcss.com/docs/font-smoothing\n       */\n      'font-smoothing': ['antialiased', 'subpixel-antialiased'],\n      /**\n       * Font Style\n       * @see https://tailwindcss.com/docs/font-style\n       */\n      'font-style': ['italic', 'not-italic'],\n      /**\n       * Font Weight\n       * @see https://tailwindcss.com/docs/font-weight\n       */\n      'font-weight': [{\n        font: [themeFontWeight, isArbitraryVariable, isArbitraryNumber]\n      }],\n      /**\n       * Font Stretch\n       * @see https://tailwindcss.com/docs/font-stretch\n       */\n      'font-stretch': [{\n        'font-stretch': ['ultra-condensed', 'extra-condensed', 'condensed', 'semi-condensed', 'normal', 'semi-expanded', 'expanded', 'extra-expanded', 'ultra-expanded', isPercent, isArbitraryValue]\n      }],\n      /**\n       * Font Family\n       * @see https://tailwindcss.com/docs/font-family\n       */\n      'font-family': [{\n        font: [isArbitraryVariableFamilyName, isArbitraryValue, themeFont]\n      }],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-normal': ['normal-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-ordinal': ['ordinal'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-slashed-zero': ['slashed-zero'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-figure': ['lining-nums', 'oldstyle-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-spacing': ['proportional-nums', 'tabular-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-fraction': ['diagonal-fractions', 'stacked-fractions'],\n      /**\n       * Letter Spacing\n       * @see https://tailwindcss.com/docs/letter-spacing\n       */\n      tracking: [{\n        tracking: [themeTracking, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Line Clamp\n       * @see https://tailwindcss.com/docs/line-clamp\n       */\n      'line-clamp': [{\n        'line-clamp': [isNumber, 'none', isArbitraryVariable, isArbitraryNumber]\n      }],\n      /**\n       * Line Height\n       * @see https://tailwindcss.com/docs/line-height\n       */\n      leading: [{\n        leading: [/** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        themeLeading, ...scaleUnambiguousSpacing()]\n      }],\n      /**\n       * List Style Image\n       * @see https://tailwindcss.com/docs/list-style-image\n       */\n      'list-image': [{\n        'list-image': ['none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * List Style Position\n       * @see https://tailwindcss.com/docs/list-style-position\n       */\n      'list-style-position': [{\n        list: ['inside', 'outside']\n      }],\n      /**\n       * List Style Type\n       * @see https://tailwindcss.com/docs/list-style-type\n       */\n      'list-style-type': [{\n        list: ['disc', 'decimal', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Text Alignment\n       * @see https://tailwindcss.com/docs/text-align\n       */\n      'text-alignment': [{\n        text: ['left', 'center', 'right', 'justify', 'start', 'end']\n      }],\n      /**\n       * Placeholder Color\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://v3.tailwindcss.com/docs/placeholder-color\n       */\n      'placeholder-color': [{\n        placeholder: scaleColor()\n      }],\n      /**\n       * Text Color\n       * @see https://tailwindcss.com/docs/text-color\n       */\n      'text-color': [{\n        text: scaleColor()\n      }],\n      /**\n       * Text Decoration\n       * @see https://tailwindcss.com/docs/text-decoration\n       */\n      'text-decoration': ['underline', 'overline', 'line-through', 'no-underline'],\n      /**\n       * Text Decoration Style\n       * @see https://tailwindcss.com/docs/text-decoration-style\n       */\n      'text-decoration-style': [{\n        decoration: [...scaleLineStyle(), 'wavy']\n      }],\n      /**\n       * Text Decoration Thickness\n       * @see https://tailwindcss.com/docs/text-decoration-thickness\n       */\n      'text-decoration-thickness': [{\n        decoration: [isNumber, 'from-font', 'auto', isArbitraryVariable, isArbitraryLength]\n      }],\n      /**\n       * Text Decoration Color\n       * @see https://tailwindcss.com/docs/text-decoration-color\n       */\n      'text-decoration-color': [{\n        decoration: scaleColor()\n      }],\n      /**\n       * Text Underline Offset\n       * @see https://tailwindcss.com/docs/text-underline-offset\n       */\n      'underline-offset': [{\n        'underline-offset': [isNumber, 'auto', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Text Transform\n       * @see https://tailwindcss.com/docs/text-transform\n       */\n      'text-transform': ['uppercase', 'lowercase', 'capitalize', 'normal-case'],\n      /**\n       * Text Overflow\n       * @see https://tailwindcss.com/docs/text-overflow\n       */\n      'text-overflow': ['truncate', 'text-ellipsis', 'text-clip'],\n      /**\n       * Text Wrap\n       * @see https://tailwindcss.com/docs/text-wrap\n       */\n      'text-wrap': [{\n        text: ['wrap', 'nowrap', 'balance', 'pretty']\n      }],\n      /**\n       * Text Indent\n       * @see https://tailwindcss.com/docs/text-indent\n       */\n      indent: [{\n        indent: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Vertical Alignment\n       * @see https://tailwindcss.com/docs/vertical-align\n       */\n      'vertical-align': [{\n        align: ['baseline', 'top', 'middle', 'bottom', 'text-top', 'text-bottom', 'sub', 'super', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Whitespace\n       * @see https://tailwindcss.com/docs/whitespace\n       */\n      whitespace: [{\n        whitespace: ['normal', 'nowrap', 'pre', 'pre-line', 'pre-wrap', 'break-spaces']\n      }],\n      /**\n       * Word Break\n       * @see https://tailwindcss.com/docs/word-break\n       */\n      break: [{\n        break: ['normal', 'words', 'all', 'keep']\n      }],\n      /**\n       * Overflow Wrap\n       * @see https://tailwindcss.com/docs/overflow-wrap\n       */\n      wrap: [{\n        wrap: ['break-word', 'anywhere', 'normal']\n      }],\n      /**\n       * Hyphens\n       * @see https://tailwindcss.com/docs/hyphens\n       */\n      hyphens: [{\n        hyphens: ['none', 'manual', 'auto']\n      }],\n      /**\n       * Content\n       * @see https://tailwindcss.com/docs/content\n       */\n      content: [{\n        content: ['none', isArbitraryVariable, isArbitraryValue]\n      }],\n      // -------------------\n      // --- Backgrounds ---\n      // -------------------\n      /**\n       * Background Attachment\n       * @see https://tailwindcss.com/docs/background-attachment\n       */\n      'bg-attachment': [{\n        bg: ['fixed', 'local', 'scroll']\n      }],\n      /**\n       * Background Clip\n       * @see https://tailwindcss.com/docs/background-clip\n       */\n      'bg-clip': [{\n        'bg-clip': ['border', 'padding', 'content', 'text']\n      }],\n      /**\n       * Background Origin\n       * @see https://tailwindcss.com/docs/background-origin\n       */\n      'bg-origin': [{\n        'bg-origin': ['border', 'padding', 'content']\n      }],\n      /**\n       * Background Position\n       * @see https://tailwindcss.com/docs/background-position\n       */\n      'bg-position': [{\n        bg: scaleBgPosition()\n      }],\n      /**\n       * Background Repeat\n       * @see https://tailwindcss.com/docs/background-repeat\n       */\n      'bg-repeat': [{\n        bg: scaleBgRepeat()\n      }],\n      /**\n       * Background Size\n       * @see https://tailwindcss.com/docs/background-size\n       */\n      'bg-size': [{\n        bg: scaleBgSize()\n      }],\n      /**\n       * Background Image\n       * @see https://tailwindcss.com/docs/background-image\n       */\n      'bg-image': [{\n        bg: ['none', {\n          linear: [{\n            to: ['t', 'tr', 'r', 'br', 'b', 'bl', 'l', 'tl']\n          }, isInteger, isArbitraryVariable, isArbitraryValue],\n          radial: ['', isArbitraryVariable, isArbitraryValue],\n          conic: [isInteger, isArbitraryVariable, isArbitraryValue]\n        }, isArbitraryVariableImage, isArbitraryImage]\n      }],\n      /**\n       * Background Color\n       * @see https://tailwindcss.com/docs/background-color\n       */\n      'bg-color': [{\n        bg: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops From Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from-pos': [{\n        from: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops Via Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via-pos': [{\n        via: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops To Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to-pos': [{\n        to: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops From\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from': [{\n        from: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops Via\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via': [{\n        via: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops To\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to': [{\n        to: scaleColor()\n      }],\n      // ---------------\n      // --- Borders ---\n      // ---------------\n      /**\n       * Border Radius\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      rounded: [{\n        rounded: scaleRadius()\n      }],\n      /**\n       * Border Radius Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-s': [{\n        'rounded-s': scaleRadius()\n      }],\n      /**\n       * Border Radius End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-e': [{\n        'rounded-e': scaleRadius()\n      }],\n      /**\n       * Border Radius Top\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-t': [{\n        'rounded-t': scaleRadius()\n      }],\n      /**\n       * Border Radius Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-r': [{\n        'rounded-r': scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-b': [{\n        'rounded-b': scaleRadius()\n      }],\n      /**\n       * Border Radius Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-l': [{\n        'rounded-l': scaleRadius()\n      }],\n      /**\n       * Border Radius Start Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ss': [{\n        'rounded-ss': scaleRadius()\n      }],\n      /**\n       * Border Radius Start End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-se': [{\n        'rounded-se': scaleRadius()\n      }],\n      /**\n       * Border Radius End End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ee': [{\n        'rounded-ee': scaleRadius()\n      }],\n      /**\n       * Border Radius End Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-es': [{\n        'rounded-es': scaleRadius()\n      }],\n      /**\n       * Border Radius Top Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tl': [{\n        'rounded-tl': scaleRadius()\n      }],\n      /**\n       * Border Radius Top Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tr': [{\n        'rounded-tr': scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-br': [{\n        'rounded-br': scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-bl': [{\n        'rounded-bl': scaleRadius()\n      }],\n      /**\n       * Border Width\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w': [{\n        border: scaleBorderWidth()\n      }],\n      /**\n       * Border Width X\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-x': [{\n        'border-x': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Y\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-y': [{\n        'border-y': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Start\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-s': [{\n        'border-s': scaleBorderWidth()\n      }],\n      /**\n       * Border Width End\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-e': [{\n        'border-e': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Top\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-t': [{\n        'border-t': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Right\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-r': [{\n        'border-r': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Bottom\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-b': [{\n        'border-b': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Left\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-l': [{\n        'border-l': scaleBorderWidth()\n      }],\n      /**\n       * Divide Width X\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-x': [{\n        'divide-x': scaleBorderWidth()\n      }],\n      /**\n       * Divide Width X Reverse\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-x-reverse': ['divide-x-reverse'],\n      /**\n       * Divide Width Y\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-y': [{\n        'divide-y': scaleBorderWidth()\n      }],\n      /**\n       * Divide Width Y Reverse\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-y-reverse': ['divide-y-reverse'],\n      /**\n       * Border Style\n       * @see https://tailwindcss.com/docs/border-style\n       */\n      'border-style': [{\n        border: [...scaleLineStyle(), 'hidden', 'none']\n      }],\n      /**\n       * Divide Style\n       * @see https://tailwindcss.com/docs/border-style#setting-the-divider-style\n       */\n      'divide-style': [{\n        divide: [...scaleLineStyle(), 'hidden', 'none']\n      }],\n      /**\n       * Border Color\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color': [{\n        border: scaleColor()\n      }],\n      /**\n       * Border Color X\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-x': [{\n        'border-x': scaleColor()\n      }],\n      /**\n       * Border Color Y\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-y': [{\n        'border-y': scaleColor()\n      }],\n      /**\n       * Border Color S\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-s': [{\n        'border-s': scaleColor()\n      }],\n      /**\n       * Border Color E\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-e': [{\n        'border-e': scaleColor()\n      }],\n      /**\n       * Border Color Top\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-t': [{\n        'border-t': scaleColor()\n      }],\n      /**\n       * Border Color Right\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-r': [{\n        'border-r': scaleColor()\n      }],\n      /**\n       * Border Color Bottom\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-b': [{\n        'border-b': scaleColor()\n      }],\n      /**\n       * Border Color Left\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-l': [{\n        'border-l': scaleColor()\n      }],\n      /**\n       * Divide Color\n       * @see https://tailwindcss.com/docs/divide-color\n       */\n      'divide-color': [{\n        divide: scaleColor()\n      }],\n      /**\n       * Outline Style\n       * @see https://tailwindcss.com/docs/outline-style\n       */\n      'outline-style': [{\n        outline: [...scaleLineStyle(), 'none', 'hidden']\n      }],\n      /**\n       * Outline Offset\n       * @see https://tailwindcss.com/docs/outline-offset\n       */\n      'outline-offset': [{\n        'outline-offset': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Outline Width\n       * @see https://tailwindcss.com/docs/outline-width\n       */\n      'outline-w': [{\n        outline: ['', isNumber, isArbitraryVariableLength, isArbitraryLength]\n      }],\n      /**\n       * Outline Color\n       * @see https://tailwindcss.com/docs/outline-color\n       */\n      'outline-color': [{\n        outline: scaleColor()\n      }],\n      // ---------------\n      // --- Effects ---\n      // ---------------\n      /**\n       * Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow\n       */\n      shadow: [{\n        shadow: [\n        // Deprecated since Tailwind CSS v4.0.0\n        '', 'none', themeShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-shadow-color\n       */\n      'shadow-color': [{\n        shadow: scaleColor()\n      }],\n      /**\n       * Inset Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow#adding-an-inset-shadow\n       */\n      'inset-shadow': [{\n        'inset-shadow': ['none', themeInsetShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Inset Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-inset-shadow-color\n       */\n      'inset-shadow-color': [{\n        'inset-shadow': scaleColor()\n      }],\n      /**\n       * Ring Width\n       * @see https://tailwindcss.com/docs/box-shadow#adding-a-ring\n       */\n      'ring-w': [{\n        ring: scaleBorderWidth()\n      }],\n      /**\n       * Ring Width Inset\n       * @see https://v3.tailwindcss.com/docs/ring-width#inset-rings\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      'ring-w-inset': ['ring-inset'],\n      /**\n       * Ring Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-ring-color\n       */\n      'ring-color': [{\n        ring: scaleColor()\n      }],\n      /**\n       * Ring Offset Width\n       * @see https://v3.tailwindcss.com/docs/ring-offset-width\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      'ring-offset-w': [{\n        'ring-offset': [isNumber, isArbitraryLength]\n      }],\n      /**\n       * Ring Offset Color\n       * @see https://v3.tailwindcss.com/docs/ring-offset-color\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      'ring-offset-color': [{\n        'ring-offset': scaleColor()\n      }],\n      /**\n       * Inset Ring Width\n       * @see https://tailwindcss.com/docs/box-shadow#adding-an-inset-ring\n       */\n      'inset-ring-w': [{\n        'inset-ring': scaleBorderWidth()\n      }],\n      /**\n       * Inset Ring Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-inset-ring-color\n       */\n      'inset-ring-color': [{\n        'inset-ring': scaleColor()\n      }],\n      /**\n       * Text Shadow\n       * @see https://tailwindcss.com/docs/text-shadow\n       */\n      'text-shadow': [{\n        'text-shadow': ['none', themeTextShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Text Shadow Color\n       * @see https://tailwindcss.com/docs/text-shadow#setting-the-shadow-color\n       */\n      'text-shadow-color': [{\n        'text-shadow': scaleColor()\n      }],\n      /**\n       * Opacity\n       * @see https://tailwindcss.com/docs/opacity\n       */\n      opacity: [{\n        opacity: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Mix Blend Mode\n       * @see https://tailwindcss.com/docs/mix-blend-mode\n       */\n      'mix-blend': [{\n        'mix-blend': [...scaleBlendMode(), 'plus-darker', 'plus-lighter']\n      }],\n      /**\n       * Background Blend Mode\n       * @see https://tailwindcss.com/docs/background-blend-mode\n       */\n      'bg-blend': [{\n        'bg-blend': scaleBlendMode()\n      }],\n      /**\n       * Mask Clip\n       * @see https://tailwindcss.com/docs/mask-clip\n       */\n      'mask-clip': [{\n        'mask-clip': ['border', 'padding', 'content', 'fill', 'stroke', 'view']\n      }, 'mask-no-clip'],\n      /**\n       * Mask Composite\n       * @see https://tailwindcss.com/docs/mask-composite\n       */\n      'mask-composite': [{\n        mask: ['add', 'subtract', 'intersect', 'exclude']\n      }],\n      /**\n       * Mask Image\n       * @see https://tailwindcss.com/docs/mask-image\n       */\n      'mask-image-linear-pos': [{\n        'mask-linear': [isNumber]\n      }],\n      'mask-image-linear-from-pos': [{\n        'mask-linear-from': scaleMaskImagePosition()\n      }],\n      'mask-image-linear-to-pos': [{\n        'mask-linear-to': scaleMaskImagePosition()\n      }],\n      'mask-image-linear-from-color': [{\n        'mask-linear-from': scaleColor()\n      }],\n      'mask-image-linear-to-color': [{\n        'mask-linear-to': scaleColor()\n      }],\n      'mask-image-t-from-pos': [{\n        'mask-t-from': scaleMaskImagePosition()\n      }],\n      'mask-image-t-to-pos': [{\n        'mask-t-to': scaleMaskImagePosition()\n      }],\n      'mask-image-t-from-color': [{\n        'mask-t-from': scaleColor()\n      }],\n      'mask-image-t-to-color': [{\n        'mask-t-to': scaleColor()\n      }],\n      'mask-image-r-from-pos': [{\n        'mask-r-from': scaleMaskImagePosition()\n      }],\n      'mask-image-r-to-pos': [{\n        'mask-r-to': scaleMaskImagePosition()\n      }],\n      'mask-image-r-from-color': [{\n        'mask-r-from': scaleColor()\n      }],\n      'mask-image-r-to-color': [{\n        'mask-r-to': scaleColor()\n      }],\n      'mask-image-b-from-pos': [{\n        'mask-b-from': scaleMaskImagePosition()\n      }],\n      'mask-image-b-to-pos': [{\n        'mask-b-to': scaleMaskImagePosition()\n      }],\n      'mask-image-b-from-color': [{\n        'mask-b-from': scaleColor()\n      }],\n      'mask-image-b-to-color': [{\n        'mask-b-to': scaleColor()\n      }],\n      'mask-image-l-from-pos': [{\n        'mask-l-from': scaleMaskImagePosition()\n      }],\n      'mask-image-l-to-pos': [{\n        'mask-l-to': scaleMaskImagePosition()\n      }],\n      'mask-image-l-from-color': [{\n        'mask-l-from': scaleColor()\n      }],\n      'mask-image-l-to-color': [{\n        'mask-l-to': scaleColor()\n      }],\n      'mask-image-x-from-pos': [{\n        'mask-x-from': scaleMaskImagePosition()\n      }],\n      'mask-image-x-to-pos': [{\n        'mask-x-to': scaleMaskImagePosition()\n      }],\n      'mask-image-x-from-color': [{\n        'mask-x-from': scaleColor()\n      }],\n      'mask-image-x-to-color': [{\n        'mask-x-to': scaleColor()\n      }],\n      'mask-image-y-from-pos': [{\n        'mask-y-from': scaleMaskImagePosition()\n      }],\n      'mask-image-y-to-pos': [{\n        'mask-y-to': scaleMaskImagePosition()\n      }],\n      'mask-image-y-from-color': [{\n        'mask-y-from': scaleColor()\n      }],\n      'mask-image-y-to-color': [{\n        'mask-y-to': scaleColor()\n      }],\n      'mask-image-radial': [{\n        'mask-radial': [isArbitraryVariable, isArbitraryValue]\n      }],\n      'mask-image-radial-from-pos': [{\n        'mask-radial-from': scaleMaskImagePosition()\n      }],\n      'mask-image-radial-to-pos': [{\n        'mask-radial-to': scaleMaskImagePosition()\n      }],\n      'mask-image-radial-from-color': [{\n        'mask-radial-from': scaleColor()\n      }],\n      'mask-image-radial-to-color': [{\n        'mask-radial-to': scaleColor()\n      }],\n      'mask-image-radial-shape': [{\n        'mask-radial': ['circle', 'ellipse']\n      }],\n      'mask-image-radial-size': [{\n        'mask-radial': [{\n          closest: ['side', 'corner'],\n          farthest: ['side', 'corner']\n        }]\n      }],\n      'mask-image-radial-pos': [{\n        'mask-radial-at': scalePosition()\n      }],\n      'mask-image-conic-pos': [{\n        'mask-conic': [isNumber]\n      }],\n      'mask-image-conic-from-pos': [{\n        'mask-conic-from': scaleMaskImagePosition()\n      }],\n      'mask-image-conic-to-pos': [{\n        'mask-conic-to': scaleMaskImagePosition()\n      }],\n      'mask-image-conic-from-color': [{\n        'mask-conic-from': scaleColor()\n      }],\n      'mask-image-conic-to-color': [{\n        'mask-conic-to': scaleColor()\n      }],\n      /**\n       * Mask Mode\n       * @see https://tailwindcss.com/docs/mask-mode\n       */\n      'mask-mode': [{\n        mask: ['alpha', 'luminance', 'match']\n      }],\n      /**\n       * Mask Origin\n       * @see https://tailwindcss.com/docs/mask-origin\n       */\n      'mask-origin': [{\n        'mask-origin': ['border', 'padding', 'content', 'fill', 'stroke', 'view']\n      }],\n      /**\n       * Mask Position\n       * @see https://tailwindcss.com/docs/mask-position\n       */\n      'mask-position': [{\n        mask: scaleBgPosition()\n      }],\n      /**\n       * Mask Repeat\n       * @see https://tailwindcss.com/docs/mask-repeat\n       */\n      'mask-repeat': [{\n        mask: scaleBgRepeat()\n      }],\n      /**\n       * Mask Size\n       * @see https://tailwindcss.com/docs/mask-size\n       */\n      'mask-size': [{\n        mask: scaleBgSize()\n      }],\n      /**\n       * Mask Type\n       * @see https://tailwindcss.com/docs/mask-type\n       */\n      'mask-type': [{\n        'mask-type': ['alpha', 'luminance']\n      }],\n      /**\n       * Mask Image\n       * @see https://tailwindcss.com/docs/mask-image\n       */\n      'mask-image': [{\n        mask: ['none', isArbitraryVariable, isArbitraryValue]\n      }],\n      // ---------------\n      // --- Filters ---\n      // ---------------\n      /**\n       * Filter\n       * @see https://tailwindcss.com/docs/filter\n       */\n      filter: [{\n        filter: [\n        // Deprecated since Tailwind CSS v3.0.0\n        '', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Blur\n       * @see https://tailwindcss.com/docs/blur\n       */\n      blur: [{\n        blur: scaleBlur()\n      }],\n      /**\n       * Brightness\n       * @see https://tailwindcss.com/docs/brightness\n       */\n      brightness: [{\n        brightness: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Contrast\n       * @see https://tailwindcss.com/docs/contrast\n       */\n      contrast: [{\n        contrast: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Drop Shadow\n       * @see https://tailwindcss.com/docs/drop-shadow\n       */\n      'drop-shadow': [{\n        'drop-shadow': [\n        // Deprecated since Tailwind CSS v4.0.0\n        '', 'none', themeDropShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Drop Shadow Color\n       * @see https://tailwindcss.com/docs/filter-drop-shadow#setting-the-shadow-color\n       */\n      'drop-shadow-color': [{\n        'drop-shadow': scaleColor()\n      }],\n      /**\n       * Grayscale\n       * @see https://tailwindcss.com/docs/grayscale\n       */\n      grayscale: [{\n        grayscale: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Hue Rotate\n       * @see https://tailwindcss.com/docs/hue-rotate\n       */\n      'hue-rotate': [{\n        'hue-rotate': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Invert\n       * @see https://tailwindcss.com/docs/invert\n       */\n      invert: [{\n        invert: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Saturate\n       * @see https://tailwindcss.com/docs/saturate\n       */\n      saturate: [{\n        saturate: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Sepia\n       * @see https://tailwindcss.com/docs/sepia\n       */\n      sepia: [{\n        sepia: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Filter\n       * @see https://tailwindcss.com/docs/backdrop-filter\n       */\n      'backdrop-filter': [{\n        'backdrop-filter': [\n        // Deprecated since Tailwind CSS v3.0.0\n        '', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Blur\n       * @see https://tailwindcss.com/docs/backdrop-blur\n       */\n      'backdrop-blur': [{\n        'backdrop-blur': scaleBlur()\n      }],\n      /**\n       * Backdrop Brightness\n       * @see https://tailwindcss.com/docs/backdrop-brightness\n       */\n      'backdrop-brightness': [{\n        'backdrop-brightness': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Contrast\n       * @see https://tailwindcss.com/docs/backdrop-contrast\n       */\n      'backdrop-contrast': [{\n        'backdrop-contrast': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Grayscale\n       * @see https://tailwindcss.com/docs/backdrop-grayscale\n       */\n      'backdrop-grayscale': [{\n        'backdrop-grayscale': ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Hue Rotate\n       * @see https://tailwindcss.com/docs/backdrop-hue-rotate\n       */\n      'backdrop-hue-rotate': [{\n        'backdrop-hue-rotate': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Invert\n       * @see https://tailwindcss.com/docs/backdrop-invert\n       */\n      'backdrop-invert': [{\n        'backdrop-invert': ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Opacity\n       * @see https://tailwindcss.com/docs/backdrop-opacity\n       */\n      'backdrop-opacity': [{\n        'backdrop-opacity': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Saturate\n       * @see https://tailwindcss.com/docs/backdrop-saturate\n       */\n      'backdrop-saturate': [{\n        'backdrop-saturate': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Sepia\n       * @see https://tailwindcss.com/docs/backdrop-sepia\n       */\n      'backdrop-sepia': [{\n        'backdrop-sepia': ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      // --------------\n      // --- Tables ---\n      // --------------\n      /**\n       * Border Collapse\n       * @see https://tailwindcss.com/docs/border-collapse\n       */\n      'border-collapse': [{\n        border: ['collapse', 'separate']\n      }],\n      /**\n       * Border Spacing\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing': [{\n        'border-spacing': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Border Spacing X\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-x': [{\n        'border-spacing-x': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Border Spacing Y\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-y': [{\n        'border-spacing-y': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Table Layout\n       * @see https://tailwindcss.com/docs/table-layout\n       */\n      'table-layout': [{\n        table: ['auto', 'fixed']\n      }],\n      /**\n       * Caption Side\n       * @see https://tailwindcss.com/docs/caption-side\n       */\n      caption: [{\n        caption: ['top', 'bottom']\n      }],\n      // ---------------------------------\n      // --- Transitions and Animation ---\n      // ---------------------------------\n      /**\n       * Transition Property\n       * @see https://tailwindcss.com/docs/transition-property\n       */\n      transition: [{\n        transition: ['', 'all', 'colors', 'opacity', 'shadow', 'transform', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Behavior\n       * @see https://tailwindcss.com/docs/transition-behavior\n       */\n      'transition-behavior': [{\n        transition: ['normal', 'discrete']\n      }],\n      /**\n       * Transition Duration\n       * @see https://tailwindcss.com/docs/transition-duration\n       */\n      duration: [{\n        duration: [isNumber, 'initial', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Timing Function\n       * @see https://tailwindcss.com/docs/transition-timing-function\n       */\n      ease: [{\n        ease: ['linear', 'initial', themeEase, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Delay\n       * @see https://tailwindcss.com/docs/transition-delay\n       */\n      delay: [{\n        delay: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Animation\n       * @see https://tailwindcss.com/docs/animation\n       */\n      animate: [{\n        animate: ['none', themeAnimate, isArbitraryVariable, isArbitraryValue]\n      }],\n      // ------------------\n      // --- Transforms ---\n      // ------------------\n      /**\n       * Backface Visibility\n       * @see https://tailwindcss.com/docs/backface-visibility\n       */\n      backface: [{\n        backface: ['hidden', 'visible']\n      }],\n      /**\n       * Perspective\n       * @see https://tailwindcss.com/docs/perspective\n       */\n      perspective: [{\n        perspective: [themePerspective, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Perspective Origin\n       * @see https://tailwindcss.com/docs/perspective-origin\n       */\n      'perspective-origin': [{\n        'perspective-origin': scalePositionWithArbitrary()\n      }],\n      /**\n       * Rotate\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      rotate: [{\n        rotate: scaleRotate()\n      }],\n      /**\n       * Rotate X\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      'rotate-x': [{\n        'rotate-x': scaleRotate()\n      }],\n      /**\n       * Rotate Y\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      'rotate-y': [{\n        'rotate-y': scaleRotate()\n      }],\n      /**\n       * Rotate Z\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      'rotate-z': [{\n        'rotate-z': scaleRotate()\n      }],\n      /**\n       * Scale\n       * @see https://tailwindcss.com/docs/scale\n       */\n      scale: [{\n        scale: scaleScale()\n      }],\n      /**\n       * Scale X\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-x': [{\n        'scale-x': scaleScale()\n      }],\n      /**\n       * Scale Y\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-y': [{\n        'scale-y': scaleScale()\n      }],\n      /**\n       * Scale Z\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-z': [{\n        'scale-z': scaleScale()\n      }],\n      /**\n       * Scale 3D\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-3d': ['scale-3d'],\n      /**\n       * Skew\n       * @see https://tailwindcss.com/docs/skew\n       */\n      skew: [{\n        skew: scaleSkew()\n      }],\n      /**\n       * Skew X\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-x': [{\n        'skew-x': scaleSkew()\n      }],\n      /**\n       * Skew Y\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-y': [{\n        'skew-y': scaleSkew()\n      }],\n      /**\n       * Transform\n       * @see https://tailwindcss.com/docs/transform\n       */\n      transform: [{\n        transform: [isArbitraryVariable, isArbitraryValue, '', 'none', 'gpu', 'cpu']\n      }],\n      /**\n       * Transform Origin\n       * @see https://tailwindcss.com/docs/transform-origin\n       */\n      'transform-origin': [{\n        origin: scalePositionWithArbitrary()\n      }],\n      /**\n       * Transform Style\n       * @see https://tailwindcss.com/docs/transform-style\n       */\n      'transform-style': [{\n        transform: ['3d', 'flat']\n      }],\n      /**\n       * Translate\n       * @see https://tailwindcss.com/docs/translate\n       */\n      translate: [{\n        translate: scaleTranslate()\n      }],\n      /**\n       * Translate X\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-x': [{\n        'translate-x': scaleTranslate()\n      }],\n      /**\n       * Translate Y\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-y': [{\n        'translate-y': scaleTranslate()\n      }],\n      /**\n       * Translate Z\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-z': [{\n        'translate-z': scaleTranslate()\n      }],\n      /**\n       * Translate None\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-none': ['translate-none'],\n      // ---------------------\n      // --- Interactivity ---\n      // ---------------------\n      /**\n       * Accent Color\n       * @see https://tailwindcss.com/docs/accent-color\n       */\n      accent: [{\n        accent: scaleColor()\n      }],\n      /**\n       * Appearance\n       * @see https://tailwindcss.com/docs/appearance\n       */\n      appearance: [{\n        appearance: ['none', 'auto']\n      }],\n      /**\n       * Caret Color\n       * @see https://tailwindcss.com/docs/just-in-time-mode#caret-color-utilities\n       */\n      'caret-color': [{\n        caret: scaleColor()\n      }],\n      /**\n       * Color Scheme\n       * @see https://tailwindcss.com/docs/color-scheme\n       */\n      'color-scheme': [{\n        scheme: ['normal', 'dark', 'light', 'light-dark', 'only-dark', 'only-light']\n      }],\n      /**\n       * Cursor\n       * @see https://tailwindcss.com/docs/cursor\n       */\n      cursor: [{\n        cursor: ['auto', 'default', 'pointer', 'wait', 'text', 'move', 'help', 'not-allowed', 'none', 'context-menu', 'progress', 'cell', 'crosshair', 'vertical-text', 'alias', 'copy', 'no-drop', 'grab', 'grabbing', 'all-scroll', 'col-resize', 'row-resize', 'n-resize', 'e-resize', 's-resize', 'w-resize', 'ne-resize', 'nw-resize', 'se-resize', 'sw-resize', 'ew-resize', 'ns-resize', 'nesw-resize', 'nwse-resize', 'zoom-in', 'zoom-out', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Field Sizing\n       * @see https://tailwindcss.com/docs/field-sizing\n       */\n      'field-sizing': [{\n        'field-sizing': ['fixed', 'content']\n      }],\n      /**\n       * Pointer Events\n       * @see https://tailwindcss.com/docs/pointer-events\n       */\n      'pointer-events': [{\n        'pointer-events': ['auto', 'none']\n      }],\n      /**\n       * Resize\n       * @see https://tailwindcss.com/docs/resize\n       */\n      resize: [{\n        resize: ['none', '', 'y', 'x']\n      }],\n      /**\n       * Scroll Behavior\n       * @see https://tailwindcss.com/docs/scroll-behavior\n       */\n      'scroll-behavior': [{\n        scroll: ['auto', 'smooth']\n      }],\n      /**\n       * Scroll Margin\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-m': [{\n        'scroll-m': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin X\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mx': [{\n        'scroll-mx': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Y\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-my': [{\n        'scroll-my': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Start\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ms': [{\n        'scroll-ms': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin End\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-me': [{\n        'scroll-me': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Top\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mt': [{\n        'scroll-mt': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Right\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mr': [{\n        'scroll-mr': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Bottom\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mb': [{\n        'scroll-mb': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Left\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ml': [{\n        'scroll-ml': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-p': [{\n        'scroll-p': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding X\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-px': [{\n        'scroll-px': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Y\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-py': [{\n        'scroll-py': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Start\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-ps': [{\n        'scroll-ps': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding End\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pe': [{\n        'scroll-pe': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Top\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pt': [{\n        'scroll-pt': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Right\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pr': [{\n        'scroll-pr': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Bottom\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pb': [{\n        'scroll-pb': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Left\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pl': [{\n        'scroll-pl': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Snap Align\n       * @see https://tailwindcss.com/docs/scroll-snap-align\n       */\n      'snap-align': [{\n        snap: ['start', 'end', 'center', 'align-none']\n      }],\n      /**\n       * Scroll Snap Stop\n       * @see https://tailwindcss.com/docs/scroll-snap-stop\n       */\n      'snap-stop': [{\n        snap: ['normal', 'always']\n      }],\n      /**\n       * Scroll Snap Type\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-type': [{\n        snap: ['none', 'x', 'y', 'both']\n      }],\n      /**\n       * Scroll Snap Type Strictness\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-strictness': [{\n        snap: ['mandatory', 'proximity']\n      }],\n      /**\n       * Touch Action\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      touch: [{\n        touch: ['auto', 'none', 'manipulation']\n      }],\n      /**\n       * Touch Action X\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-x': [{\n        'touch-pan': ['x', 'left', 'right']\n      }],\n      /**\n       * Touch Action Y\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-y': [{\n        'touch-pan': ['y', 'up', 'down']\n      }],\n      /**\n       * Touch Action Pinch Zoom\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-pz': ['touch-pinch-zoom'],\n      /**\n       * User Select\n       * @see https://tailwindcss.com/docs/user-select\n       */\n      select: [{\n        select: ['none', 'text', 'all', 'auto']\n      }],\n      /**\n       * Will Change\n       * @see https://tailwindcss.com/docs/will-change\n       */\n      'will-change': [{\n        'will-change': ['auto', 'scroll', 'contents', 'transform', isArbitraryVariable, isArbitraryValue]\n      }],\n      // -----------\n      // --- SVG ---\n      // -----------\n      /**\n       * Fill\n       * @see https://tailwindcss.com/docs/fill\n       */\n      fill: [{\n        fill: ['none', ...scaleColor()]\n      }],\n      /**\n       * Stroke Width\n       * @see https://tailwindcss.com/docs/stroke-width\n       */\n      'stroke-w': [{\n        stroke: [isNumber, isArbitraryVariableLength, isArbitraryLength, isArbitraryNumber]\n      }],\n      /**\n       * Stroke\n       * @see https://tailwindcss.com/docs/stroke\n       */\n      stroke: [{\n        stroke: ['none', ...scaleColor()]\n      }],\n      // ---------------------\n      // --- Accessibility ---\n      // ---------------------\n      /**\n       * Forced Color Adjust\n       * @see https://tailwindcss.com/docs/forced-color-adjust\n       */\n      'forced-color-adjust': [{\n        'forced-color-adjust': ['auto', 'none']\n      }]\n    },\n    conflictingClassGroups: {\n      overflow: ['overflow-x', 'overflow-y'],\n      overscroll: ['overscroll-x', 'overscroll-y'],\n      inset: ['inset-x', 'inset-y', 'start', 'end', 'top', 'right', 'bottom', 'left'],\n      'inset-x': ['right', 'left'],\n      'inset-y': ['top', 'bottom'],\n      flex: ['basis', 'grow', 'shrink'],\n      gap: ['gap-x', 'gap-y'],\n      p: ['px', 'py', 'ps', 'pe', 'pt', 'pr', 'pb', 'pl'],\n      px: ['pr', 'pl'],\n      py: ['pt', 'pb'],\n      m: ['mx', 'my', 'ms', 'me', 'mt', 'mr', 'mb', 'ml'],\n      mx: ['mr', 'ml'],\n      my: ['mt', 'mb'],\n      size: ['w', 'h'],\n      'font-size': ['leading'],\n      'fvn-normal': ['fvn-ordinal', 'fvn-slashed-zero', 'fvn-figure', 'fvn-spacing', 'fvn-fraction'],\n      'fvn-ordinal': ['fvn-normal'],\n      'fvn-slashed-zero': ['fvn-normal'],\n      'fvn-figure': ['fvn-normal'],\n      'fvn-spacing': ['fvn-normal'],\n      'fvn-fraction': ['fvn-normal'],\n      'line-clamp': ['display', 'overflow'],\n      rounded: ['rounded-s', 'rounded-e', 'rounded-t', 'rounded-r', 'rounded-b', 'rounded-l', 'rounded-ss', 'rounded-se', 'rounded-ee', 'rounded-es', 'rounded-tl', 'rounded-tr', 'rounded-br', 'rounded-bl'],\n      'rounded-s': ['rounded-ss', 'rounded-es'],\n      'rounded-e': ['rounded-se', 'rounded-ee'],\n      'rounded-t': ['rounded-tl', 'rounded-tr'],\n      'rounded-r': ['rounded-tr', 'rounded-br'],\n      'rounded-b': ['rounded-br', 'rounded-bl'],\n      'rounded-l': ['rounded-tl', 'rounded-bl'],\n      'border-spacing': ['border-spacing-x', 'border-spacing-y'],\n      'border-w': ['border-w-x', 'border-w-y', 'border-w-s', 'border-w-e', 'border-w-t', 'border-w-r', 'border-w-b', 'border-w-l'],\n      'border-w-x': ['border-w-r', 'border-w-l'],\n      'border-w-y': ['border-w-t', 'border-w-b'],\n      'border-color': ['border-color-x', 'border-color-y', 'border-color-s', 'border-color-e', 'border-color-t', 'border-color-r', 'border-color-b', 'border-color-l'],\n      'border-color-x': ['border-color-r', 'border-color-l'],\n      'border-color-y': ['border-color-t', 'border-color-b'],\n      translate: ['translate-x', 'translate-y', 'translate-none'],\n      'translate-none': ['translate', 'translate-x', 'translate-y', 'translate-z'],\n      'scroll-m': ['scroll-mx', 'scroll-my', 'scroll-ms', 'scroll-me', 'scroll-mt', 'scroll-mr', 'scroll-mb', 'scroll-ml'],\n      'scroll-mx': ['scroll-mr', 'scroll-ml'],\n      'scroll-my': ['scroll-mt', 'scroll-mb'],\n      'scroll-p': ['scroll-px', 'scroll-py', 'scroll-ps', 'scroll-pe', 'scroll-pt', 'scroll-pr', 'scroll-pb', 'scroll-pl'],\n      'scroll-px': ['scroll-pr', 'scroll-pl'],\n      'scroll-py': ['scroll-pt', 'scroll-pb'],\n      touch: ['touch-x', 'touch-y', 'touch-pz'],\n      'touch-x': ['touch'],\n      'touch-y': ['touch'],\n      'touch-pz': ['touch']\n    },\n    conflictingClassGroupModifiers: {\n      'font-size': ['leading']\n    },\n    orderSensitiveModifiers: ['*', '**', 'after', 'backdrop', 'before', 'details-content', 'file', 'first-letter', 'first-line', 'marker', 'placeholder', 'selection']\n  };\n};\n\n/**\n * @param baseConfig Config where other config will be merged into. This object will be mutated.\n * @param configExtension Partial config to merge into the `baseConfig`.\n */\nconst mergeConfigs = (baseConfig, {\n  cacheSize,\n  prefix,\n  experimentalParseClassName,\n  extend = {},\n  override = {}\n}) => {\n  overrideProperty(baseConfig, 'cacheSize', cacheSize);\n  overrideProperty(baseConfig, 'prefix', prefix);\n  overrideProperty(baseConfig, 'experimentalParseClassName', experimentalParseClassName);\n  overrideConfigProperties(baseConfig.theme, override.theme);\n  overrideConfigProperties(baseConfig.classGroups, override.classGroups);\n  overrideConfigProperties(baseConfig.conflictingClassGroups, override.conflictingClassGroups);\n  overrideConfigProperties(baseConfig.conflictingClassGroupModifiers, override.conflictingClassGroupModifiers);\n  overrideProperty(baseConfig, 'orderSensitiveModifiers', override.orderSensitiveModifiers);\n  mergeConfigProperties(baseConfig.theme, extend.theme);\n  mergeConfigProperties(baseConfig.classGroups, extend.classGroups);\n  mergeConfigProperties(baseConfig.conflictingClassGroups, extend.conflictingClassGroups);\n  mergeConfigProperties(baseConfig.conflictingClassGroupModifiers, extend.conflictingClassGroupModifiers);\n  mergeArrayProperties(baseConfig, extend, 'orderSensitiveModifiers');\n  return baseConfig;\n};\nconst overrideProperty = (baseObject, overrideKey, overrideValue) => {\n  if (overrideValue !== undefined) {\n    baseObject[overrideKey] = overrideValue;\n  }\n};\nconst overrideConfigProperties = (baseObject, overrideObject) => {\n  if (overrideObject) {\n    for (const key in overrideObject) {\n      overrideProperty(baseObject, key, overrideObject[key]);\n    }\n  }\n};\nconst mergeConfigProperties = (baseObject, mergeObject) => {\n  if (mergeObject) {\n    for (const key in mergeObject) {\n      mergeArrayProperties(baseObject, mergeObject, key);\n    }\n  }\n};\nconst mergeArrayProperties = (baseObject, mergeObject, key) => {\n  const mergeValue = mergeObject[key];\n  if (mergeValue !== undefined) {\n    baseObject[key] = baseObject[key] ? baseObject[key].concat(mergeValue) : mergeValue;\n  }\n};\nconst extendTailwindMerge = (configExtension, ...createConfig) => typeof configExtension === 'function' ? createTailwindMerge(getDefaultConfig, configExtension, ...createConfig) : createTailwindMerge(() => mergeConfigs(getDefaultConfig(), configExtension), ...createConfig);\nconst twMerge = /*#__PURE__*/createTailwindMerge(getDefaultConfig);\nexport { createTailwindMerge, extendTailwindMerge, fromTheme, getDefaultConfig, mergeConfigs, twJoin, twMerge, validators };\n//# sourceMappingURL=bundle-mjs.mjs.map\n","import {\n\ttype Fiber,\n\tMemoComponentTag,\n\tSimpleMemoComponentTag,\n\tSuspenseComponentTag,\n\tgetDisplayName,\n\thasMemoCache,\n} from \"bippy\"\nimport { type ClassValue, clsx } from \"clsx\"\nimport { IS_CLIENT } from \"./constants\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport const cn = (...inputs: Array<ClassValue>): string => {\n\treturn twMerge(clsx(inputs))\n}\n\nexport const onIdle = (callback: () => void) => {\n\tif (\"scheduler\" in globalThis) {\n\t\treturn globalThis.scheduler.postTask(callback, {\n\t\t\tpriority: \"background\",\n\t\t})\n\t}\n\tif (\"requestIdleCallback\" in window) {\n\t\treturn requestIdleCallback(callback)\n\t}\n\treturn setTimeout(callback, 0)\n}\n\nexport const throttle = <E>(\n\tcallback: (e?: E) => void,\n\tdelay: number,\n): ((e?: E) => void) => {\n\tlet lastCall = 0\n\treturn (e?: E) => {\n\t\tconst now = Date.now()\n\t\tif (now - lastCall >= delay) {\n\t\t\tlastCall = now\n\t\t\treturn callback(e)\n\t\t}\n\t\treturn undefined\n\t}\n}\n\nconst tryOrElse = <T>(fn: () => T, defaultValue: T): T => {\n\ttry {\n\t\treturn fn()\n\t} catch {\n\t\treturn defaultValue\n\t}\n}\n\nexport const readLocalStorage = <T>(storageKey: string): T | null => {\n\tif (!IS_CLIENT) return null\n\n\ttry {\n\t\tconst stored = localStorage.getItem(storageKey)\n\t\treturn stored ? JSON.parse(stored) : null\n\t} catch {\n\t\treturn null\n\t}\n}\n\nexport const saveLocalStorage = <T>(storageKey: string, state: T): void => {\n\tif (!IS_CLIENT) return\n\n\ttry {\n\t\twindow.localStorage.setItem(storageKey, JSON.stringify(state))\n\t} catch {}\n}\nexport const removeLocalStorage = (storageKey: string): void => {\n\tif (!IS_CLIENT) return\n\n\ttry {\n\t\twindow.localStorage.removeItem(storageKey)\n\t} catch {}\n}\n\nconst toggleMultipleClasses = (\n\telement: HTMLElement,\n\tclasses: Array<string>,\n) => {\n\tfor (const cls of classes) {\n\t\telement.classList.toggle(cls)\n\t}\n}\n\ninterface WrapperBadge {\n\ttype: \"memo\" | \"forwardRef\" | \"lazy\" | \"suspense\" | \"profiler\" | \"strict\"\n\ttitle: string\n\tcompiler?: boolean\n}\n\ninterface ExtendedDisplayName {\n\tname: string | null\n\twrappers: Array<string>\n\twrapperTypes: Array<WrapperBadge>\n}\n\n// React internal tags not exported by bippy\nconst LazyComponentTag = 24\nconst ProfilerTag = 12\n\nexport const getExtendedDisplayName = (fiber: Fiber): ExtendedDisplayName => {\n\tif (!fiber) {\n\t\treturn {\n\t\t\tname: \"Unknown\",\n\t\t\twrappers: [],\n\t\t\twrapperTypes: [],\n\t\t}\n\t}\n\n\tconst { tag, type, elementType } = fiber\n\tlet name = getDisplayName(type)\n\tconst wrappers: Array<string> = []\n\tconst wrapperTypes: Array<WrapperBadge> = []\n\n\tif (\n\t\thasMemoCache(fiber) ||\n\t\ttag === SimpleMemoComponentTag ||\n\t\ttag === MemoComponentTag ||\n\t\t(type as { $$typeof?: symbol })?.$$typeof === Symbol.for(\"react.memo\") ||\n\t\t(elementType as { $$typeof?: symbol })?.$$typeof ===\n\t\t\tSymbol.for(\"react.memo\")\n\t) {\n\t\tconst compiler = hasMemoCache(fiber)\n\t\twrapperTypes.push({\n\t\t\ttype: \"memo\",\n\t\t\ttitle: compiler\n\t\t\t\t? \"This component has been auto-memoized by the React Compiler.\"\n\t\t\t\t: \"Memoized component that skips re-renders if props are the same\",\n\t\t\tcompiler,\n\t\t})\n\t}\n\n\tif (tag === LazyComponentTag) {\n\t\twrapperTypes.push({\n\t\t\ttype: \"lazy\",\n\t\t\ttitle: \"Lazily loaded component that supports code splitting\",\n\t\t})\n\t}\n\n\tif (tag === SuspenseComponentTag) {\n\t\twrapperTypes.push({\n\t\t\ttype: \"suspense\",\n\t\t\ttitle: \"Component that can suspend while content is loading\",\n\t\t})\n\t}\n\n\tif (tag === ProfilerTag) {\n\t\twrapperTypes.push({\n\t\t\ttype: \"profiler\",\n\t\t\ttitle: \"Component that measures rendering performance\",\n\t\t})\n\t}\n\n\tif (typeof name === \"string\") {\n\t\tconst wrapperRegex = /^(\\w+)\\((.*)\\)$/\n\t\tlet currentName = name\n\t\twhile (wrapperRegex.test(currentName)) {\n\t\t\tconst match = currentName.match(wrapperRegex)\n\t\t\tif (match?.[1] && match?.[2]) {\n\t\t\t\twrappers.unshift(match[1])\n\t\t\t\tcurrentName = match[2]\n\t\t\t} else {\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\tname = currentName\n\t}\n\n\treturn {\n\t\tname: name || \"Unknown\",\n\t\twrappers,\n\t\twrapperTypes,\n\t}\n}\n","export const SAFE_AREA = 24\nexport const MIN_SIZE = {\n\twidth: 550,\n\theight: 350,\n\tinitialHeight: 400,\n} as const\n\nexport const MIN_CONTAINER_WIDTH = 240\n\nexport const LOCALSTORAGE_KEY = \"react-devtool-widget-settings-v2\"\nexport const LOCALSTORAGE_COLLAPSED_KEY = \"react-devtool-widget-collapsed-v1\"\nexport const LOCALSTORAGE_LAST_VIEW_KEY = \"react-devtool-widget-last-view-v1\"\n","import { signal } from \"@preact/signals\"\nimport {\n\tLOCALSTORAGE_KEY,\n\tMIN_CONTAINER_WIDTH,\n\tMIN_SIZE,\n\tSAFE_AREA,\n\tLOCALSTORAGE_COLLAPSED_KEY,\n} from \"./constants\"\nimport { IS_CLIENT } from \"./utils/constants\"\nimport { readLocalStorage, saveLocalStorage } from \"./utils/helpers\"\nimport type { Corner, WidgetConfig, WidgetSettings } from \"./widget/types\"\nimport type { CollapsedPosition } from \"./widget/types\"\n\nexport const signalIsSettingsOpen = /* @__PURE__ */ signal(false)\nexport const signalRefWidget = /* @__PURE__ */ signal<HTMLDivElement | null>(\n\tnull,\n)\n\nexport const defaultWidgetConfig = {\n\tcorner: \"bottom-right\" as Corner,\n\tdimensions: {\n\t\tisFullWidth: false,\n\t\tisFullHeight: false,\n\t\twidth: MIN_SIZE.width,\n\t\theight: MIN_SIZE.height,\n\t\tposition: { x: SAFE_AREA, y: SAFE_AREA },\n\t},\n\tlastDimensions: {\n\t\tisFullWidth: false,\n\t\tisFullHeight: false,\n\t\twidth: MIN_SIZE.width,\n\t\theight: MIN_SIZE.height,\n\t\tposition: { x: SAFE_AREA, y: SAFE_AREA },\n\t},\n\tcomponentsTree: {\n\t\twidth: MIN_CONTAINER_WIDTH,\n\t},\n} as WidgetConfig\n\nconst getInitialWidgetConfig = (): WidgetConfig => {\n\tconst stored = readLocalStorage<WidgetSettings>(LOCALSTORAGE_KEY)\n\tif (!stored) {\n\t\tsaveLocalStorage(LOCALSTORAGE_KEY, {\n\t\t\tcorner: defaultWidgetConfig.corner,\n\t\t\tdimensions: defaultWidgetConfig.dimensions,\n\t\t\tlastDimensions: defaultWidgetConfig.lastDimensions,\n\t\t\tcomponentsTree: defaultWidgetConfig.componentsTree,\n\t\t})\n\n\t\treturn defaultWidgetConfig\n\t}\n\n\treturn {\n\t\tcorner: stored.corner ?? defaultWidgetConfig.corner,\n\t\tdimensions: stored.dimensions ?? defaultWidgetConfig.dimensions,\n\n\t\tlastDimensions:\n\t\t\tstored.lastDimensions ??\n\t\t\tstored.dimensions ??\n\t\t\tdefaultWidgetConfig.lastDimensions,\n\t\tcomponentsTree: stored.componentsTree ?? defaultWidgetConfig.componentsTree,\n\t}\n}\n\nexport const signalWidget = signal<WidgetConfig>(getInitialWidgetConfig())\n\nexport const updateDimensions = (): void => {\n\tif (!IS_CLIENT) return\n\n\tconst { dimensions } = signalWidget.value\n\tconst { width, height, position } = dimensions\n\n\tsignalWidget.value = {\n\t\t...signalWidget.value,\n\t\tdimensions: {\n\t\t\tisFullWidth: width >= window.innerWidth - SAFE_AREA * 2,\n\t\t\tisFullHeight: height >= window.innerHeight - SAFE_AREA * 2,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tposition,\n\t\t},\n\t}\n}\n\nexport interface WidgetStates {\n\tview: \"inspector\" | \"settings\" | \"notifications\" | \"none\"\n\tdata?: unknown\n}\n\nexport const signalWidgetViews = signal<WidgetStates>({ view: \"none\" })\n\nconst storedCollapsed = readLocalStorage<CollapsedPosition | null>(\n\tLOCALSTORAGE_COLLAPSED_KEY,\n)\nexport const signalWidgetCollapsed =\n\t/* @__PURE__ */ signal<CollapsedPosition | null>(storedCollapsed ?? null)\n\n// biome-ignore lint/suspicious/noExplicitAny: This will hold React elements\nexport const userChildren = signal<any>(null)\n","import { useEffect, useState } from \"preact/hooks\"\n\n/**\n * Delays a boolean value change by a specified duration.\n * Perfect for coordinating animations with state changes.\n *\n * @param {boolean} value - The boolean value to delay\n * @param {number} onDelay - Milliseconds to wait before changing to true\n * @param {number} [offDelay] - Milliseconds to wait before changing to false (defaults to onDelay)\n * @returns {boolean} The delayed value\n *\n * @example\n * // Delay both transitions by 300ms\n * const isVisible = useDelayedValue(show, 300);\n *\n * @example\n * // Quick show (100ms), slow hide (500ms)\n * const isVisible = useDelayedValue(show, 100, 500);\n *\n * @example\n * // Use with CSS transitions\n * const isVisible = useDelayedValue(show, 300);\n * return (\n *   <div\n *     className=\"transition-all duration-300\"\n *     style={{\n *       opacity: isVisible ? 1 : 0,\n *       transform: isVisible ? 'none' : 'translateY(4px)'\n *     }}\n *   >\n *     {content}\n *   </div>\n * );\n */\nexport const useDelayedValue = (\n\tvalue: boolean,\n\tonDelay: number,\n\toffDelay: number = onDelay,\n): boolean => {\n\tconst [delayedValue, setDelayedValue] = useState(value)\n\n\t/*\n\t * biome-ignore lint/correctness/useExhaustiveDependencies:\n\t * delayedValue is intentionally omitted to prevent unnecessary timeouts\n\t * and used only in the early return check\n\t */\n\tuseEffect(() => {\n\t\tif (value === delayedValue) return\n\n\t\tconst delay = value ? onDelay : offDelay\n\t\tconst timeout = setTimeout(() => setDelayedValue(value), delay)\n\n\t\treturn () => clearTimeout(timeout)\n\t}, [value, onDelay, offDelay])\n\n\treturn delayedValue\n}\n","interface FlashEntry {\n\telement: HTMLElement\n\toverlay: HTMLElement\n\tscrollCleanup?: () => void\n}\n\nconst fadeOutTimers = new WeakMap<HTMLElement, ReturnType<typeof setTimeout>>()\n\nconst trackElementPosition = (\n\telement: Element,\n\tcallback: (element: Element) => void,\n): (() => void) => {\n\tconst handleScroll = callback.bind(null, element)\n\n\tdocument.addEventListener(\"scroll\", handleScroll, {\n\t\tpassive: true,\n\t\tcapture: true,\n\t})\n\n\treturn () => {\n\t\tdocument.removeEventListener(\"scroll\", handleScroll, { capture: true })\n\t}\n}\n\nexport const flashManager = {\n\tactiveFlashes: new Map<HTMLElement, FlashEntry>(),\n\n\tcreate(container: HTMLElement) {\n\t\tconst existingOverlay = container.querySelector(\n\t\t\t\".react-devtool-flash-overlay\",\n\t\t)\n\n\t\tconst overlay =\n\t\t\texistingOverlay instanceof HTMLElement\n\t\t\t\t? existingOverlay\n\t\t\t\t: (() => {\n\t\t\t\t\t\tconst newOverlay = document.createElement(\"div\")\n\t\t\t\t\t\tnewOverlay.className = \"react-devtool-flash-overlay\"\n\t\t\t\t\t\tcontainer.appendChild(newOverlay)\n\n\t\t\t\t\t\tconst scrollCleanup = trackElementPosition(container, () => {\n\t\t\t\t\t\t\tif (container.querySelector(\".react-devtool-flash-overlay\")) {\n\t\t\t\t\t\t\t\tthis.create(container)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tthis.activeFlashes.set(container, {\n\t\t\t\t\t\t\telement: container,\n\t\t\t\t\t\t\toverlay: newOverlay,\n\t\t\t\t\t\t\tscrollCleanup,\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\treturn newOverlay\n\t\t\t\t\t})()\n\n\t\tconst existingTimer = fadeOutTimers.get(overlay)\n\t\tif (existingTimer) {\n\t\t\tclearTimeout(existingTimer)\n\t\t\tfadeOutTimers.delete(overlay)\n\t\t}\n\n\t\trequestAnimationFrame(() => {\n\t\t\toverlay.style.transition = \"none\"\n\t\t\toverlay.style.opacity = \"0.9\"\n\n\t\t\tconst timerId = setTimeout(() => {\n\t\t\t\toverlay.style.transition = \"opacity 150ms ease-out\"\n\t\t\t\toverlay.style.opacity = \"0\"\n\n\t\t\t\tconst cleanupTimer = setTimeout(() => {\n\t\t\t\t\tif (overlay.parentNode) {\n\t\t\t\t\t\toverlay.parentNode.removeChild(overlay)\n\t\t\t\t\t}\n\t\t\t\t\tconst entry = this.activeFlashes.get(container)\n\t\t\t\t\tif (entry?.scrollCleanup) {\n\t\t\t\t\t\tentry.scrollCleanup()\n\t\t\t\t\t}\n\t\t\t\t\tthis.activeFlashes.delete(container)\n\t\t\t\t\tfadeOutTimers.delete(overlay)\n\t\t\t\t}, 150)\n\n\t\t\t\tfadeOutTimers.set(overlay, cleanupTimer)\n\t\t\t}, 300)\n\n\t\t\tfadeOutTimers.set(overlay, timerId)\n\t\t})\n\t},\n\n\tcleanup(container: HTMLElement) {\n\t\tconst entry = this.activeFlashes.get(container)\n\t\tif (entry) {\n\t\t\tconst existingTimer = fadeOutTimers.get(entry.overlay)\n\t\t\tif (existingTimer) {\n\t\t\t\tclearTimeout(existingTimer)\n\t\t\t\tfadeOutTimers.delete(entry.overlay)\n\t\t\t}\n\t\t\tif (entry.overlay.parentNode) {\n\t\t\t\tentry.overlay.parentNode.removeChild(entry.overlay)\n\t\t\t}\n\t\t\tif (entry.scrollCleanup) {\n\t\t\t\tentry.scrollCleanup()\n\t\t\t}\n\t\t\tthis.activeFlashes.delete(container)\n\t\t}\n\t},\n\n\tcleanupAll() {\n\t\tfor (const [, entry] of this.activeFlashes) {\n\t\t\tthis.cleanup(entry.element)\n\t\t}\n\t},\n}\n","// @ts-nocheck\nimport { type Fiber, getType } from \"bippy\"\n// import type { ComponentType } from 'preact';\nimport { ReactDevtoolInternals } from \"~core/index\"\nimport type { AggregatedRender } from \"~web/utils/outline\"\nimport type { AggregatedChange, Render } from \"./instrumentation\"\n\nconst aggregateChanges = (\n\tchanges: Array<Change>,\n\tprevAggregatedChange?: AggregatedChange,\n) => {\n\tconst newChange = {\n\t\ttype: prevAggregatedChange?.type ?? 0,\n\t\tunstable: prevAggregatedChange?.unstable ?? false,\n\t}\n\tfor (const change of changes) {\n\t\tnewChange.type |= change.type\n\t\tnewChange.unstable = newChange.unstable || (change.unstable ?? false)\n\t}\n\n\treturn newChange\n}\n\nconst joinAggregations = ({\n\tfrom,\n\tto,\n}: {\n\tfrom: AggregatedRender\n\tto: AggregatedRender\n}) => {\n\tto.changes.type |= from.changes.type\n\tto.changes.unstable = to.changes.unstable || from.changes.unstable\n\tto.aggregatedCount += 1\n\tto.didCommit = to.didCommit || from.didCommit\n\tto.forget = to.forget || from.forget\n\tto.fps = to.fps + from.fps\n\tto.phase |= from.phase\n\tto.time = (to.time ?? 0) + (from.time ?? 0)\n\n\tto.unnecessary = to.unnecessary || from.unnecessary\n}\n\nconst aggregateRender = (\n\tnewRender: Render,\n\tprevAggregated: AggregatedRender,\n) => {\n\tprevAggregated.changes = aggregateChanges(\n\t\tnewRender.changes,\n\t\tprevAggregated.changes,\n\t)\n\tprevAggregated.aggregatedCount += 1\n\tprevAggregated.didCommit = prevAggregated.didCommit || newRender.didCommit\n\tprevAggregated.forget = prevAggregated.forget || newRender.forget\n\tprevAggregated.fps = prevAggregated.fps + newRender.fps\n\tprevAggregated.phase |= newRender.phase\n\tprevAggregated.time = (prevAggregated.time ?? 0) + (newRender.time ?? 0)\n\n\tprevAggregated.unnecessary =\n\t\tprevAggregated.unnecessary || newRender.unnecessary\n}\n\nfunction descending(a: number, b: number): number {\n\treturn b - a\n}\n\ninterface ComponentData {\n\tname: string\n\tforget: boolean\n\ttime: number\n}\n\nfunction getComponentGroupNames(group: ComponentData[]): string {\n\tlet result = group[0].name\n\n\tconst len = group.length\n\tconst max = Math.min(4, len)\n\n\tfor (let i = 1; i < max; i++) {\n\t\tresult += `, ${group[i].name}`\n\t}\n\n\treturn result\n}\n\nfunction getComponentGroupTotalTime(group: ComponentData[]): number {\n\tlet result = group[0].time\n\n\tfor (let i = 1, len = group.length; i < len; i++) {\n\t\tresult += group[i].time\n\t}\n\n\treturn result\n}\n\nfunction componentGroupHasForget(group: ComponentData[]): boolean {\n\tfor (let i = 0, len = group.length; i < len; i++) {\n\t\tif (group[i].forget) {\n\t\t\treturn true\n\t\t}\n\t}\n\treturn false\n}\n\nexport const getLabelText = (\n\tgroupedAggregatedRenders: Array<AggregatedRender>,\n) => {\n\tlet labelText = \"\"\n\n\tconst componentsByCount = new Map<\n\t\tnumber,\n\t\tArray<{ name: string; forget: boolean; time: number }>\n\t>()\n\n\tfor (const aggregatedRender of groupedAggregatedRenders) {\n\t\tconst { forget, time, aggregatedCount, name } = aggregatedRender\n\t\tif (!componentsByCount.has(aggregatedCount)) {\n\t\t\tcomponentsByCount.set(aggregatedCount, [])\n\t\t}\n\t\tconst components = componentsByCount.get(aggregatedCount)\n\t\tif (components) {\n\t\t\tcomponents.push({ name, forget, time: time ?? 0 })\n\t\t}\n\t}\n\n\tconst sortedCounts = Array.from(componentsByCount.keys()).sort(descending)\n\n\tconst parts: Array<string> = []\n\tlet cumulativeTime = 0\n\tfor (const count of sortedCounts) {\n\t\tconst componentGroup = componentsByCount.get(count)\n\t\tif (!componentGroup) continue\n\n\t\tlet text = getComponentGroupNames(componentGroup)\n\t\tconst totalTime = getComponentGroupTotalTime(componentGroup)\n\t\tconst hasForget = componentGroupHasForget(componentGroup)\n\n\t\tcumulativeTime += totalTime\n\n\t\tif (componentGroup.length > 4) {\n\t\t\ttext += \"\"\n\t\t}\n\n\t\tif (count > 1) {\n\t\t\ttext += `  ${count}`\n\t\t}\n\n\t\tif (hasForget) {\n\t\t\ttext = `${text}`\n\t\t}\n\n\t\tparts.push(text)\n\t}\n\n\tlabelText = parts.join(\", \")\n\n\tif (!labelText.length) return null\n\n\tif (labelText.length > 40) {\n\t\tlabelText = `${labelText.slice(0, 40)}`\n\t}\n\n\tif (cumulativeTime >= 0.01) {\n\t\tlabelText += ` (${Number(cumulativeTime.toFixed(2))}ms)`\n\t}\n\n\treturn labelText\n}\n\nconst updateFiberRenderData = (fiber: Fiber, renders: Array<Render>) => {\n\tReactDevtoolInternals.options.value.onRender?.(fiber, renders)\n\tconst type = getType(fiber.type) || fiber.type\n\tif (type && (typeof type === \"function\" || typeof type === \"object\")) {\n\t\tconst renderData = (type.renderData || {\n\t\t\tcount: 0,\n\t\t\ttime: 0,\n\t\t\trenders: [],\n\t\t}) as RenderData\n\t\tconst firstRender = renders[0]\n\t\trenderData.count += firstRender.count\n\t\trenderData.time += firstRender.time ?? 0\n\t\trenderData.renders.push(firstRender)\n\t\ttype.renderData = renderData\n\t}\n}\n\nexport interface RenderData {\n\tcount: number\n\ttime: number\n\trenders: Array<Render>\n\tdisplayName: string | null\n\ttype: unknown\n\tchanges?: Array<RenderChange>\n}\n\nexport function isEqual(a: unknown, b: unknown): boolean {\n\treturn a === b || (a !== a && b !== b)\n}\n\nconst playNotificationSound = (audioContext: AudioContext) => {\n\tconst oscillator = audioContext.createOscillator()\n\tconst gainNode = audioContext.createGain()\n\n\toscillator.connect(gainNode)\n\tgainNode.connect(audioContext.destination)\n\n\tconst options = {\n\t\ttype: \"sine\" as OscillatorType,\n\t\tfreq: [\n\t\t\t392,\n\t\t\t//  523.25,\n\t\t\t600,\n\t\t\t//  659.25\n\t\t],\n\t\tduration: 0.3,\n\t\tgain: 0.12,\n\t}\n\n\tconst frequencies = options.freq\n\tconst timePerNote = options.duration / frequencies.length\n\n\tfrequencies.forEach((freq, i) => {\n\t\toscillator.frequency.setValueAtTime(\n\t\t\tfreq,\n\t\t\taudioContext.currentTime + i * timePerNote,\n\t\t)\n\t})\n\n\toscillator.type = options.type\n\tgainNode.gain.setValueAtTime(options.gain, audioContext.currentTime)\n\n\tgainNode.gain.setTargetAtTime(\n\t\t0,\n\t\taudioContext.currentTime + options.duration * 0.7,\n\t\t0.05,\n\t)\n\n\toscillator.start()\n\toscillator.stop(audioContext.currentTime + options.duration)\n}\n","// THIS FILE WILL BE DELETED\n\nimport type { Fiber } from \"bippy\"\nimport type { OutlineKey } from \"~core/index\"\nimport type { AggregatedChange } from \"~core/instrumentation\"\n\ninterface OutlineLabel {\n\talpha: number\n\tcolor: { r: number; g: number; b: number }\n\treasons: number // based on Reason enum\n\tlabelText: string\n\ttextWidth: number\n\tactiveOutline: Outline\n}\n\n// using intersection observer lets us get the boundingClientRect asynchronously without forcing a reflow.\n// The browser can internally optimize the bounding rect query, so this will be faster then meticulously\n// Batching getBoundingClientRect at the right time in the browser rendering pipeline.\n// batchGetBoundingRects function can return in sub <10ms under good conditions, but may take much longer under poor conditions.\n// We interpolate the outline rects to avoid the appearance of jitter\n// reference: https://w3c.github.io/IntersectionObserver/\n/**\n *\n * @deprecated use getBatchedRectMap\n */\nexport const batchGetBoundingRects = (\n\telements: Array<Element>,\n): Promise<Map<Element, DOMRect>> => {\n\treturn new Promise((resolve) => {\n\t\tconst results = new Map<Element, DOMRect>()\n\t\tconst observer = new IntersectionObserver((entries) => {\n\t\t\tfor (const entry of entries) {\n\t\t\t\tconst element = entry.target\n\t\t\t\tconst bounds = entry.boundingClientRect\n\t\t\t\tresults.set(element, bounds)\n\t\t\t}\n\t\t\tobserver.disconnect()\n\t\t\tresolve(results)\n\t\t})\n\n\t\tfor (const element of elements) {\n\t\t\tobserver.observe(element)\n\t\t}\n\t})\n}\n\ntype ComponentName = string\n\nexport interface Outline {\n\tdomNode: Element\n\t/** Aggregated render info */ // TODO: Flatten AggregatedRender into Outline to avoid re-creating objects\n\t// this render is useless when in active outlines (confirm this rob)\n\taggregatedRender: AggregatedRender // maybe we should set this to null when its useless\n\n\t/* Active Info- we re-use the Outline object to avoid over-allocing objects, which is why we have a singular aggregatedRender and collection of it (groupedAggregatedRender) */\n\talpha: number | null\n\ttotalFrames: number | null\n\t/*\n    - Invariant: This scales at a rate of O(unique components rendered at the same (x,y) coordinates)\n    - renders with the same x/y position but different fibers will be a different fiber -> aggregated render entry.\n  */\n\tgroupedAggregatedRender: Map<Fiber, AggregatedRender> | null\n\n\t/* Rects for interpolation */\n\tcurrent: DOMRect | null\n\ttarget: DOMRect | null\n\t/* This value is computed before the full rendered text is shown, so its only considered an estimate */\n\testimatedTextWidth: number | null // todo: estimated is stupid just make it the actual\n}\n\nexport enum RenderPhase {\n\tMount = 0b001,\n\tUpdate = 0b010,\n\tUnmount = 0b100,\n}\n\nexport const RENDER_PHASE_STRING_TO_ENUM = {\n\tmount: RenderPhase.Mount,\n\tupdate: RenderPhase.Update,\n\tunmount: RenderPhase.Unmount,\n} as const\n\nexport interface AggregatedRender {\n\tname: ComponentName\n\tframe: number | null\n\tphase: number // union of RenderPhase\n\ttime: number | null\n\taggregatedCount: number\n\tforget: boolean\n\tchanges: AggregatedChange\n\tunnecessary: boolean | null\n\tdidCommit: boolean\n\tfps: number\n\n\tcomputedKey: OutlineKey | null\n\tcomputedCurrent: DOMRect | null // reference to dom rect to copy over to new outline made at new position\n}\n","import { type Signal, signal } from \"@preact/signals\"\nimport {\n\tClassComponentTag,\n\ttype Fiber,\n\ttype FiberRoot,\n\tForwardRefTag,\n\tFunctionComponentTag,\n\tMemoComponentTag,\n\ttype MemoizedState,\n\tSimpleMemoComponentTag,\n\tdidFiberCommit,\n\tgetDisplayName,\n\tgetFiberId,\n\tgetMutatedHostFibers,\n\tgetTimings,\n\tgetType,\n\thasMemoCache,\n\tinstrument,\n\ttraverseContexts,\n\ttraverseProps,\n\ttraverseRenderedFibers,\n} from \"bippy\"\nimport { isValidElement } from \"preact\"\nimport { isEqual } from \"~core/utils\"\nimport {\n\tRENDER_PHASE_STRING_TO_ENUM,\n\ttype RenderPhase,\n} from \"~web/utils/outline\"\nimport {\n\tcollectContextChanges,\n\tcollectPropsChanges,\n\tcollectStateChanges,\n} from \"~web/views/inspector/timeline/utils\"\nimport {\n\ttype Change,\n\ttype ContextChange,\n\tReactDevtoolInternals,\n\ttype StateChange,\n} from \"./index\"\n\nlet fps = 0\nlet lastTime = performance.now()\nlet frameCount = 0\nlet initedFps = false\n\nconst updateFPS = () => {\n\tframeCount++\n\tconst now = performance.now()\n\tif (now - lastTime >= 1000) {\n\t\tfps = frameCount\n\t\tframeCount = 0\n\t\tlastTime = now\n\t}\n\trequestAnimationFrame(updateFPS)\n}\n\nexport const getFPS = () => {\n\tif (!initedFps) {\n\t\tinitedFps = true\n\t\tupdateFPS()\n\t\tfps = 60\n\t}\n\n\treturn fps\n}\n\nconst isElementVisible = (el: Element) => {\n\tconst style = window.getComputedStyle(el)\n\treturn (\n\t\tstyle.display !== \"none\" &&\n\t\tstyle.visibility !== \"hidden\" &&\n\t\tstyle.contentVisibility !== \"hidden\" &&\n\t\tstyle.opacity !== \"0\"\n\t)\n}\n\nconst isValueUnstable = (prevValue: unknown, nextValue: unknown) => {\n\tconst prevValueString = fastSerialize(prevValue)\n\tconst nextValueString = fastSerialize(nextValue)\n\treturn (\n\t\tprevValueString === nextValueString &&\n\t\tunstableTypes.includes(typeof prevValue) &&\n\t\tunstableTypes.includes(typeof nextValue)\n\t)\n}\n\nconst isElementInViewport = (\n\tel: Element,\n\trect = el.getBoundingClientRect(),\n) => {\n\tconst isVisible =\n\t\trect.bottom > 0 &&\n\t\trect.right > 0 &&\n\t\trect.top < window.innerHeight &&\n\t\trect.left < window.innerWidth\n\n\treturn isVisible && rect.width && rect.height\n}\n\nexport enum ChangeReason {\n\tProps = 0b001,\n\tFunctionalState = 0b010,\n\tClassState = 0b011,\n\tContext = 0b100,\n}\n\nexport interface AggregatedChange {\n\ttype: number // union of AggregatedChangeReason\n\tunstable: boolean\n}\n\nexport interface Render {\n\tphase: RenderPhase\n\tcomponentName: string | null\n\ttime: number | null\n\tcount: number\n\tforget: boolean\n\tchanges: Array<Change>\n\tunnecessary: boolean | null\n\tdidCommit: boolean\n\tfps: number\n}\n\nconst unstableTypes = [\"function\", \"object\"]\n\nconst cache = new WeakMap<object, string>()\n\nfunction fastSerialize(value: unknown, depth = 0): string {\n\tif (depth < 0) return \"\"\n\n\tswitch (typeof value) {\n\t\tcase \"function\":\n\t\t\treturn value.toString()\n\t\tcase \"string\":\n\t\t\treturn value\n\t\tcase \"number\":\n\t\tcase \"boolean\":\n\t\tcase \"undefined\":\n\t\t\treturn String(value)\n\t\tcase \"object\":\n\t\t\tbreak\n\t\tdefault:\n\t\t\treturn String(value)\n\t}\n\n\tif (value === null) return \"null\"\n\n\tif (cache.has(value)) {\n\t\tconst cached = cache.get(value)\n\t\tif (cached !== undefined) {\n\t\t\treturn cached\n\t\t}\n\t}\n\n\tif (Array.isArray(value)) {\n\t\tconst str = value.length ? `[${value.length}]` : \"[]\"\n\t\tcache.set(value, str)\n\t\treturn str\n\t}\n\n\tif (isValidElement(value)) {\n\t\tconst type = getDisplayName(value.type) ?? \"\"\n\t\tconst propCount = value.props ? Object.keys(value.props).length : 0\n\t\tconst str = `<${type} ${propCount}>`\n\t\tcache.set(value, str)\n\t\treturn str\n\t}\n\n\tif (Object.getPrototypeOf(value) === Object.prototype) {\n\t\tconst keys = Object.keys(value)\n\t\tconst str = keys.length ? `{${keys.length}}` : \"{}\"\n\t\tcache.set(value, str)\n\t\treturn str\n\t}\n\n\tconst ctor =\n\t\tvalue && typeof value === \"object\" ? value.constructor : undefined\n\tif (ctor && typeof ctor === \"function\" && ctor.name) {\n\t\tconst str = `${ctor.name}{}`\n\t\tcache.set(value, str)\n\t\treturn str\n\t}\n\n\tconst tagString = Object.prototype.toString.call(value).slice(8, -1)\n\tconst str = `${tagString}{}`\n\tcache.set(value, str)\n\treturn str\n}\n\nexport const getStateChanges = (fiber: Fiber): StateChange[] => {\n\tif (!fiber) return []\n\tconst changes: StateChange[] = []\n\n\tif (\n\t\tfiber.tag === FunctionComponentTag ||\n\t\tfiber.tag === ForwardRefTag ||\n\t\tfiber.tag === SimpleMemoComponentTag ||\n\t\tfiber.tag === MemoComponentTag\n\t) {\n\t\tlet memoizedState: MemoizedState | null = fiber.memoizedState\n\t\tlet prevState: MemoizedState | null | undefined =\n\t\t\tfiber.alternate?.memoizedState\n\t\tlet index = 0\n\n\t\twhile (memoizedState) {\n\t\t\tif (memoizedState.queue && memoizedState.memoizedState !== undefined) {\n\t\t\t\tconst change: StateChange = {\n\t\t\t\t\ttype: ChangeReason.FunctionalState,\n\t\t\t\t\tname: index.toString(),\n\t\t\t\t\tvalue: memoizedState.memoizedState,\n\t\t\t\t\tprevValue: prevState?.memoizedState,\n\t\t\t\t}\n\t\t\t\tif (!isEqual(change.prevValue, change.value)) {\n\t\t\t\t\tchanges.push(change)\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemoizedState = memoizedState.next\n\t\t\tprevState = prevState?.next\n\t\t\tindex++\n\t\t}\n\n\t\treturn changes\n\t}\n\n\tif (fiber.tag === ClassComponentTag) {\n\t\t// when we have class component fiber, memoizedState is the component state\n\t\tconst change: StateChange = {\n\t\t\ttype: ChangeReason.ClassState,\n\t\t\tname: \"state\",\n\t\t\tvalue: fiber.memoizedState,\n\t\t\tprevValue: fiber.alternate?.memoizedState,\n\t\t}\n\t\tif (!isEqual(change.prevValue, change.value)) {\n\t\t\tchanges.push(change)\n\t\t}\n\t\treturn changes\n\t}\n\n\treturn changes\n}\ninterface ContextFiber {\n\tcontext: unknown // refers to Context<T>;\n\tmemoizedValue: unknown\n}\n\nlet lastContextId = 0\nconst contextIdMap = new WeakMap<ContextFiber, number>()\nconst getContextId = (contextFiber: ContextFiber) => {\n\tconst existing = contextIdMap.get(contextFiber)\n\tif (existing) {\n\t\treturn existing\n\t}\n\tlastContextId++\n\tcontextIdMap.set(contextFiber, lastContextId)\n\treturn lastContextId\n}\n\nfunction getContextChangesTraversal(\n\tthis: Array<Change>,\n\tnextValue: ContextFiber | null | undefined,\n\tprevValue: ContextFiber | null | undefined,\n): void {\n\tif (!nextValue || !prevValue) return\n\t// const prevMemoizedValue = prevValue.memoizedValue;\n\tconst nextMemoizedValue = nextValue.memoizedValue\n\n\tconst change: ContextChange = {\n\t\ttype: ChangeReason.Context,\n\t\tname:\n\t\t\t(nextValue.context as { displayName: string | undefined }).displayName ??\n\t\t\t\"Context.Provider\",\n\t\tvalue: nextMemoizedValue,\n\t\tcontextType: getContextId(nextValue.context as ContextFiber),\n\n\t\t// unstable: false,\n\t}\n\tthis.push(change)\n\n\t// const prevValueString = fastSerialize(prevMemoizedValue);\n\t// const nextValueString = fastSerialize(nextMemoizedValue);\n\n\t// if (\n\t//   unstableTypes.includes(typeof prevMemoizedValue) &&\n\t//   unstableTypes.includes(typeof nextMemoizedValue) &&\n\t//   prevValueString === nextValueString\n\t// ) {\n\t//   change.unstable = true;\n\t// }\n}\n\nexport const getContextChanges = (fiber: Fiber) => {\n\tconst changes: Array<ContextChange> = []\n\n\t// Alexis: we use bind functions so that the compiler doesn't produce\n\t// any closures\n\ttraverseContexts(fiber, getContextChangesTraversal.bind(changes))\n\n\treturn changes\n}\n\ntype OnRenderHandler = (fiber: Fiber, renders: Array<Render>) => void\ntype OnCommitStartHandler = () => void\ntype OnCommitFinishHandler = () => void\ntype OnErrorHandler = (error: unknown) => void\ntype IsValidFiberHandler = (fiber: Fiber) => boolean\ntype OnActiveHandler = () => void\n\ninterface InstrumentationConfig {\n\tonCommitStart: OnCommitStartHandler\n\tisValidFiber: IsValidFiberHandler\n\tonRender: OnRenderHandler\n\tonCommitFinish: OnCommitFinishHandler\n\tonError: OnErrorHandler\n\tonActive?: OnActiveHandler\n\tonPostCommitFiberRoot: () => void\n\t// monitoring does not need to track changes, and it adds overhead to leave it on\n\ttrackChanges: boolean\n\t// allows monitoring to continue tracking renders even if react scan dev mode is disabled\n\tforceAlwaysTrackRenders?: boolean\n}\n\ninterface InstrumentationInstance {\n\tkey: string\n\tconfig: InstrumentationConfig\n\tinstrumentation: Instrumentation\n}\n\ninterface Instrumentation {\n\tisPaused: Signal<boolean>\n\tfiberRoots: WeakSet<FiberRoot>\n}\n\nconst instrumentationInstances = new Map<string, InstrumentationInstance>()\nlet inited = false\n\nconst getAllInstances = () => Array.from(instrumentationInstances.values())\n\ninterface IsRenderUnnecessaryState {\n\tisRequiredChange: boolean\n}\n\nfunction isRenderUnnecessaryTraversal(\n\tthis: IsRenderUnnecessaryState,\n\t_propsName: string,\n\tprevValue: unknown,\n\tnextValue: unknown,\n): void {\n\tif (\n\t\t!isEqual(prevValue, nextValue) &&\n\t\t!isValueUnstable(prevValue, nextValue)\n\t) {\n\t\tthis.isRequiredChange = true\n\t}\n}\n\n// FIXME: calculation is slow\nconst isRenderUnnecessary = (fiber: Fiber) => {\n\tif (!didFiberCommit(fiber)) return true\n\n\tconst mutatedHostFibers = getMutatedHostFibers(fiber)\n\tfor (const mutatedHostFiber of mutatedHostFibers) {\n\t\tconst state: IsRenderUnnecessaryState = {\n\t\t\tisRequiredChange: false,\n\t\t}\n\t\ttraverseProps(mutatedHostFiber, isRenderUnnecessaryTraversal.bind(state))\n\t\tif (state.isRequiredChange) return false\n\t}\n\treturn true\n}\n\n// // re-implement this in new-outlines\n// const shouldRunUnnecessaryRenderCheck = () => {\n//   // yes, this can be condensed into one conditional, but ifs are easier to reason/build on than long boolean expressions\n//   if (!ReactDevtoolInternals.options.value.trackUnnecessaryRenders) {\n//     return false;\n//   }\n\n//   // only run unnecessaryRenderCheck when monitoring is active in production if the user set dangerouslyForceRunInProduction\n//   if (\n//     getIsProduction() &&\n//     Store.monitor.value &&\n//     ReactDevtoolInternals.options.value.dangerouslyForceRunInProduction &&\n//     ReactDevtoolInternals.options.value.trackUnnecessaryRenders\n//   ) {\n//     return true;\n//   }\n\n//   if (getIsProduction() && Store.monitor.value) {\n//     return false;\n//   }\n\n//   return ReactDevtoolInternals.options.value.trackUnnecessaryRenders;\n// };\n\nconst TRACK_UNNECESSARY_RENDERS = false\n\nexport interface RenderData {\n\tselfTime: number\n\ttotalTime: number\n\trenderCount: number\n\tlastRenderTimestamp: number\n}\n\nexport interface OldRenderData {\n\tcount: number\n\ttime: number\n\trenders: Array<Render>\n\tdisplayName: string | null\n\t// biome-ignore lint/suspicious/noExplicitAny: temporary type hack cause im lazy\n\ttype: any\n\t// biome-ignore lint/suspicious/noExplicitAny: temporary type hack cause im lazy\n\tchanges?: any\n}\n\nconst RENDER_DEBOUNCE_MS = 16\n\nconst renderDataMap = new WeakMap<object, Map<string, RenderData>>()\n\nfunction getFiberIdentifier(fiber: Fiber) {\n\treturn String(getFiberId(fiber))\n}\n\nexport function getRenderData(fiber: Fiber) {\n\tconst id = getFiberIdentifier(fiber)\n\tconst keyMap = renderDataMap.get(getType(fiber) as object)\n\n\tif (keyMap) {\n\t\treturn keyMap.get(id)\n\t}\n\n\treturn undefined\n}\n\nfunction setRenderData(fiber: Fiber, value: RenderData) {\n\tconst type = getType(fiber.type)\n\tconst id = getFiberIdentifier(fiber)\n\tlet keyMap = renderDataMap.get(type as object)\n\n\tif (!keyMap) {\n\t\tkeyMap = new Map()\n\t\trenderDataMap.set(type as object, keyMap)\n\t}\n\n\tkeyMap.set(id, value)\n}\n\nconst trackRender = (\n\tfiber: Fiber,\n\tfiberSelfTime: number,\n\tfiberTotalTime: number,\n\thasChanges: boolean,\n\thasDomMutations: boolean,\n) => {\n\tconst currentTimestamp = Date.now()\n\tconst existingData = getRenderData(fiber)\n\n\tif (\n\t\t(hasChanges || hasDomMutations) &&\n\t\t(!existingData ||\n\t\t\tcurrentTimestamp - (existingData.lastRenderTimestamp || 0) >\n\t\t\t\tRENDER_DEBOUNCE_MS)\n\t) {\n\t\tconst renderData: RenderData = existingData || {\n\t\t\tselfTime: 0,\n\t\t\ttotalTime: 0,\n\t\t\trenderCount: 0,\n\t\t\tlastRenderTimestamp: currentTimestamp,\n\t\t}\n\n\t\trenderData.renderCount = (renderData.renderCount || 0) + 1\n\t\trenderData.selfTime = fiberSelfTime || 0\n\t\trenderData.totalTime = fiberTotalTime || 0\n\t\trenderData.lastRenderTimestamp = currentTimestamp\n\n\t\tsetRenderData(fiber, { ...renderData })\n\t}\n}\n\nexport const createInstrumentation = (\n\tinstanceKey: string,\n\tconfig: InstrumentationConfig,\n) => {\n\tconst instrumentation: Instrumentation = {\n\t\t// this will typically be false, but in cases where a user provides showToolbar: true, this will be true\n\t\tisPaused: signal(!ReactDevtoolInternals.options.value.enabled),\n\t\tfiberRoots: new WeakSet<FiberRoot>(),\n\t}\n\tinstrumentationInstances.set(instanceKey, {\n\t\tkey: instanceKey,\n\t\tconfig,\n\t\tinstrumentation,\n\t})\n\tif (!inited) {\n\t\tinited = true\n\n\t\tinstrument({\n\t\t\tname: \"react-devtool\",\n\t\t\tonActive: config.onActive,\n\t\t\tonCommitFiberRoot(_rendererID, root) {\n\t\t\t\tinstrumentation.fiberRoots.add(root)\n\t\t\t\t// for now we always track everything for notifications, it may be worth it to make this configurable\n\t\t\t\t// if (\n\t\t\t\t//   ReactDevtoolInternals.instrumentation?.isPaused.value &&\n\t\t\t\t//   (Store.inspectState.value.kind === \"inspect-off\" ||\n\t\t\t\t//     Store.inspectState.value.kind === \"uninitialized\") &&\n\t\t\t\t//   !config.forceAlwaysTrackRenders\n\t\t\t\t// ) {\n\t\t\t\t//   return;\n\t\t\t\t// }\n\t\t\t\tconst allInstances = getAllInstances()\n\t\t\t\tfor (const instance of allInstances) {\n\t\t\t\t\tinstance.config.onCommitStart()\n\t\t\t\t}\n\n\t\t\t\ttraverseRenderedFibers(\n\t\t\t\t\troot.current,\n\t\t\t\t\t(fiber: Fiber, phase: \"mount\" | \"update\" | \"unmount\") => {\n\t\t\t\t\t\tconst type = getType(fiber.type)\n\t\t\t\t\t\tif (!type) return null\n\n\t\t\t\t\t\tconst allInstances = getAllInstances()\n\t\t\t\t\t\tconst validInstancesIndicies: Array<number> = []\n\t\t\t\t\t\tfor (let i = 0, len = allInstances.length; i < len; i++) {\n\t\t\t\t\t\t\tconst instance = allInstances[i]\n\t\t\t\t\t\t\tif (!instance.config.isValidFiber(fiber)) continue\n\t\t\t\t\t\t\tvalidInstancesIndicies.push(i)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!validInstancesIndicies.length) return null\n\n\t\t\t\t\t\tconst changes: Array<Change> = []\n\n\t\t\t\t\t\tif (allInstances.some((instance) => instance.config.trackChanges)) {\n\t\t\t\t\t\t\tconst changesProps = collectPropsChanges(fiber).changes\n\t\t\t\t\t\t\tconst changesState = collectStateChanges(fiber).changes\n\t\t\t\t\t\t\tconst changesContext = collectContextChanges(fiber).changes\n\n\t\t\t\t\t\t\tchanges.push.apply(\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\tchangesProps.map(\n\t\t\t\t\t\t\t\t\t(change) =>\n\t\t\t\t\t\t\t\t\t\t({\n\t\t\t\t\t\t\t\t\t\t\ttype: ChangeReason.Props,\n\t\t\t\t\t\t\t\t\t\t\tname: change.name,\n\t\t\t\t\t\t\t\t\t\t\tvalue: change.value,\n\t\t\t\t\t\t\t\t\t\t}) as Change,\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\tfor (const change of changesState) {\n\t\t\t\t\t\t\t\tif (fiber.tag === ClassComponentTag) {\n\t\t\t\t\t\t\t\t\tchanges.push({\n\t\t\t\t\t\t\t\t\t\ttype: ChangeReason.ClassState,\n\t\t\t\t\t\t\t\t\t\tname: change.name.toString(),\n\t\t\t\t\t\t\t\t\t\tvalue: change.value,\n\t\t\t\t\t\t\t\t\t} as Change)\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tchanges.push({\n\t\t\t\t\t\t\t\t\t\ttype: ChangeReason.FunctionalState,\n\t\t\t\t\t\t\t\t\t\tname: change.name.toString(),\n\t\t\t\t\t\t\t\t\t\tvalue: change.value,\n\t\t\t\t\t\t\t\t\t} as Change)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tchanges.push.apply(\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\tchangesContext.map(\n\t\t\t\t\t\t\t\t\t(change) =>\n\t\t\t\t\t\t\t\t\t\t({\n\t\t\t\t\t\t\t\t\t\t\ttype: ChangeReason.Context,\n\t\t\t\t\t\t\t\t\t\t\tname: change.name,\n\t\t\t\t\t\t\t\t\t\t\tvalue: change.value,\n\t\t\t\t\t\t\t\t\t\t\tcontextType: Number(change.contextType),\n\t\t\t\t\t\t\t\t\t\t}) as Change,\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst { selfTime: fiberSelfTime, totalTime: fiberTotalTime } =\n\t\t\t\t\t\t\tgetTimings(fiber)\n\n\t\t\t\t\t\tconst fps = getFPS()\n\t\t\t\t\t\tconst render: Render = {\n\t\t\t\t\t\t\tphase: RENDER_PHASE_STRING_TO_ENUM[phase],\n\t\t\t\t\t\t\tcomponentName: getDisplayName(type),\n\t\t\t\t\t\t\tcount: 1,\n\t\t\t\t\t\t\tchanges,\n\t\t\t\t\t\t\ttime: fiberSelfTime,\n\t\t\t\t\t\t\tforget: hasMemoCache(fiber),\n\t\t\t\t\t\t\t// todo: allow this to be toggle-able through toolbar\n\t\t\t\t\t\t\t// todo: performance optimization: if the last fiber measure was very off screen, do not run isRenderUnnecessary\n\t\t\t\t\t\t\tunnecessary: TRACK_UNNECESSARY_RENDERS\n\t\t\t\t\t\t\t\t? isRenderUnnecessary(fiber)\n\t\t\t\t\t\t\t\t: null,\n\t\t\t\t\t\t\tdidCommit: didFiberCommit(fiber),\n\t\t\t\t\t\t\tfps,\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// First, determine if this is a real render we should track\n\t\t\t\t\t\tconst hasChanges = changes.length > 0\n\t\t\t\t\t\tconst hasDomMutations = getMutatedHostFibers(fiber).length > 0\n\n\t\t\t\t\t\tif (phase === \"update\") {\n\t\t\t\t\t\t\ttrackRender(\n\t\t\t\t\t\t\t\tfiber,\n\t\t\t\t\t\t\t\tfiberSelfTime,\n\t\t\t\t\t\t\t\tfiberTotalTime,\n\t\t\t\t\t\t\t\thasChanges,\n\t\t\t\t\t\t\t\thasDomMutations,\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (let i = 0, len = validInstancesIndicies.length; i < len; i++) {\n\t\t\t\t\t\t\tconst index = validInstancesIndicies[i]\n\t\t\t\t\t\t\tconst instance = allInstances[index]\n\t\t\t\t\t\t\tinstance.config.onRender(fiber, [render])\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t)\n\n\t\t\t\tfor (const instance of allInstances) {\n\t\t\t\t\tinstance.config.onCommitFinish()\n\t\t\t\t}\n\t\t\t},\n\t\t\tonPostCommitFiberRoot() {\n\t\t\t\tconst allInstances = getAllInstances()\n\t\t\t\tfor (const instance of allInstances) {\n\t\t\t\t\tinstance.config.onPostCommitFiberRoot()\n\t\t\t\t}\n\t\t\t},\n\t\t})\n\t}\n\treturn instrumentation\n}\n","import { Component } from \"preact\"\nimport {} from \"preact/hooks\"\n\nimport { Icon } from \"~web/components/icon\"\n\nimport { flashManager } from \"./flash-overlay\"\nimport { timelineActions } from \"./states\"\nimport { resetTracking } from \"./timeline/utils\"\nimport {} from \"./utils\"\n\nexport const globalInspectorState = {\n\tlastRendered: new Map<string, unknown>(),\n\texpandedPaths: new Set<string>(),\n\tcleanup: () => {\n\t\tglobalInspectorState.lastRendered.clear()\n\t\tglobalInspectorState.expandedPaths.clear()\n\t\tflashManager.cleanupAll()\n\t\tresetTracking()\n\t\ttimelineActions.reset()\n\t},\n}\n\n// todo: add reset button and error message\nclass InspectorErrorBoundary extends Component {\n\tstate: { error: Error | null; hasError: boolean } = {\n\t\thasError: false,\n\t\terror: null,\n\t}\n\n\tstatic getDerivedStateFromError(e: Error) {\n\t\treturn { hasError: true, error: e }\n\t}\n\n\thandleReset = () => {\n\t\tthis.setState({ hasError: false, error: null })\n\t\tglobalInspectorState.cleanup()\n\t}\n\n\trender() {\n\t\tif (this.state.hasError) {\n\t\t\treturn (\n\t\t\t\t<div className=\"p-4 bg-red-950/50 h-screen backdrop-blur-sm\">\n\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3 text-red-400 font-medium\">\n\t\t\t\t\t\t<Icon name=\"icon-flame\" className=\"text-red-500\" size={16} />\n\t\t\t\t\t\tSomething went wrong in the inspector\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"p-3 bg-black/40 rounded font-mono text-xs text-red-300 mb-4 break-words\">\n\t\t\t\t\t\t{this.state.error?.message || JSON.stringify(this.state.error)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={this.handleReset}\n\t\t\t\t\t\tclassName=\"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-md text-sm font-medium transition-colors flex items-center justify-center gap-2\"\n\t\t\t\t\t>\n\t\t\t\t\t\tReset Inspector\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\n\t\treturn this.props.children\n\t}\n}\n","import {\n\ttype Fiber,\n\tFunctionComponentTag,\n\ttype MemoizedState,\n\tgetDisplayName,\n\tgetTimings,\n\tisCompositeFiber,\n\tisHostFiber,\n\ttraverseFiber,\n} from \"bippy\"\nimport { type PropsChange, ReactDevtoolInternals } from \"~core/index\"\nimport { ChangeReason } from \"~core/instrumentation\"\nimport { isEqual } from \"~core/utils\"\nimport { batchGetBoundingRects } from \"~web/utils/outline\"\nimport { globalInspectorState } from \".\"\nimport type { ExtendedReactRenderer } from \"../../../types\"\nimport { TIMELINE_MAX_UPDATES } from \"./states\"\nimport type { MinimalFiberInfo } from \"./states\"\nimport {} from \"./timeline/utils\"\n\ninterface StateItem {\n\tname: string\n\tvalue: unknown\n}\n\n// todo, change this to currently focused fiber\nexport type States =\n\t| {\n\t\t\tkind: \"inspecting\"\n\t\t\thoveredDomElement: Element | null\n\t  }\n\t| {\n\t\t\tkind: \"inspect-off\"\n\t  }\n\t| {\n\t\t\tkind: \"focused\"\n\t\t\tfocusedDomElement: Element\n\t\t\tfiber: Fiber\n\t  }\n\t| {\n\t\t\tkind: \"uninitialized\"\n\t  }\n\ninterface ReactRootContainer {\n\t_reactRootContainer?: {\n\t\t_internalRoot?: {\n\t\t\tcurrent?: {\n\t\t\t\tchild: Fiber\n\t\t\t}\n\t\t}\n\t}\n}\n\ninterface ReactInternalProps {\n\t[key: string]: Fiber\n}\n\nexport const getFiberFromElement = (element: Element): Fiber | null => {\n\tif (\"__REACT_DEVTOOLS_GLOBAL_HOOK__\" in window) {\n\t\tconst hook = window.__REACT_DEVTOOLS_GLOBAL_HOOK__\n\t\tif (!hook?.renderers) return null\n\n\t\tfor (const [, renderer] of Array.from(hook.renderers)) {\n\t\t\ttry {\n\t\t\t\tconst fiber = renderer.findFiberByHostInstance?.(element)\n\t\t\t\tif (fiber) return fiber\n\t\t\t} catch {\n\t\t\t\t// If React is mid-render, references to previous nodes may disappear\n\t\t\t}\n\t\t}\n\t}\n\n\tif (\"_reactRootContainer\" in element) {\n\t\tconst elementWithRoot = element as unknown as ReactRootContainer\n\t\tconst rootContainer = elementWithRoot._reactRootContainer\n\t\treturn rootContainer?._internalRoot?.current?.child ?? null\n\t}\n\n\tfor (const key in element) {\n\t\tif (\n\t\t\tkey.startsWith(\"__reactInternalInstance$\") ||\n\t\t\tkey.startsWith(\"__reactFiber\")\n\t\t) {\n\t\t\tconst elementWithFiber = element as unknown as ReactInternalProps\n\t\t\treturn elementWithFiber[key]\n\t\t}\n\t}\n\treturn null\n}\n\nconst getFirstStateNode = (fiber: Fiber): Element | null => {\n\tlet current: Fiber | null = fiber\n\twhile (current) {\n\t\tif (current.stateNode instanceof Element) {\n\t\t\treturn current.stateNode\n\t\t}\n\n\t\tif (!current.child) {\n\t\t\tbreak\n\t\t}\n\t\tcurrent = current.child\n\t}\n\n\twhile (current) {\n\t\tif (current.stateNode instanceof Element) {\n\t\t\treturn current.stateNode\n\t\t}\n\n\t\tif (!current.return) {\n\t\t\tbreak\n\t\t}\n\t\tcurrent = current.return\n\t}\n\treturn null\n}\n\nconst getNearestFiberFromElement = (element: Element | null): Fiber | null => {\n\tif (!element) return null\n\n\ttry {\n\t\tconst fiber = getFiberFromElement(element)\n\t\tif (!fiber) return null\n\n\t\tconst res = getParentCompositeFiber(fiber)\n\t\treturn res ? res[0] : null\n\t} catch {\n\t\treturn null\n\t}\n}\n\nexport const getParentCompositeFiber = (\n\tfiber: Fiber,\n): readonly [Fiber, Fiber | null] | null => {\n\tlet current: Fiber | null = fiber\n\tlet prevHost: Fiber | null = null\n\n\twhile (current) {\n\t\tif (isCompositeFiber(current)) return [current, prevHost] as const\n\t\tif (isHostFiber(current) && !prevHost) prevHost = current\n\t\tcurrent = current.return\n\t}\n\n\treturn null\n}\n\nconst isFiberInTree = (fiber: Fiber, root: Fiber): boolean => {\n\t{\n\t\t// const root= fiberRootCache.get(fiber) || (fiber.alternate && fiberRootCache.get(fiber.alternate) )\n\t\t// if (root){\n\t\t//   return root\n\t\t// }\n\t\tconst res = !!traverseFiber(root, (searchFiber) => searchFiber === fiber)\n\n\t\treturn res\n\t}\n}\n\nconst isCurrentTree = (fiber: Fiber) => {\n\tlet curr: Fiber | null = fiber\n\tlet rootFiber: Fiber | null = null\n\n\twhile (curr) {\n\t\t// todo: make sure removing null check doesn't break\n\t\t// todo: document that fiber stores root in stateNode\n\t\tif (!curr.stateNode) {\n\t\t\tcurr = curr.return\n\t\t\tcontinue\n\t\t}\n\t\t// if the app never rendered then fiber roots will always return false, but thats fine since we don't care which\n\t\t// fiber we read from when there never has been a re-render\n\t\t// todo: document that better\n\t\tif (ReactDevtoolInternals.instrumentation?.fiberRoots.has(curr.stateNode)) {\n\t\t\trootFiber = curr\n\n\t\t\tbreak\n\t\t}\n\n\t\tcurr = curr.return\n\t}\n\n\tif (!rootFiber) {\n\t\treturn false\n\t}\n\n\tconst fiberRoot = rootFiber.stateNode\n\tconst currentRootFiber = fiberRoot.current\n\n\treturn isFiberInTree(fiber, currentRootFiber)\n}\n\nexport const getAssociatedFiberRect = async (element: Element) => {\n\tconst associatedFiber = getNearestFiberFromElement(element)\n\n\tif (!associatedFiber) return null\n\tconst stateNode = getFirstStateNode(associatedFiber)\n\tif (!stateNode) return null\n\n\tconst rect = (await batchGetBoundingRects([stateNode])).get(stateNode)\n\tif (!rect) return null\n\treturn rect\n}\n\n// todo-before-stable(rob): refactor these\nexport const getCompositeComponentFromElement = (element: Element) => {\n\tconst associatedFiber = getNearestFiberFromElement(element)\n\n\tif (!associatedFiber) return {}\n\n\tconst stateNode = getFirstStateNode(associatedFiber)\n\tif (!stateNode) return {}\n\tconst parentCompositeFiberInfo = getParentCompositeFiber(associatedFiber)\n\tif (!parentCompositeFiberInfo) {\n\t\treturn {}\n\t}\n\tconst [parentCompositeFiber] = parentCompositeFiberInfo\n\n\treturn {\n\t\tparentCompositeFiber,\n\t}\n}\n\nexport const getCompositeFiberFromElement = (\n\telement: Element,\n\tknownFiber?: Fiber,\n) => {\n\tif (!element.isConnected) return {}\n\n\tlet fiber = knownFiber ?? getNearestFiberFromElement(element)\n\tif (!fiber) return {}\n\n\t// Find root once and cache it\n\tlet curr: Fiber | null = fiber\n\tlet rootFiber: Fiber | null = null\n\tlet currentRootFiber: Fiber | null = null\n\n\twhile (curr) {\n\t\tif (!curr.stateNode) {\n\t\t\tcurr = curr.return\n\t\t\tcontinue\n\t\t}\n\t\tif (ReactDevtoolInternals.instrumentation?.fiberRoots.has(curr.stateNode)) {\n\t\t\trootFiber = curr\n\t\t\tcurrentRootFiber = curr.stateNode.current\n\t\t\tbreak\n\t\t}\n\t\tcurr = curr.return\n\t}\n\n\tif (!rootFiber || !currentRootFiber) return {}\n\n\t// Get the current associated fiber using cached root\n\tfiber = isFiberInTree(fiber, currentRootFiber)\n\t\t? fiber\n\t\t: (fiber.alternate ?? fiber)\n\tif (!fiber) return {}\n\n\tif (!getFirstStateNode(fiber)) return {}\n\n\t// Get parent composite fiber\n\tconst parentCompositeFiber = getParentCompositeFiber(fiber)?.[0]\n\tif (!parentCompositeFiber) return {}\n\n\t// Use cached root to check parent fiber\n\treturn {\n\t\tparentCompositeFiber: isFiberInTree(parentCompositeFiber, currentRootFiber)\n\t\t\t? parentCompositeFiber\n\t\t\t: (parentCompositeFiber.alternate ?? parentCompositeFiber),\n\t}\n}\n\nexport const getChangedPropsDetailed = (fiber: Fiber): Array<PropsChange> => {\n\tconst currentProps = fiber.memoizedProps ?? {}\n\tconst previousProps = fiber.alternate?.memoizedProps ?? {}\n\tconst changes: Array<PropsChange> = []\n\n\tfor (const key in currentProps) {\n\t\tif (key === \"children\") continue\n\n\t\tconst currentValue = currentProps[key]\n\t\tconst prevValue = previousProps[key]\n\n\t\tif (!isEqual(currentValue, prevValue)) {\n\t\t\tchanges.push({\n\t\t\t\tname: key,\n\t\t\t\tvalue: currentValue,\n\t\t\t\tprevValue,\n\t\t\t\ttype: ChangeReason.Props,\n\t\t\t})\n\t\t}\n\t}\n\n\treturn changes\n}\n\ninterface OverrideMethods {\n\toverrideProps: ((fiber: Fiber, path: string[], value: unknown) => void) | null\n\toverrideHookState:\n\t\t| ((fiber: Fiber, id: string, path: string[], value: unknown) => void)\n\t\t| null\n\toverrideContext:\n\t\t| ((fiber: Fiber, contextType: unknown, value: unknown) => void)\n\t\t| null\n}\n\nconst isRecord = (value: unknown): value is Record<string, unknown> => {\n\treturn value !== null && typeof value === \"object\"\n}\n\nexport const getOverrideMethods = (): OverrideMethods => {\n\tlet overrideProps: OverrideMethods[\"overrideProps\"] = null\n\tlet overrideHookState: OverrideMethods[\"overrideHookState\"] = null\n\tlet overrideContext: OverrideMethods[\"overrideContext\"] = null\n\n\tif (\"__REACT_DEVTOOLS_GLOBAL_HOOK__\" in window) {\n\t\tconst hook = window.__REACT_DEVTOOLS_GLOBAL_HOOK__\n\t\tif (!hook?.renderers) {\n\t\t\treturn {\n\t\t\t\toverrideProps: null,\n\t\t\t\toverrideHookState: null,\n\t\t\t\toverrideContext: null,\n\t\t\t}\n\t\t}\n\n\t\tfor (const [, renderer] of Array.from(hook.renderers)) {\n\t\t\ttry {\n\t\t\t\tconst devToolsRenderer = renderer as ExtendedReactRenderer\n\n\t\t\t\tif (overrideHookState) {\n\t\t\t\t\tconst prevOverrideHookState = overrideHookState\n\t\t\t\t\toverrideHookState = (\n\t\t\t\t\t\tfiber: Fiber,\n\t\t\t\t\t\tid: string,\n\t\t\t\t\t\tpath: string[],\n\t\t\t\t\t\tvalue: unknown,\n\t\t\t\t\t) => {\n\t\t\t\t\t\t// Find the hook\n\t\t\t\t\t\tlet current = fiber.memoizedState\n\t\t\t\t\t\tfor (let i = 0; i < Number(id); i++) {\n\t\t\t\t\t\t\tif (!current?.next) break\n\t\t\t\t\t\t\tcurrent = current.next\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (current?.queue) {\n\t\t\t\t\t\t\t// Update through React's queue mechanism\n\t\t\t\t\t\t\tconst queue = current.queue\n\t\t\t\t\t\t\tif (isRecord(queue) && \"dispatch\" in queue) {\n\t\t\t\t\t\t\t\tconst dispatch = queue.dispatch as (value: unknown) => void\n\t\t\t\t\t\t\t\tdispatch(value)\n\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Chain updates through all renderers to ensure consistency across different React renderers\n\t\t\t\t\t\t// (e.g., React DOM + React Native Web in the same app)\n\t\t\t\t\t\tprevOverrideHookState(fiber, id, path, value)\n\t\t\t\t\t\tdevToolsRenderer.overrideHookState?.(fiber, id, path, value)\n\t\t\t\t\t}\n\t\t\t\t} else if (devToolsRenderer.overrideHookState) {\n\t\t\t\t\toverrideHookState = devToolsRenderer.overrideHookState\n\t\t\t\t}\n\n\t\t\t\tif (overrideProps) {\n\t\t\t\t\tconst prevOverrideProps = overrideProps\n\t\t\t\t\toverrideProps = (\n\t\t\t\t\t\tfiber: Fiber,\n\t\t\t\t\t\tpath: Array<string>,\n\t\t\t\t\t\tvalue: unknown,\n\t\t\t\t\t) => {\n\t\t\t\t\t\t// Chain updates through all renderers to maintain consistency\n\t\t\t\t\t\tprevOverrideProps(fiber, path, value)\n\t\t\t\t\t\tdevToolsRenderer.overrideProps?.(fiber, path, value)\n\t\t\t\t\t}\n\t\t\t\t} else if (devToolsRenderer.overrideProps) {\n\t\t\t\t\toverrideProps = devToolsRenderer.overrideProps\n\t\t\t\t}\n\n\t\t\t\t// For context, we don't need the chaining pattern since we're using overrideProps internally\n\t\t\t\t// to update the context provider's value prop, which already handles the chaining\n\t\t\t\toverrideContext = (\n\t\t\t\t\tfiber: Fiber,\n\t\t\t\t\tcontextType: unknown,\n\t\t\t\t\tvalue: unknown,\n\t\t\t\t) => {\n\t\t\t\t\t// Find the provider fiber for this context\n\t\t\t\t\tlet current: Fiber | null = fiber\n\t\t\t\t\twhile (current) {\n\t\t\t\t\t\tconst type = current.type as { Provider?: unknown }\n\t\t\t\t\t\tif (type === contextType || type?.Provider === contextType) {\n\t\t\t\t\t\t\t// Found the provider, update both current and alternate fibers\n\t\t\t\t\t\t\tif (overrideProps) {\n\t\t\t\t\t\t\t\toverrideProps(current, [\"value\"], value)\n\t\t\t\t\t\t\t\tif (current.alternate) {\n\t\t\t\t\t\t\t\t\toverrideProps(current.alternate, [\"value\"], value)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurrent = current.return\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch {\n\t\t\t\t/**/\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { overrideProps, overrideHookState, overrideContext }\n}\n\nexport const nonVisualTags = new Set([\n\t\"HTML\",\n\t\"HEAD\",\n\t\"META\",\n\t\"TITLE\",\n\t\"BASE\",\n\t\"SCRIPT\",\n\t\"SCRIPT\",\n\t\"STYLE\",\n\t\"LINK\",\n\t\"NOSCRIPT\",\n\t\"SOURCE\",\n\t\"TRACK\",\n\t\"EMBED\",\n\t\"OBJECT\",\n\t\"PARAM\",\n\t\"TEMPLATE\",\n\t\"PORTAL\",\n\t\"SLOT\",\n\t\"AREA\",\n\t\"XML\",\n\t\"DOCTYPE\",\n\t\"COMMENT\",\n])\n\nexport const findComponentDOMNode = (\n\tfiber: Fiber,\n\texcludeNonVisualTags = true,\n): HTMLElement | null => {\n\tif (fiber.stateNode && \"nodeType\" in fiber.stateNode) {\n\t\tconst element = fiber.stateNode as HTMLElement\n\t\tif (\n\t\t\texcludeNonVisualTags &&\n\t\t\telement.tagName &&\n\t\t\tnonVisualTags.has(element.tagName.toLowerCase())\n\t\t) {\n\t\t\treturn null\n\t\t}\n\t\treturn element\n\t}\n\n\tlet child = fiber.child\n\twhile (child) {\n\t\tconst result = findComponentDOMNode(child, excludeNonVisualTags)\n\t\tif (result) return result\n\t\tchild = child.sibling\n\t}\n\n\treturn null\n}\n\nexport interface InspectableElement {\n\telement: HTMLElement\n\tdepth: number\n\tname: string\n\tfiber: Fiber\n}\n\nexport const getInspectableElements = (\n\troot: HTMLElement = document.body,\n): Array<InspectableElement> => {\n\tconst result: Array<InspectableElement> = []\n\n\tconst findInspectableFiber = (\n\t\telement: HTMLElement | null,\n\t): HTMLElement | null => {\n\t\tif (!element) return null\n\n\t\tconst { parentCompositeFiber } = getCompositeComponentFromElement(element)\n\t\tif (!parentCompositeFiber) return null\n\n\t\tconst componentRoot = findComponentDOMNode(parentCompositeFiber)\n\t\treturn componentRoot === element ? element : null\n\t}\n\n\tconst traverse = (element: HTMLElement, depth = 0) => {\n\t\tconst inspectable = findInspectableFiber(element)\n\t\tif (inspectable) {\n\t\t\tconst { parentCompositeFiber } =\n\t\t\t\tgetCompositeComponentFromElement(inspectable)\n\n\t\t\tif (!parentCompositeFiber) return\n\n\t\t\tresult.push({\n\t\t\t\telement: inspectable,\n\t\t\t\tdepth,\n\t\t\t\tname: getDisplayName(parentCompositeFiber.type) ?? \"Unknown\",\n\t\t\t\tfiber: parentCompositeFiber,\n\t\t\t})\n\t\t}\n\n\t\t// Traverse children first (depth-first)\n\t\tfor (const child of Array.from(element.children)) {\n\t\t\ttraverse(child as HTMLElement, inspectable ? depth + 1 : depth)\n\t\t}\n\t}\n\n\ttraverse(root)\n\treturn result\n}\n\nconst fiberMap = new WeakMap<HTMLElement, Fiber>()\n\nconst getInspectableAncestors = (\n\telement: HTMLElement,\n): Array<InspectableElement> => {\n\tconst result: Array<InspectableElement> = []\n\n\tconst findInspectableFiber = (\n\t\telement: HTMLElement | null,\n\t): HTMLElement | null => {\n\t\tif (!element) return null\n\t\tconst { parentCompositeFiber } = getCompositeComponentFromElement(element)\n\t\tif (!parentCompositeFiber) return null\n\n\t\tconst componentRoot = findComponentDOMNode(parentCompositeFiber)\n\t\tif (componentRoot === element) {\n\t\t\t// Store the fiber reference in WeakMap\n\t\t\tfiberMap.set(element, parentCompositeFiber)\n\t\t\treturn element\n\t\t}\n\t\treturn null\n\t}\n\n\tlet current: HTMLElement | null = element\n\twhile (current && current !== document.body) {\n\t\tconst inspectable = findInspectableFiber(current)\n\t\tif (inspectable) {\n\t\t\t// Get fiber from WeakMap\n\t\t\tconst fiber = fiberMap.get(inspectable)\n\t\t\tif (fiber) {\n\t\t\t\tresult.unshift({\n\t\t\t\t\telement: inspectable,\n\t\t\t\t\tdepth: 0,\n\t\t\t\t\tname: getDisplayName(fiber.type) ?? \"Unknown\",\n\t\t\t\t\tfiber,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\tcurrent = current.parentElement\n\t}\n\n\treturn result\n}\n\ntype DiffResult = {\n\ttype: \"primitive\" | \"reference\" | \"object\"\n\tchanges: Array<{\n\t\tpath: string[]\n\t\tprevValue: unknown\n\t\tcurrentValue: unknown\n\t\tsameFunction?: boolean\n\t}>\n\thasDeepChanges: boolean\n}\n\ntype DiffChange = {\n\tpath: string[]\n\tprevValue: unknown\n\tcurrentValue: unknown\n\tsameFunction?: boolean\n}\n\ntype InspectableValue =\n\t| Record<string, unknown>\n\t| Array<unknown>\n\t| Map<unknown, unknown>\n\t| Set<unknown>\n\t| ArrayBuffer\n\t| DataView\n\t| Int8Array\n\t| Uint8Array\n\t| Uint8ClampedArray\n\t| Int16Array\n\t| Uint16Array\n\t| Int32Array\n\t| Uint32Array\n\t| Float32Array\n\t| Float64Array\n\t| BigInt64Array\n\t| BigUint64Array\n\nexport type AggregatedChanges = {\n\tcount: number\n\t// unstable: boolean;\n\tcurrentValue: unknown\n\tpreviousValue: unknown\n\t// displayName?:string\n\tname: string\n}\n\nexport const isExpandable = (value: unknown): value is InspectableValue => {\n\tif (value === null || typeof value !== \"object\" || isPromise(value)) {\n\t\treturn false\n\t}\n\n\tif (value instanceof ArrayBuffer) {\n\t\treturn true\n\t}\n\n\tif (value instanceof DataView) {\n\t\treturn true\n\t}\n\n\tif (ArrayBuffer.isView(value)) {\n\t\treturn true\n\t}\n\n\tif (value instanceof Map || value instanceof Set) {\n\t\treturn value.size > 0\n\t}\n\n\tif (Array.isArray(value)) {\n\t\treturn value.length > 0\n\t}\n\n\treturn Object.keys(value).length > 0\n}\n\nexport const isEditableValue = (\n\tvalue: unknown,\n\tparentPath?: string,\n): boolean => {\n\tif (value == null) return true\n\n\tif (isPromise(value)) return false\n\n\tif (typeof value === \"function\") {\n\t\treturn false\n\t}\n\n\tif (parentPath) {\n\t\tconst parts = parentPath.split(\".\")\n\t\tlet currentPath = \"\"\n\t\tfor (const part of parts) {\n\t\t\tcurrentPath = currentPath ? `${currentPath}.${part}` : part\n\t\t\tconst obj = globalInspectorState.lastRendered.get(currentPath)\n\t\t\tif (\n\t\t\t\tobj instanceof DataView ||\n\t\t\t\tobj instanceof ArrayBuffer ||\n\t\t\t\tArrayBuffer.isView(obj)\n\t\t\t) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\t}\n\n\tswitch (value.constructor) {\n\t\tcase Date:\n\t\tcase RegExp:\n\t\tcase Error:\n\t\t\treturn true\n\t\tdefault:\n\t\t\tswitch (typeof value) {\n\t\t\t\tcase \"string\":\n\t\t\t\tcase \"number\":\n\t\t\t\tcase \"boolean\":\n\t\t\t\tcase \"bigint\":\n\t\t\t\t\treturn true\n\t\t\t\tdefault:\n\t\t\t\t\treturn false\n\t\t\t}\n\t}\n}\n\nconst getPath = (\n\tcomponentName: string,\n\tsection: string,\n\tparentPath: string,\n\tkey: string,\n): string => {\n\tif (parentPath) {\n\t\treturn `${componentName}.${parentPath}.${key}`\n\t}\n\n\tif (section === \"context\" && !key.startsWith(\"context.\")) {\n\t\treturn `${componentName}.${section}.context.${key}`\n\t}\n\n\treturn `${componentName}.${section}.${key}`\n}\n\nexport const sanitizeString = (value: string): string => {\n\treturn value\n\t\t.replace(/[<>]/g, \"\")\n\t\t.replace(/javascript:/gi, \"\")\n\t\t.replace(/data:/gi, \"\")\n\t\t.replace(/on\\w+=/gi, \"\")\n\t\t.slice(0, 50000)\n}\n\nconst sanitizeErrorMessage = (error: string): string => {\n\treturn error\n\t\t.replace(/[<>]/g, \"\")\n\t\t.replace(/&/g, \"&amp;\")\n\t\t.replace(/\"/g, \"&quot;\")\n\t\t.replace(/'/g, \"&#x27;\")\n\t\t.replace(/\\//g, \"&#x2F;\")\n}\n\nexport const formatValue = (value: unknown): string => {\n\tconst metadata = ensureRecord(value)\n\treturn metadata.displayValue as string\n}\n\nexport const formatForClipboard = (value: unknown): string => {\n\ttry {\n\t\tif (value === null) return \"null\"\n\t\tif (value === undefined) return \"undefined\"\n\t\tif (isPromise(value)) return \"Promise\"\n\n\t\tif (typeof value === \"function\") {\n\t\t\tconst fnStr = value.toString()\n\t\t\ttry {\n\t\t\t\tconst formatted = fnStr\n\t\t\t\t\t.replace(/\\s+/g, \" \") // Normalize whitespace\n\t\t\t\t\t.replace(/{\\s+/g, \"{\\n  \") // Add newline after {\n\t\t\t\t\t.replace(/;\\s+/g, \";\\n  \") // Add newline after ;\n\t\t\t\t\t.replace(/}\\s*$/g, \"\\n}\") // Add newline before final }\n\t\t\t\t\t.replace(/\\(\\s+/g, \"(\") // Remove space after (\n\t\t\t\t\t.replace(/\\s+\\)/g, \")\") // Remove space before )\n\t\t\t\t\t.replace(/,\\s+/g, \", \") // Normalize comma spacing\n\n\t\t\t\treturn formatted\n\t\t\t} catch {\n\t\t\t\treturn fnStr\n\t\t\t}\n\t\t}\n\n\t\tswitch (true) {\n\t\t\tcase value instanceof Date:\n\t\t\t\treturn value.toISOString()\n\t\t\tcase value instanceof RegExp:\n\t\t\t\treturn value.toString()\n\t\t\tcase value instanceof Error:\n\t\t\t\treturn `${value.name}: ${value.message}`\n\t\t\tcase value instanceof Map:\n\t\t\t\treturn JSON.stringify(Array.from(value.entries()), null, 2)\n\t\t\tcase value instanceof Set:\n\t\t\t\treturn JSON.stringify(Array.from(value), null, 2)\n\t\t\tcase value instanceof DataView:\n\t\t\t\treturn JSON.stringify(Array.from(new Uint8Array(value.buffer)), null, 2)\n\t\t\tcase value instanceof ArrayBuffer:\n\t\t\t\treturn JSON.stringify(Array.from(new Uint8Array(value)), null, 2)\n\t\t\tcase ArrayBuffer.isView(value) && \"length\" in value:\n\t\t\t\treturn JSON.stringify(\n\t\t\t\t\tArray.from(value as unknown as ArrayLike<number>),\n\t\t\t\t\tnull,\n\t\t\t\t\t2,\n\t\t\t\t)\n\t\t\tcase Array.isArray(value):\n\t\t\t\treturn JSON.stringify(value, null, 2)\n\t\t\tcase typeof value === \"object\":\n\t\t\t\treturn JSON.stringify(value, null, 2)\n\t\t\tdefault:\n\t\t\t\treturn String(value)\n\t\t}\n\t} catch {\n\t\treturn String(value)\n\t}\n}\n\nconst parseArrayValue = (value: string): Array<unknown> => {\n\tif (value.trim() === \"[]\") return []\n\n\tconst result: Array<unknown> = []\n\tlet current = \"\"\n\tlet depth = 0\n\tlet inString = false\n\tlet escapeNext = false\n\n\tfor (let i = 0; i < value.length; i++) {\n\t\tconst char = value[i]\n\n\t\tif (escapeNext) {\n\t\t\tcurrent += char\n\t\t\tescapeNext = false\n\t\t\tcontinue\n\t\t}\n\n\t\tif (char === \"\\\\\") {\n\t\t\tescapeNext = true\n\t\t}\n\n\t\tif (char === '\"') {\n\t\t\tinString = !inString\n\t\t\tcurrent += char\n\t\t\tcontinue\n\t\t}\n\n\t\tif (inString) {\n\t\t\tcurrent += char\n\t\t\tcontinue\n\t\t}\n\n\t\tif (char === \"[\" || char === \"{\") {\n\t\t\tdepth++\n\t\t\tcurrent += char\n\t\t\tcontinue\n\t\t}\n\n\t\tif (char === \"]\" || char === \"}\") {\n\t\t\tdepth--\n\t\t\tcurrent += char\n\t\t\tcontinue\n\t\t}\n\n\t\tif (char === \",\" && depth === 0) {\n\t\t\tif (current.trim()) {\n\t\t\t\tresult.push(parseValue(current.trim(), \"\"))\n\t\t\t}\n\t\t\tcurrent = \"\"\n\t\t\tcontinue\n\t\t}\n\n\t\tcurrent += char\n\t}\n\n\tif (current.trim()) {\n\t\tresult.push(parseValue(current.trim(), \"\"))\n\t}\n\n\treturn result\n}\n\nconst parseValue = (value: string, currentType: unknown): unknown => {\n\ttry {\n\t\tswitch (typeof currentType) {\n\t\t\tcase \"number\":\n\t\t\t\treturn Number(value)\n\t\t\tcase \"string\":\n\t\t\t\treturn value\n\t\t\tcase \"boolean\":\n\t\t\t\treturn value === \"true\"\n\t\t\tcase \"bigint\":\n\t\t\t\treturn BigInt(value)\n\t\t\tcase \"undefined\":\n\t\t\t\treturn undefined\n\t\t\tcase \"object\": {\n\t\t\t\tif (!currentType) {\n\t\t\t\t\treturn null\n\t\t\t\t}\n\n\t\t\t\tif (Array.isArray(currentType)) {\n\t\t\t\t\treturn parseArrayValue(value.slice(1, -1))\n\t\t\t\t}\n\n\t\t\t\tif (currentType instanceof RegExp) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst match = /^\\/(?<pattern>.*)\\/(?<flags>[gimuy]*)$/.exec(value)\n\t\t\t\t\t\tif (match?.groups) {\n\t\t\t\t\t\t\treturn new RegExp(match.groups.pattern, match.groups.flags)\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn new RegExp(value)\n\t\t\t\t\t} catch {\n\t\t\t\t\t\treturn currentType\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (currentType instanceof Map) {\n\t\t\t\t\tconst entries = value\n\t\t\t\t\t\t.slice(1, -1)\n\t\t\t\t\t\t.split(\", \")\n\t\t\t\t\t\t.map((entry) => {\n\t\t\t\t\t\t\tconst [key, val] = entry.split(\" => \")\n\t\t\t\t\t\t\treturn [parseValue(key, \"\"), parseValue(val, \"\")] as [\n\t\t\t\t\t\t\t\tunknown,\n\t\t\t\t\t\t\t\tunknown,\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t})\n\t\t\t\t\treturn new Map(entries)\n\t\t\t\t}\n\n\t\t\t\tif (currentType instanceof Set) {\n\t\t\t\t\tconst values = value\n\t\t\t\t\t\t.slice(1, -1)\n\t\t\t\t\t\t.split(\", \")\n\t\t\t\t\t\t.map((v) => parseValue(v, \"\"))\n\t\t\t\t\treturn new Set(values)\n\t\t\t\t}\n\t\t\t\tconst entries = value\n\t\t\t\t\t.slice(1, -1)\n\t\t\t\t\t.split(\", \")\n\t\t\t\t\t.map((entry) => {\n\t\t\t\t\t\tconst [key, val] = entry.split(\": \")\n\t\t\t\t\t\treturn [key, parseValue(val, \"\")]\n\t\t\t\t\t})\n\t\t\t\treturn Object.fromEntries(entries)\n\t\t\t}\n\t\t}\n\n\t\treturn value\n\t} catch {\n\t\treturn currentType\n\t}\n}\n\nexport const detectValueType = (\n\tvalue: string,\n): {\n\ttype: \"string\" | \"number\" | \"undefined\" | \"null\" | \"boolean\"\n\tvalue: unknown\n} => {\n\tconst trimmed = value.trim()\n\n\tswitch (trimmed) {\n\t\tcase \"undefined\":\n\t\t\treturn { type: \"undefined\", value: undefined }\n\t\tcase \"null\":\n\t\t\treturn { type: \"null\", value: null }\n\t\tcase \"true\":\n\t\t\treturn { type: \"boolean\", value: true }\n\t\tcase \"false\":\n\t\t\treturn { type: \"boolean\", value: false }\n\t}\n\n\tif (/^\".*\"$/.test(trimmed)) {\n\t\treturn { type: \"string\", value: trimmed.slice(1, -1) }\n\t}\n\n\tif (/^-?\\d+(?:\\.\\d+)?$/.test(trimmed)) {\n\t\treturn { type: \"number\", value: Number(trimmed) }\n\t}\n\n\treturn { type: \"string\", value: `\"${trimmed}\"` }\n}\n\nexport const formatInitialValue = (value: unknown): string => {\n\tif (value === undefined) return \"undefined\"\n\tif (value === null) return \"null\"\n\tif (typeof value === \"string\") return `\"${value}\"`\n\treturn String(value)\n}\n\nexport const updateNestedValue = (\n\tobj: unknown,\n\tpath: Array<string>,\n\tvalue: unknown,\n): unknown => {\n\ttry {\n\t\tif (path.length === 0) return value\n\n\t\tconst [key, ...rest] = path\n\n\t\t// Handle our special array of {name, value} pairs\n\t\tif (\n\t\t\tArray.isArray(obj) &&\n\t\t\tobj.every((item): item is StateItem => \"name\" in item && \"value\" in item)\n\t\t) {\n\t\t\tconst index = obj.findIndex((item) => item.name === key)\n\t\t\tif (index === -1) return obj\n\n\t\t\tconst newArray = [...obj]\n\t\t\tif (rest.length === 0) {\n\t\t\t\tnewArray[index] = { ...newArray[index], value }\n\t\t\t} else {\n\t\t\t\tnewArray[index] = {\n\t\t\t\t\t...newArray[index],\n\t\t\t\t\tvalue: updateNestedValue(newArray[index].value, rest, value),\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn newArray\n\t\t}\n\n\t\tif (obj instanceof Map) {\n\t\t\tconst newMap = new Map(obj)\n\t\t\tif (rest.length === 0) {\n\t\t\t\tnewMap.set(key, value)\n\t\t\t} else {\n\t\t\t\tconst currentValue = newMap.get(key)\n\t\t\t\tnewMap.set(key, updateNestedValue(currentValue, rest, value))\n\t\t\t}\n\t\t\treturn newMap\n\t\t}\n\n\t\tif (Array.isArray(obj)) {\n\t\t\tconst index = Number.parseInt(key, 10)\n\t\t\tconst newArray = [...obj]\n\t\t\tif (rest.length === 0) {\n\t\t\t\tnewArray[index] = value\n\t\t\t} else {\n\t\t\t\tnewArray[index] = updateNestedValue(obj[index], rest, value)\n\t\t\t}\n\t\t\treturn newArray\n\t\t}\n\n\t\tif (obj && typeof obj === \"object\") {\n\t\t\tif (rest.length === 0) {\n\t\t\t\treturn { ...obj, [key]: value }\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...obj,\n\t\t\t\t[key]: updateNestedValue(\n\t\t\t\t\t(obj as Record<string, unknown>)[key],\n\t\t\t\t\trest,\n\t\t\t\t\tvalue,\n\t\t\t\t),\n\t\t\t}\n\t\t}\n\n\t\treturn value\n\t} catch {\n\t\treturn obj\n\t}\n}\n\nconst areFunctionsEqual = (prev: unknown, current: unknown): boolean => {\n\ttry {\n\t\t// Check if both values are actually functions\n\t\tif (typeof prev !== \"function\" || typeof current !== \"function\") {\n\t\t\treturn false\n\t\t}\n\n\t\t// Now we know both are functions, we can safely call toString()\n\t\treturn prev.toString() === current.toString()\n\t} catch {\n\t\treturn false\n\t}\n}\n\nexport const getObjectDiff = (\n\tprev: unknown,\n\tcurrent: unknown,\n\tpath: string[] = [],\n\tseen = new WeakSet(),\n): DiffResult => {\n\tif (prev === current) {\n\t\treturn { type: \"primitive\", changes: [], hasDeepChanges: false }\n\t}\n\n\tif (typeof prev === \"function\" && typeof current === \"function\") {\n\t\tconst isSameFunction = areFunctionsEqual(prev, current)\n\t\treturn {\n\t\t\ttype: \"primitive\",\n\t\t\tchanges: [\n\t\t\t\t{\n\t\t\t\t\tpath,\n\t\t\t\t\tprevValue: prev,\n\t\t\t\t\tcurrentValue: current,\n\t\t\t\t\tsameFunction: isSameFunction,\n\t\t\t\t},\n\t\t\t],\n\t\t\thasDeepChanges: !isSameFunction,\n\t\t}\n\t}\n\n\tif (\n\t\tprev === null ||\n\t\tcurrent === null ||\n\t\tprev === undefined ||\n\t\tcurrent === undefined ||\n\t\ttypeof prev !== \"object\" ||\n\t\ttypeof current !== \"object\"\n\t) {\n\t\treturn {\n\t\t\ttype: \"primitive\",\n\t\t\tchanges: [{ path, prevValue: prev, currentValue: current }],\n\t\t\thasDeepChanges: true,\n\t\t}\n\t}\n\n\tif (seen.has(prev) || seen.has(current)) {\n\t\treturn {\n\t\t\ttype: \"object\",\n\t\t\tchanges: [{ path, prevValue: \"[Circular]\", currentValue: \"[Circular]\" }],\n\t\t\thasDeepChanges: false,\n\t\t}\n\t}\n\n\tseen.add(prev)\n\tseen.add(current)\n\n\tconst prevObj = prev as Record<string, unknown>\n\tconst currentObj = current as Record<string, unknown>\n\tconst allKeys = new Set([...Object.keys(prevObj), ...Object.keys(currentObj)])\n\tconst changes: Array<DiffChange> = []\n\tlet hasDeepChanges = false\n\n\tfor (const key of allKeys) {\n\t\tconst prevValue = prevObj[key]\n\t\tconst currentValue = currentObj[key]\n\n\t\tif (prevValue !== currentValue) {\n\t\t\tif (\n\t\t\t\ttypeof prevValue === \"object\" &&\n\t\t\t\ttypeof currentValue === \"object\" &&\n\t\t\t\tprevValue !== null &&\n\t\t\t\tcurrentValue !== null\n\t\t\t) {\n\t\t\t\tconst nestedDiff = getObjectDiff(\n\t\t\t\t\tprevValue,\n\t\t\t\t\tcurrentValue,\n\t\t\t\t\t[...path, key],\n\t\t\t\t\tseen,\n\t\t\t\t)\n\t\t\t\tchanges.push(...nestedDiff.changes)\n\t\t\t\tif (nestedDiff.hasDeepChanges) {\n\t\t\t\t\thasDeepChanges = true\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tchanges.push({\n\t\t\t\t\tpath: [...path, key],\n\t\t\t\t\tprevValue,\n\t\t\t\t\tcurrentValue,\n\t\t\t\t})\n\t\t\t\thasDeepChanges = true\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\ttype: \"object\",\n\t\tchanges,\n\t\thasDeepChanges,\n\t}\n}\n\nexport const formatPath = (path: string[]): string => {\n\tif (path.length === 0) return \"\"\n\n\treturn path.reduce((acc, segment, i) => {\n\t\t// Check if segment is a number (array index)\n\t\tif (/^\\d+$/.test(segment)) {\n\t\t\treturn `${acc}[${segment}]`\n\t\t}\n\t\t// Add dot separator only if not first segment and previous segment wasn't an array index\n\t\treturn i === 0 ? segment : `${acc}.${segment}`\n\t}, \"\")\n}\n\nconst formatFunctionBody = (body: string): string => {\n\t// Remove newlines and extra spaces\n\tlet formatted = body.replace(/\\s+/g, \" \").trim()\n\n\t// Add newlines after {, ; and before }\n\tformatted = formatted\n\t\t.replace(/{/g, \"{\\n  \")\n\t\t.replace(/;/g, \";\\n  \")\n\t\t.replace(/}/g, \"\\n}\")\n\t\t.replace(/{\\s+}/g, \"{ }\") // Clean up empty blocks\n\n\t// Clean up arrow functions\n\tformatted = formatted.replace(/=> {\\n/g, \"=> {\").replace(/\\n\\s*}\\s*$/g, \" }\")\n\n\treturn formatted\n}\n\nfunction hackyJsFormatter(code: string) {\n\t//\n\t// 1) Collapse runs of whitespace to single spaces\n\t//\n\tconst normalizedCode = code.replace(/\\s+/g, \" \").trim()\n\n\t//\n\t// 2) Tokenize\n\t//    We'll separate out:\n\t//    - parentheses: ( )\n\t//    - braces: { }\n\t//    - brackets: [ ]\n\t//    - angle brackets: < >\n\t//    - semicolon: ;\n\t//    - comma: ,\n\t//    - arrow =>\n\t//    - colon :\n\t//    - question mark ?\n\t//    - exclamation mark ! (for TS non-null etc.)\n\t//\n\t//    We'll also try to combine () or [] or {} or <> if they appear empty.\n\t//\n\tconst rawTokens = []\n\tlet current = \"\"\n\tfor (let i = 0; i < normalizedCode.length; i++) {\n\t\tconst c = normalizedCode[i]\n\n\t\t// Detect arrow =>\n\t\tif (c === \"=\" && normalizedCode[i + 1] === \">\") {\n\t\t\tif (current.trim()) rawTokens.push(current.trim())\n\t\t\trawTokens.push(\"=>\")\n\t\t\tcurrent = \"\"\n\t\t\ti++\n\t\t\tcontinue\n\t\t}\n\n\t\t// Single/double char punctuation\n\t\tif (/[(){}[\\];,<>:?!]/.test(c)) {\n\t\t\t// If we had something in current, push it\n\t\t\tif (current.trim()) {\n\t\t\t\trawTokens.push(current.trim())\n\t\t\t}\n\t\t\trawTokens.push(c)\n\t\t\tcurrent = \"\"\n\t\t} else if (/\\s/.test(c)) {\n\t\t\t// whitespace ends the current token\n\t\t\tif (current.trim()) {\n\t\t\t\trawTokens.push(current.trim())\n\t\t\t}\n\t\t\tcurrent = \"\"\n\t\t} else {\n\t\t\tcurrent += c\n\t\t}\n\t}\n\tif (current.trim()) {\n\t\trawTokens.push(current.trim())\n\t}\n\n\t//\n\t// 3) Combine immediate pairs of empty brackets, e.g. '(' + ')' => '()'\n\t//    This helps keep arrow param empty parens on one line, etc.\n\t//\n\tconst merged: Array<string> = []\n\tfor (let i = 0; i < rawTokens.length; i++) {\n\t\tconst t = rawTokens[i]\n\t\tconst n = rawTokens[i + 1]\n\t\tif (\n\t\t\t(t === \"(\" && n === \")\") ||\n\t\t\t(t === \"[\" && n === \"]\") ||\n\t\t\t(t === \"{\" && n === \"}\") ||\n\t\t\t(t === \"<\" && n === \">\")\n\t\t) {\n\t\t\tmerged.push(t + n) // '()', '[]', '{}', '<>'\n\t\t\ti++\n\t\t} else {\n\t\t\tmerged.push(t)\n\t\t}\n\t}\n\n\t//\n\t// 4) We want to detect arrow param lists:\n\t//    i.e. \"(\" ... \")\" immediately followed by \"=>\"\n\t//    so we can keep them on one line.\n\t//\n\t//    Also, detect generic param lists:\n\t//    i.e. identifier \"<\" ... \">\" (then maybe \"(\" ) for function calls or type declarations\n\t//\n\t//    We'll store indexes in sets: arrowParamSet, genericSet\n\t//\n\tconst arrowParamSet = new Set() // indexes inside arrow param lists\n\tconst genericSet = new Set() // indexes inside generics <...>\n\n\tfunction findMatchingPair(\n\t\topenTok: string,\n\t\tcloseTok: string,\n\t\tstartIndex: number,\n\t) {\n\t\t// e.g. openTok = '(', closeTok = ')'\n\t\tlet depth = 0\n\t\tfor (let j = startIndex; j < merged.length; j++) {\n\t\t\tconst token = merged[j]\n\t\t\tif (token === openTok) depth++\n\t\t\telse if (token === closeTok) {\n\t\t\t\tdepth--\n\t\t\t\tif (depth === 0) return j\n\t\t\t}\n\t\t}\n\t\treturn -1\n\t}\n\n\t// Detect arrow param sets\n\tfor (let i = 0; i < merged.length; i++) {\n\t\tconst t = merged[i]\n\t\tif (t === \"(\") {\n\t\t\tconst closeIndex = findMatchingPair(\"(\", \")\", i)\n\t\t\tif (closeIndex !== -1 && merged[closeIndex + 1] === \"=>\") {\n\t\t\t\t// Mark all tokens from i..closeIndex as arrow param\n\t\t\t\tfor (let k = i; k <= closeIndex; k++) {\n\t\t\t\t\tarrowParamSet.add(k)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Detect generics, e.g. foo<...> or MyType<...>\n\t// We do a naive approach: if we see something that looks like an identifier\n\t// followed immediately by '<', we assume it's a generic.\n\tfor (let i = 1; i < merged.length; i++) {\n\t\tconst prev = merged[i - 1]\n\t\tconst t = merged[i]\n\t\t// If prev is an identifier and t is '<', find matching '>'\n\t\tif (/^[a-zA-Z0-9_$]+$/.test(prev) && t === \"<\") {\n\t\t\tconst closeIndex = findMatchingPair(\"<\", \">\", i)\n\t\t\tif (closeIndex !== -1) {\n\t\t\t\t// Mark i..closeIndex as generic\n\t\t\t\tfor (let k = i; k <= closeIndex; k++) {\n\t\t\t\t\tgenericSet.add(k)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//\n\t// 5) Build lines with indentation. We maintain a stack for open brackets.\n\t//\n\tlet indentLevel = 0\n\tconst indentStr = \"  \" // 2 spaces\n\tconst lines: Array<string> = []\n\tlet line = \"\"\n\n\tfunction pushLine() {\n\t\tif (line.trim()) {\n\t\t\tlines.push(line.replace(/\\s+$/, \"\"))\n\t\t}\n\t\tline = \"\"\n\t}\n\tfunction newLine() {\n\t\tpushLine()\n\t\tline = indentStr.repeat(indentLevel)\n\t}\n\n\tconst stack: Array<string> = []\n\tfunction stackTop() {\n\t\treturn stack.length ? stack[stack.length - 1] : null\n\t}\n\n\tfunction placeToken(tok: string, noSpaceBefore = false) {\n\t\tif (!line.trim()) {\n\t\t\t// line is empty aside from indentation\n\t\t\tline += tok\n\t\t} else {\n\t\t\tif (noSpaceBefore || /^[),;:\\].}>]$/.test(tok)) {\n\t\t\t\tline += tok\n\t\t\t} else {\n\t\t\t\tline += ` ${tok}`\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (let i = 0; i < merged.length; i++) {\n\t\tconst tok = merged[i]\n\t\tconst next = merged[i + 1] || \"\"\n\n\t\t// Open brackets\n\t\tif ([\"(\", \"{\", \"[\", \"<\"].includes(tok)) {\n\t\t\tplaceToken(tok)\n\t\t\tstack.push(tok)\n\n\t\t\t// If '{', definitely newline + indent\n\t\t\tif (tok === \"{\") {\n\t\t\t\tindentLevel++\n\t\t\t\tnewLine()\n\t\t\t} else if (tok === \"(\" || tok === \"[\" || tok === \"<\") {\n\t\t\t\t// If we are in arrowParamSet or genericSet, keep it on one line\n\t\t\t\tif (\n\t\t\t\t\t(arrowParamSet.has(i) && tok === \"(\") ||\n\t\t\t\t\t(genericSet.has(i) && tok === \"<\")\n\t\t\t\t) {\n\t\t\t\t\t// Don't break lines after commas etc.\n\t\t\t\t\t// We won't do multiline logic for these.\n\t\t\t\t} else {\n\t\t\t\t\t// If next is not a direct close, go multiline\n\t\t\t\t\tconst directClose = {\n\t\t\t\t\t\t\"(\": \")\",\n\t\t\t\t\t\t\"[\": \"]\",\n\t\t\t\t\t\t\"<\": \">\",\n\t\t\t\t\t}[tok]\n\t\t\t\t\tif (\n\t\t\t\t\t\tnext !== directClose &&\n\t\t\t\t\t\tnext !== \"()\" &&\n\t\t\t\t\t\tnext !== \"[]\" &&\n\t\t\t\t\t\tnext !== \"<>\"\n\t\t\t\t\t) {\n\t\t\t\t\t\tindentLevel++\n\t\t\t\t\t\tnewLine()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Close brackets\n\t\telse if ([\")\", \"}\", \"]\", \">\"].includes(tok)) {\n\t\t\t// pop stack\n\t\t\tconst opening = stackTop()\n\t\t\tif (\n\t\t\t\t(tok === \")\" && opening === \"(\") ||\n\t\t\t\t(tok === \"]\" && opening === \"[\") ||\n\t\t\t\t(tok === \">\" && opening === \"<\")\n\t\t\t) {\n\t\t\t\t// if not arrowParamSet or genericSet, multiline\n\t\t\t\tif (\n\t\t\t\t\t!(arrowParamSet.has(i) && tok === \")\") &&\n\t\t\t\t\t!(genericSet.has(i) && tok === \">\")\n\t\t\t\t) {\n\t\t\t\t\tindentLevel = Math.max(indentLevel - 1, 0)\n\t\t\t\t\tnewLine()\n\t\t\t\t}\n\t\t\t} else if (tok === \"}\" && opening === \"{\") {\n\t\t\t\tindentLevel = Math.max(indentLevel - 1, 0)\n\t\t\t\tnewLine()\n\t\t\t}\n\t\t\tstack.pop()\n\t\t\tplaceToken(tok)\n\t\t\tif (tok === \"}\") {\n\t\t\t\t// break line after }\n\t\t\t\tnewLine()\n\t\t\t}\n\t\t}\n\n\t\t// Combined empty pairs like '()', '[]', '{}', '<>'\n\t\telse if (/^\\(\\)|\\[\\]|\\{\\}|<>$/.test(tok)) {\n\t\t\tplaceToken(tok)\n\n\t\t\t// Arrow =>\n\t\t} else if (tok === \"=>\") {\n\t\t\tplaceToken(tok)\n\t\t\t// We'll let the next token (maybe '{') handle line breaks.\n\n\t\t\t// Semicolon\n\t\t} else if (tok === \";\") {\n\t\t\tplaceToken(tok, true)\n\t\t\tnewLine()\n\n\t\t\t// Comma\n\t\t} else if (tok === \",\") {\n\t\t\tplaceToken(tok, true)\n\t\t\t// If inside an arrow param set or generic set, don't break\n\t\t\t// Otherwise, if top is {, (, [ or <, break line\n\t\t\tconst top = stackTop()\n\t\t\tif (\n\t\t\t\t!(arrowParamSet.has(i) && top === \"(\") &&\n\t\t\t\t!(genericSet.has(i) && top === \"<\")\n\t\t\t) {\n\t\t\t\tif (top && [\"{\", \"[\", \"(\", \"<\"].includes(top)) {\n\t\t\t\t\tnewLine()\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Everything else (identifiers, operators, colons, question marks, etc.)\n\t\t} else {\n\t\t\tplaceToken(tok)\n\t\t}\n\t}\n\n\tpushLine()\n\n\t// Remove extra blank lines\n\treturn lines\n\t\t.join(\"\\n\")\n\t\t.replace(/\\n\\s*\\n+/g, \"\\n\")\n\t\t.trim()\n}\n\n// Update the formatFunctionPreview to use the new formatter\nexport const formatFunctionPreview = (\n\tfn: { toString(): string },\n\texpanded = false,\n): string => {\n\ttry {\n\t\tconst fnStr = fn.toString()\n\t\tconst match = fnStr.match(\n\t\t\t/(?:function\\s*)?(?:\\(([^)]*)\\)|([^=>\\s]+))\\s*=>?/,\n\t\t)\n\t\tif (!match) return \"\"\n\n\t\tconst params = match[1] || match[2] || \"\"\n\t\tconst cleanParams = params.replace(/\\s+/g, \"\")\n\n\t\tif (!expanded) {\n\t\t\treturn ` (${cleanParams}) => ...`\n\t\t}\n\n\t\t// For expanded view, use the new formatter\n\t\treturn hackyJsFormatter(fnStr)\n\t} catch {\n\t\treturn \"\"\n\t}\n}\n\nexport const formatValuePreview = (value: unknown): string => {\n\tif (value === null) return \"null\"\n\tif (value === undefined) return \"undefined\"\n\tif (typeof value === \"string\")\n\t\treturn `\"${value.length > 150 ? `${value.slice(0, 20)}...` : value}\"`\n\tif (typeof value === \"number\" || typeof value === \"boolean\")\n\t\treturn String(value)\n\tif (typeof value === \"function\") return formatFunctionPreview(value)\n\tif (Array.isArray(value)) return `Array(${value.length})`\n\tif (value instanceof Map) return `Map(${value.size})`\n\tif (value instanceof Set) return `Set(${value.size})`\n\tif (value instanceof Date) return value.toISOString()\n\tif (value instanceof RegExp) return value.toString()\n\tif (value instanceof Error) return `${value.name}: ${value.message}`\n\tif (typeof value === \"object\") {\n\t\tconst keys = Object.keys(value as object)\n\t\treturn `{${keys.length > 2 ? `${keys.slice(0, 2).join(\", \")}, ...` : keys.join(\", \")}}`\n\t}\n\treturn String(value)\n}\n\nexport const safeGetValue = (\n\tvalue: unknown,\n): { value: unknown; error?: string } => {\n\tif (value === null || value === undefined) return { value }\n\tif (typeof value === \"function\") return { value }\n\tif (typeof value !== \"object\") return { value }\n\n\tif (value instanceof Promise) {\n\t\t// Handle promises without accessing them\n\t\treturn { value: \"Promise\" }\n\t}\n\n\ttry {\n\t\t// Handle potential proxy traps or getter errors\n\t\tconst proto = Object.getPrototypeOf(value)\n\t\tif (proto === Promise.prototype || proto?.constructor?.name === \"Promise\") {\n\t\t\treturn { value: \"Promise\" }\n\t\t}\n\n\t\treturn { value }\n\t} catch {\n\t\treturn { value: null, error: \"Error accessing value\" }\n\t}\n}\n\ninterface TimelineSliderValues {\n\tleftValue: number\n\tmin: number\n\tmax: number\n\tvalue: number\n\trightValue: number\n}\n\nconst calculateSliderValues = (\n\ttotalUpdates: number,\n\tcurrentIndex: number,\n): TimelineSliderValues => {\n\tif (totalUpdates <= TIMELINE_MAX_UPDATES) {\n\t\treturn {\n\t\t\tleftValue: 0,\n\t\t\tmin: 0,\n\t\t\tmax: totalUpdates - 1,\n\t\t\tvalue: currentIndex,\n\t\t\trightValue: totalUpdates - 1,\n\t\t}\n\t}\n\n\treturn {\n\t\tleftValue: totalUpdates - TIMELINE_MAX_UPDATES,\n\t\tmin: 0,\n\t\tmax: TIMELINE_MAX_UPDATES - 1,\n\t\tvalue: currentIndex,\n\t\trightValue: totalUpdates - 1,\n\t}\n}\n\n// be careful, this is an implementation detail is not stable or reliable across all react versions https://github.com/facebook/react/pull/15124\n// type UpdateQueue<S, A> = {\n//   last: Update<S, A> | null,\n//   dispatch: (A => mixed) | null,\n//   eagerReducer: ((S, A) => S) | null,\n//   eagerState: S | null,\n// };\n\ninterface ExtendedMemoizedState extends MemoizedState {\n\tqueue?: {\n\t\tlastRenderedState: unknown\n\t} | null\n\telement?: unknown\n}\n\nconst isDirectComponent = (fiber: Fiber): boolean => {\n\tif (!fiber || !fiber.type) return false\n\n\tconst isFunctionalComponent = typeof fiber.type === \"function\"\n\tconst isClassComponent = fiber.type?.prototype?.isReactComponent ?? false\n\n\tif (!(isFunctionalComponent || isClassComponent)) return false\n\n\tif (isClassComponent) {\n\t\treturn true\n\t}\n\n\tlet memoizedState = fiber.memoizedState\n\twhile (memoizedState) {\n\t\tif (memoizedState.queue) {\n\t\t\treturn true\n\t\t}\n\t\tconst nextState: ExtendedMemoizedState | null = memoizedState.next\n\t\tif (!nextState) break\n\t\tmemoizedState = nextState\n\t}\n\n\treturn false\n}\n\nexport const isPromise = (value: unknown): value is Promise<unknown> => {\n\treturn (\n\t\t!!value &&\n\t\t(value instanceof Promise || (typeof value === \"object\" && \"then\" in value))\n\t)\n}\n\nconst ensureRecord = (\n\tvalue: unknown,\n\tmaxDepth = 2,\n\tseen = new WeakSet<object>(),\n): Record<string, unknown> => {\n\tif (isPromise(value)) {\n\t\treturn { type: \"promise\", displayValue: \"Promise\" }\n\t}\n\n\tif (value === null) {\n\t\treturn { type: \"null\", displayValue: \"null\" }\n\t}\n\n\tif (value === undefined) {\n\t\treturn { type: \"undefined\", displayValue: \"undefined\" }\n\t}\n\n\tswitch (typeof value) {\n\t\tcase \"object\": {\n\t\t\tif (seen.has(value)) {\n\t\t\t\treturn { type: \"circular\", displayValue: \"[Circular Reference]\" }\n\t\t\t}\n\n\t\t\tif (!value) return { type: \"null\", displayValue: \"null\" }\n\n\t\t\tseen.add(value)\n\n\t\t\ttry {\n\t\t\t\tconst result: Record<string, unknown> = {}\n\n\t\t\t\tif (value instanceof Element) {\n\t\t\t\t\tresult.type = \"Element\"\n\t\t\t\t\tresult.tagName = value.tagName.toLowerCase()\n\t\t\t\t\tresult.displayValue = value.tagName.toLowerCase()\n\t\t\t\t\treturn result\n\t\t\t\t}\n\n\t\t\t\tif (value instanceof Map) {\n\t\t\t\t\tresult.type = \"Map\"\n\t\t\t\t\tresult.size = value.size\n\t\t\t\t\tresult.displayValue = `Map(${value.size})`\n\n\t\t\t\t\tif (maxDepth > 0) {\n\t\t\t\t\t\tconst entries: Record<string, unknown> = {}\n\t\t\t\t\t\tlet index = 0\n\t\t\t\t\t\tfor (const [key, val] of value.entries()) {\n\t\t\t\t\t\t\tif (index >= 50) break\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tentries[String(key)] = ensureRecord(val, maxDepth - 1, seen)\n\t\t\t\t\t\t\t} catch {\n\t\t\t\t\t\t\t\tentries[String(index)] = {\n\t\t\t\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\t\t\t\tdisplayValue: \"Error accessing Map entry\",\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tindex++\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult.entries = entries\n\t\t\t\t\t}\n\t\t\t\t\treturn result\n\t\t\t\t}\n\n\t\t\t\tif (value instanceof Set) {\n\t\t\t\t\tresult.type = \"Set\"\n\t\t\t\t\tresult.size = value.size\n\t\t\t\t\tresult.displayValue = `Set(${value.size})`\n\n\t\t\t\t\tif (maxDepth > 0) {\n\t\t\t\t\t\tconst items = []\n\t\t\t\t\t\tlet count = 0\n\t\t\t\t\t\tfor (const item of value) {\n\t\t\t\t\t\t\tif (count >= 50) break\n\t\t\t\t\t\t\titems.push(ensureRecord(item, maxDepth - 1, seen))\n\t\t\t\t\t\t\tcount++\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult.items = items\n\t\t\t\t\t}\n\t\t\t\t\treturn result\n\t\t\t\t}\n\n\t\t\t\tif (value instanceof Date) {\n\t\t\t\t\tresult.type = \"Date\"\n\t\t\t\t\tresult.value = value.toISOString()\n\t\t\t\t\tresult.displayValue = value.toLocaleString()\n\t\t\t\t\treturn result\n\t\t\t\t}\n\n\t\t\t\tif (value instanceof RegExp) {\n\t\t\t\t\tresult.type = \"RegExp\"\n\t\t\t\t\tresult.value = value.toString()\n\t\t\t\t\tresult.displayValue = value.toString()\n\t\t\t\t\treturn result\n\t\t\t\t}\n\n\t\t\t\tif (value instanceof Error) {\n\t\t\t\t\tresult.type = \"Error\"\n\t\t\t\t\tresult.name = value.name\n\t\t\t\t\tresult.message = value.message\n\t\t\t\t\tresult.displayValue = `${value.name}: ${value.message}`\n\t\t\t\t\treturn result\n\t\t\t\t}\n\n\t\t\t\tif (value instanceof ArrayBuffer) {\n\t\t\t\t\tresult.type = \"ArrayBuffer\"\n\t\t\t\t\tresult.byteLength = value.byteLength\n\t\t\t\t\tresult.displayValue = `ArrayBuffer(${value.byteLength})`\n\t\t\t\t\treturn result\n\t\t\t\t}\n\n\t\t\t\tif (value instanceof DataView) {\n\t\t\t\t\tresult.type = \"DataView\"\n\t\t\t\t\tresult.byteLength = value.byteLength\n\t\t\t\t\tresult.displayValue = `DataView(${value.byteLength})`\n\t\t\t\t\treturn result\n\t\t\t\t}\n\n\t\t\t\tif (ArrayBuffer.isView(value)) {\n\t\t\t\t\tconst typedArray = value as unknown as {\n\t\t\t\t\t\tlength: number\n\t\t\t\t\t\tconstructor: { name: string }\n\t\t\t\t\t\tbuffer: ArrayBuffer\n\t\t\t\t\t}\n\t\t\t\t\tresult.type = typedArray.constructor.name\n\t\t\t\t\tresult.length = typedArray.length\n\t\t\t\t\tresult.byteLength = typedArray.buffer.byteLength\n\t\t\t\t\tresult.displayValue = `${typedArray.constructor.name}(${typedArray.length})`\n\t\t\t\t\treturn result\n\t\t\t\t}\n\n\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\tresult.type = \"array\"\n\t\t\t\t\tresult.length = value.length\n\t\t\t\t\tresult.displayValue = `Array(${value.length})`\n\n\t\t\t\t\tif (maxDepth > 0) {\n\t\t\t\t\t\tresult.items = value\n\t\t\t\t\t\t\t.slice(0, 50)\n\t\t\t\t\t\t\t.map((item) => ensureRecord(item, maxDepth - 1, seen))\n\t\t\t\t\t}\n\t\t\t\t\treturn result\n\t\t\t\t}\n\n\t\t\t\tconst keys = Object.keys(value)\n\t\t\t\tresult.type = \"object\"\n\t\t\t\tresult.size = keys.length\n\t\t\t\tresult.displayValue =\n\t\t\t\t\tkeys.length <= 5\n\t\t\t\t\t\t? `{${keys.join(\", \")}}`\n\t\t\t\t\t\t: `{${keys.slice(0, 5).join(\", \")}, ...${keys.length - 5}}`\n\n\t\t\t\tif (maxDepth > 0) {\n\t\t\t\t\tconst entries: Record<string, unknown> = {}\n\t\t\t\t\tfor (const key of keys.slice(0, 50)) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tentries[key] = ensureRecord(\n\t\t\t\t\t\t\t\t(value as Record<string, unknown>)[key],\n\t\t\t\t\t\t\t\tmaxDepth - 1,\n\t\t\t\t\t\t\t\tseen,\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t} catch {\n\t\t\t\t\t\t\tentries[key] = {\n\t\t\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\t\t\tdisplayValue: \"Error accessing property\",\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tresult.entries = entries\n\t\t\t\t}\n\t\t\t\treturn result\n\t\t\t} finally {\n\t\t\t\tseen.delete(value)\n\t\t\t}\n\t\t}\n\t\tcase \"string\":\n\t\t\treturn {\n\t\t\t\ttype: \"string\",\n\t\t\t\tvalue,\n\t\t\t\tdisplayValue: `\"${value}\"`,\n\t\t\t}\n\t\tcase \"function\":\n\t\t\treturn {\n\t\t\t\ttype: \"function\",\n\t\t\t\tdisplayValue: \"()\",\n\t\t\t\tname: value.name || \"anonymous\",\n\t\t\t}\n\t\tdefault:\n\t\t\treturn {\n\t\t\t\ttype: typeof value,\n\t\t\t\tvalue,\n\t\t\t\tdisplayValue: String(value),\n\t\t\t}\n\t}\n}\n\nconst getCurrentFiberState = (fiber: Fiber): Record<string, unknown> | null => {\n\tif (fiber.tag !== FunctionComponentTag || !isDirectComponent(fiber)) {\n\t\treturn null\n\t}\n\n\tconst currentIsNewer = fiber.alternate\n\t\t? (fiber.actualStartTime ?? 0) > (fiber.alternate.actualStartTime ?? 0)\n\t\t: true\n\n\tconst memoizedState: ExtendedMemoizedState | null = currentIsNewer\n\t\t? fiber.memoizedState\n\t\t: (fiber.alternate?.memoizedState ?? fiber.memoizedState)\n\n\tif (!memoizedState) return null\n\n\treturn memoizedState\n}\n\nexport const extractMinimalFiberInfo = (fiber: Fiber): MinimalFiberInfo => {\n\tconst timings = getTimings(fiber)\n\treturn {\n\t\tdisplayName: getDisplayName(fiber) || \"Unknown\",\n\t\ttype: fiber.type,\n\t\tkey: fiber.key,\n\t\tid: fiber.index,\n\t\tselfTime: timings?.selfTime ?? null,\n\t\ttotalTime: timings?.totalTime ?? null,\n\t}\n}\n","import {\n\tClassComponentTag,\n\ttype ContextDependency,\n\ttype Fiber,\n\tForwardRefTag,\n\tFunctionComponentTag,\n\tMemoComponentTag,\n\ttype MemoizedState,\n\tSimpleMemoComponentTag,\n} from \"bippy\"\nimport { isEqual } from \"~core/utils\"\nimport { getChangedPropsDetailed, isPromise } from \"../utils\"\n\ninterface ChangeTrackingInfo {\n\tcount: number\n\tcurrentValue: unknown\n\tpreviousValue: unknown\n\tlastUpdated: number\n}\n\ntype ChangeKey = string | number\n\nconst propsTracker = new Map<string, ChangeTrackingInfo>()\nconst stateTracker = new Map<ChangeKey, ChangeTrackingInfo>()\nconst contextTracker = new Map<string, ChangeTrackingInfo>()\nlet lastComponentType: unknown = null\n\nconst STATE_NAME_REGEX = /\\[(?<name>\\w+),\\s*set\\w+\\]/g\n\nexport const getStateNames = (fiber: Fiber): Array<string> => {\n\tconst componentSource = fiber.type?.toString?.() || \"\"\n\treturn componentSource\n\t\t? Array.from(\n\t\t\t\tcomponentSource.matchAll(STATE_NAME_REGEX),\n\t\t\t\t(m: RegExpMatchArray) => m.groups?.name ?? \"\",\n\t\t\t)\n\t\t: []\n}\n\nexport const resetTracking = () => {\n\tpropsTracker.clear()\n\tstateTracker.clear()\n\tcontextTracker.clear()\n\tlastComponentType = null\n}\n\nconst isInitialComponentUpdate = (fiber: Fiber): boolean => {\n\tconst isNewComponent = fiber.type !== lastComponentType\n\tlastComponentType = fiber.type\n\treturn isNewComponent\n}\n\nconst trackChange = (\n\ttracker: Map<ChangeKey, ChangeTrackingInfo>,\n\tkey: ChangeKey,\n\tcurrentValue: unknown,\n\tpreviousValue: unknown,\n): { hasChanged: boolean; count: number } => {\n\tconst existing = tracker.get(key)\n\tconst isInitialValue = tracker === propsTracker || tracker === contextTracker\n\tconst hasChanged = !isEqual(currentValue, previousValue)\n\n\tif (!existing) {\n\t\t// For props and context, start with count 1 if there's a change\n\t\ttracker.set(key, {\n\t\t\tcount: hasChanged && isInitialValue ? 1 : 0,\n\t\t\tcurrentValue,\n\t\t\tpreviousValue,\n\t\t\tlastUpdated: Date.now(),\n\t\t})\n\n\t\treturn {\n\t\t\thasChanged,\n\t\t\tcount: hasChanged && isInitialValue ? 1 : isInitialValue ? 0 : 1,\n\t\t}\n\t}\n\n\tif (!isEqual(existing.currentValue, currentValue)) {\n\t\tconst newCount = existing.count + 1\n\t\ttracker.set(key, {\n\t\t\tcount: newCount,\n\t\t\tcurrentValue,\n\t\t\tpreviousValue: existing.currentValue,\n\t\t\tlastUpdated: Date.now(),\n\t\t})\n\t\treturn { hasChanged: true, count: newCount }\n\t}\n\n\treturn { hasChanged: false, count: existing.count }\n}\n\nexport interface SectionData {\n\tcurrent: Array<{ name: string | number; value: unknown }>\n\tchanges: Set<string | number>\n\tchangesCounts: Map<string | number, number>\n}\n\ninterface InspectorData {\n\tfiberProps: SectionData\n\tfiberState: SectionData\n\tfiberContext: SectionData\n}\n\nconst getStateFromFiber = (fiber: Fiber): Record<string | number, unknown> => {\n\tif (!fiber) return {}\n\n\tif (\n\t\tfiber.tag === FunctionComponentTag ||\n\t\tfiber.tag === ForwardRefTag ||\n\t\tfiber.tag === SimpleMemoComponentTag ||\n\t\tfiber.tag === MemoComponentTag\n\t) {\n\t\tlet memoizedState: MemoizedState | null = fiber.memoizedState\n\t\tconst state: Record<number, unknown> = {}\n\t\tlet index = 0\n\n\t\twhile (memoizedState) {\n\t\t\tif (memoizedState.queue && memoizedState.memoizedState !== undefined) {\n\t\t\t\tstate[index] = memoizedState.memoizedState\n\t\t\t}\n\t\t\tmemoizedState = memoizedState.next\n\t\t\tindex++\n\t\t}\n\n\t\treturn state\n\t}\n\n\tif (fiber.tag === ClassComponentTag) {\n\t\treturn fiber.memoizedState || {}\n\t}\n\n\treturn {}\n}\n\ninterface InspectorDataResult {\n\tdata: InspectorData\n\tshouldUpdate: boolean\n}\n\ninterface BaseChange {\n\tname: string | number\n\tvalue: unknown\n\tprevValue: unknown\n}\n\ninterface PropChange extends BaseChange {\n\tname: string\n}\n\ninterface StateChange extends BaseChange {\n\tname: string | number\n}\n\ninterface ContextChange extends BaseChange {\n\tname: string\n\tcontextType: unknown\n}\n\ninterface CollectorResult<T extends BaseChange = BaseChange> {\n\tcurrent: Record<string | number, unknown>\n\tprev: Record<string | number, unknown>\n\tchanges: Array<T>\n}\n\nexport const collectPropsChanges = (\n\tfiber: Fiber,\n): CollectorResult<PropChange> => {\n\tconst currentProps = fiber.memoizedProps || {}\n\tconst prevProps = fiber.alternate?.memoizedProps || {}\n\n\tconst current: Record<string, unknown> = {}\n\tconst prev: Record<string, unknown> = {}\n\n\tconst allProps = Object.keys(currentProps)\n\tfor (const key of allProps) {\n\t\tif (key in currentProps) {\n\t\t\tcurrent[key] = currentProps[key]\n\t\t\tprev[key] = prevProps[key]\n\t\t}\n\t}\n\n\tconst changes = getChangedPropsDetailed(fiber).map((change) => ({\n\t\tname: change.name,\n\t\tvalue: change.value,\n\t\tprevValue: change.prevValue,\n\t}))\n\n\treturn { current, prev, changes }\n}\n\nexport const collectStateChanges = (\n\tfiber: Fiber,\n): CollectorResult<StateChange> => {\n\tconst current = getStateFromFiber(fiber)\n\tconst prev = fiber.alternate ? getStateFromFiber(fiber.alternate) : {}\n\tconst changes: Array<StateChange> = []\n\n\tfor (const [index, value] of Object.entries(current)) {\n\t\tconst stateKey = fiber.tag === ClassComponentTag ? index : Number(index)\n\t\tif (fiber.alternate && !isEqual(prev[index], value)) {\n\t\t\tchanges.push({\n\t\t\t\tname: stateKey,\n\t\t\t\tvalue,\n\t\t\t\tprevValue: prev[index],\n\t\t\t})\n\t\t}\n\t}\n\n\treturn { current, prev, changes }\n}\n\nexport const collectContextChanges = (\n\tfiber: Fiber,\n): CollectorResult<ContextChange> => {\n\tconst currentContexts = getAllFiberContexts(fiber)\n\tconst prevContexts = fiber.alternate\n\t\t? getAllFiberContexts(fiber.alternate)\n\t\t: new Map()\n\n\tconst current: Record<string, unknown> = {}\n\tconst prev: Record<string, unknown> = {}\n\tconst changes: Array<ContextChange> = []\n\n\tconst seenContexts = new Set<unknown>()\n\tfor (const [contextType, ctx] of currentContexts) {\n\t\tconst name = ctx.displayName\n\t\tconst contextKey = contextType\n\n\t\tif (seenContexts.has(contextKey)) continue\n\t\tseenContexts.add(contextKey)\n\n\t\tcurrent[name] = ctx.value\n\n\t\tconst prevCtx = prevContexts.get(contextType)\n\t\tif (prevCtx) {\n\t\t\tprev[name] = prevCtx.value\n\t\t\tif (!isEqual(prevCtx.value, ctx.value)) {\n\t\t\t\tchanges.push({\n\t\t\t\t\tname,\n\t\t\t\t\tvalue: ctx.value,\n\t\t\t\t\tprevValue: prevCtx.value,\n\t\t\t\t\tcontextType,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { current, prev, changes }\n}\n\nexport const collectInspectorData = (fiber: Fiber): InspectorDataResult => {\n\tconst emptySection = (): SectionData => ({\n\t\tcurrent: [],\n\t\tchanges: new Set<string | number>(),\n\t\tchangesCounts: new Map<string | number, number>(),\n\t})\n\n\tif (!fiber) {\n\t\treturn {\n\t\t\tdata: {\n\t\t\t\tfiberProps: emptySection(),\n\t\t\t\tfiberState: emptySection(),\n\t\t\t\tfiberContext: emptySection(),\n\t\t\t},\n\t\t\tshouldUpdate: false,\n\t\t}\n\t}\n\n\tlet hasNewChanges = false\n\tconst isInitialUpdate = isInitialComponentUpdate(fiber)\n\n\tconst propsData = emptySection()\n\tif (fiber.memoizedProps) {\n\t\tconst { current, changes } = collectPropsChanges(fiber)\n\n\t\tfor (const [key, value] of Object.entries(current)) {\n\t\t\tpropsData.current.push({\n\t\t\t\tname: key,\n\t\t\t\tvalue: isPromise(value)\n\t\t\t\t\t? { type: \"promise\", displayValue: \"Promise\" }\n\t\t\t\t\t: value,\n\t\t\t})\n\t\t}\n\n\t\tfor (const change of changes) {\n\t\t\tconst { hasChanged, count } = trackChange(\n\t\t\t\tpropsTracker,\n\t\t\t\tchange.name,\n\t\t\t\tchange.value,\n\t\t\t\tchange.prevValue,\n\t\t\t)\n\n\t\t\tif (hasChanged) {\n\t\t\t\thasNewChanges = true\n\t\t\t\tpropsData.changes.add(change.name)\n\t\t\t\tpropsData.changesCounts.set(change.name, count)\n\t\t\t}\n\t\t}\n\t}\n\n\tconst stateData = emptySection()\n\tconst { current: stateCurrent, changes: stateChanges } =\n\t\tcollectStateChanges(fiber)\n\n\tfor (const [index, value] of Object.entries(stateCurrent)) {\n\t\tconst stateKey = fiber.tag === ClassComponentTag ? index : Number(index)\n\t\tstateData.current.push({ name: stateKey, value })\n\t}\n\n\tfor (const change of stateChanges) {\n\t\tconst { hasChanged, count } = trackChange(\n\t\t\tstateTracker,\n\t\t\tchange.name,\n\t\t\tchange.value,\n\t\t\tchange.prevValue,\n\t\t)\n\n\t\tif (hasChanged) {\n\t\t\thasNewChanges = true\n\t\t\tstateData.changes.add(change.name)\n\t\t\tstateData.changesCounts.set(change.name, count)\n\t\t}\n\t}\n\n\tconst contextData = emptySection()\n\tconst { current: contextCurrent, changes: contextChanges } =\n\t\tcollectContextChanges(fiber)\n\n\tfor (const [name, value] of Object.entries(contextCurrent)) {\n\t\tcontextData.current.push({ name, value })\n\t}\n\n\tif (!isInitialUpdate) {\n\t\tfor (const change of contextChanges) {\n\t\t\tconst { hasChanged, count } = trackChange(\n\t\t\t\tcontextTracker,\n\t\t\t\tchange.name,\n\t\t\t\tchange.value,\n\t\t\t\tchange.prevValue,\n\t\t\t)\n\n\t\t\tif (hasChanged) {\n\t\t\t\thasNewChanges = true\n\t\t\t\tcontextData.changes.add(change.name)\n\t\t\t\tcontextData.changesCounts.set(change.name, count)\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!hasNewChanges && !isInitialUpdate) {\n\t\tpropsData.changes.clear()\n\t\tstateData.changes.clear()\n\t\tcontextData.changes.clear()\n\t}\n\n\treturn {\n\t\tdata: {\n\t\t\tfiberProps: propsData,\n\t\t\tfiberState: stateData,\n\t\t\tfiberContext: contextData,\n\t\t},\n\t\tshouldUpdate: hasNewChanges || isInitialUpdate,\n\t}\n}\n\ninterface ContextInfo {\n\tvalue: unknown\n\tdisplayName: string\n\tcontextType: unknown\n}\n// hm we potentially want to revalidate this if a fiber has new context's, i'm not sure how we can do that reactively\n// i suppose we can do one traversal on render (or during the existing traversal) that checks if any new context providers were mounted\n// and when that happens we revalidate this cache\n\n// i suppose a case this breaks is if a fiber changes ancestors through a key but doesn't remount\n// then it would have new parents... and that new parent may have new context\n// may be a fine trade off\n// the motivation is this fiber traversal on every rendering fiber is extremely expensive\nconst fiberContextsCache = new WeakMap<Fiber, Map<unknown, ContextInfo>>()\n\nexport const getAllFiberContexts = (\n\tfiber: Fiber,\n): Map<unknown, ContextInfo> => {\n\tif (!fiber) {\n\t\treturn new Map<unknown, ContextInfo>()\n\t}\n\n\t// todo validate this works\n\n\tconst cachedContexts = fiberContextsCache.get(fiber)\n\tif (cachedContexts) {\n\t\treturn cachedContexts\n\t}\n\n\tconst contexts = new Map<unknown, ContextInfo>()\n\tlet currentFiber: Fiber | null = fiber\n\n\twhile (currentFiber) {\n\t\tconst dependencies = currentFiber.dependencies\n\n\t\tif (dependencies?.firstContext) {\n\t\t\tlet contextItem: ContextDependency<unknown> | null =\n\t\t\t\tdependencies.firstContext\n\n\t\t\twhile (contextItem) {\n\t\t\t\tconst memoizedValue = contextItem.memoizedValue\n\t\t\t\tconst displayName = contextItem.context?.displayName\n\n\t\t\t\tif (!contexts.has(memoizedValue)) {\n\t\t\t\t\tcontexts.set(contextItem.context, {\n\t\t\t\t\t\tvalue: memoizedValue,\n\t\t\t\t\t\tdisplayName: displayName ?? \"UnnamedContext\",\n\t\t\t\t\t\tcontextType: null,\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tif (contextItem === contextItem.next) {\n\t\t\t\t\tbreak\n\t\t\t\t}\n\n\t\t\t\tcontextItem = contextItem.next\n\t\t\t}\n\t\t}\n\n\t\tcurrentFiber = currentFiber.return\n\t}\n\n\t// Cache the result for this fiber\n\tfiberContextsCache.set(fiber, contexts)\n\n\treturn contexts\n}\n\nexport const collectInspectorDataWithoutCounts = (fiber: Fiber) => {\n\tconst emptySection = (): SectionData => ({\n\t\tcurrent: [],\n\t\tchanges: new Set<string | number>(),\n\t\tchangesCounts: new Map<string | number, number>(),\n\t})\n\n\tif (!fiber) {\n\t\treturn {\n\t\t\tfiberProps: emptySection(),\n\t\t\tfiberState: emptySection(),\n\t\t\tfiberContext: emptySection(),\n\t\t}\n\t}\n\n\t// let hasNewChanges = false;\n\n\tconst propsData = emptySection()\n\tif (fiber.memoizedProps) {\n\t\tconst { current, changes } = collectPropsChanges(fiber)\n\n\t\tfor (const [key, value] of Object.entries(current)) {\n\t\t\tpropsData.current.push({\n\t\t\t\tname: key,\n\t\t\t\tvalue: isPromise(value)\n\t\t\t\t\t? { type: \"promise\", displayValue: \"Promise\" }\n\t\t\t\t\t: value,\n\t\t\t})\n\t\t}\n\n\t\tfor (const change of changes) {\n\t\t\t// hasNewChanges = true;\n\t\t\tpropsData.changes.add(change.name)\n\t\t\tpropsData.changesCounts.set(change.name, 1)\n\t\t}\n\t}\n\n\tconst stateData = emptySection()\n\tif (fiber.memoizedState) {\n\t\tconst { current, changes } = collectStateChanges(fiber)\n\n\t\tfor (const [key, value] of Object.entries(current)) {\n\t\t\tstateData.current.push({\n\t\t\t\tname: key,\n\t\t\t\tvalue: isPromise(value)\n\t\t\t\t\t? { type: \"promise\", displayValue: \"Promise\" }\n\t\t\t\t\t: value,\n\t\t\t})\n\t\t}\n\n\t\tfor (const change of changes) {\n\t\t\t// hasNewChanges = true;\n\t\t\tstateData.changes.add(change.name)\n\t\t\tstateData.changesCounts.set(change.name, 1)\n\t\t}\n\t}\n\n\tconst contextData = emptySection()\n\tconst { current, changes } = collectContextChanges(fiber)\n\n\tfor (const [key, value] of Object.entries(current)) {\n\t\tcontextData.current.push({\n\t\t\tname: key,\n\t\t\tvalue: isPromise(value)\n\t\t\t\t? { type: \"promise\", displayValue: \"Promise\" }\n\t\t\t\t: value,\n\t\t})\n\t}\n\n\tfor (const change of changes) {\n\t\t// hasNewChanges = true;\n\t\tcontextData.changes.add(change.name)\n\t\tcontextData.changesCounts.set(change.name, 1)\n\t}\n\t// todo: is isInitialUpdate correct? Is this necessary:\n\t// if (!hasNewChanges && !isInitialUpdate) {\n\t//   propsData.changes.clear();\n\t//   stateData.changes.clear();\n\t//   contextData.changes.clear();\n\t// }\n\n\treturn {\n\t\t// data: {\n\t\tfiberProps: propsData,\n\t\tfiberState: stateData,\n\t\tfiberContext: contextData,\n\t\t// },\n\t}\n}\n","import { signal } from \"@preact/signals\"\nimport type { Fiber } from \"bippy\"\nimport type { ComponentType } from \"preact\"\nimport { flashManager } from \"./flash-overlay\"\nimport { type SectionData, resetTracking } from \"./timeline/utils\"\n\nexport interface MinimalFiberInfo {\n\tid?: string | number\n\tkey: string | null\n\ttype: ComponentType<unknown> | string\n\tdisplayName: string\n\tselfTime: number\n\ttotalTime: number\n}\n\nexport interface TimelineUpdate {\n\ttimestamp: number\n\tfiberInfo: MinimalFiberInfo\n\tprops: SectionData\n\tstate: SectionData\n\tcontext: SectionData\n\tstateNames: string[]\n}\n\ninterface TimelineState {\n\tupdates: Array<TimelineUpdate>\n\tcurrentFiber: Fiber | null\n\ttotalUpdates: number\n\twindowOffset: number\n\tcurrentIndex: number\n\tisViewingHistory: boolean\n\tlatestFiber: Fiber | null\n\tisVisible: boolean\n\tplaybackSpeed: 1 | 2 | 4\n}\n\nexport const TIMELINE_MAX_UPDATES = 1000\n\nconst timelineStateDefault: TimelineState = {\n\tupdates: [],\n\tcurrentFiber: null,\n\ttotalUpdates: 0,\n\twindowOffset: 0,\n\tcurrentIndex: 0,\n\tisViewingHistory: false,\n\tlatestFiber: null,\n\tisVisible: false,\n\tplaybackSpeed: 1,\n}\n\nexport const timelineState = signal<TimelineState>(timelineStateDefault)\n\nexport const inspectorUpdateSignal = signal<number>(0)\n\nlet pendingUpdates: Array<{ update: TimelineUpdate; fiber: Fiber | null }> = []\nlet batchTimeout: ReturnType<typeof setTimeout> | null = null\n\nconst batchUpdates = () => {\n\tif (pendingUpdates.length === 0) return\n\n\tconst batchedUpdates = [...pendingUpdates]\n\n\tconst { updates, totalUpdates, currentIndex, isViewingHistory } =\n\t\ttimelineState.value\n\tconst newUpdates = [...updates]\n\tlet newTotalUpdates = totalUpdates\n\n\tfor (const { update } of batchedUpdates) {\n\t\tif (newUpdates.length >= TIMELINE_MAX_UPDATES) {\n\t\t\tnewUpdates.shift()\n\t\t}\n\t\tnewUpdates.push(update)\n\t\tnewTotalUpdates++\n\t}\n\n\tconst newWindowOffset = Math.max(0, newTotalUpdates - TIMELINE_MAX_UPDATES)\n\n\tlet newCurrentIndex: number\n\tif (isViewingHistory) {\n\t\tif (currentIndex === totalUpdates - 1) {\n\t\t\tnewCurrentIndex = newUpdates.length - 1\n\t\t} else if (currentIndex === 0) {\n\t\t\tnewCurrentIndex = 0\n\t\t} else {\n\t\t\tif (newWindowOffset === 0) {\n\t\t\t\tnewCurrentIndex = currentIndex\n\t\t\t} else {\n\t\t\t\tnewCurrentIndex = currentIndex - 1\n\t\t\t}\n\t\t}\n\t} else {\n\t\tnewCurrentIndex = newUpdates.length - 1\n\t}\n\n\tconst lastUpdate = batchedUpdates[batchedUpdates.length - 1]\n\n\ttimelineState.value = {\n\t\t...timelineState.value,\n\t\tlatestFiber: lastUpdate.fiber,\n\t\tupdates: newUpdates,\n\t\ttotalUpdates: newTotalUpdates,\n\t\twindowOffset: newWindowOffset,\n\t\tcurrentIndex: newCurrentIndex,\n\t\tisViewingHistory,\n\t}\n\n\t// Only after signal is updated, remove the processed updates\n\tpendingUpdates = pendingUpdates.slice(batchedUpdates.length)\n}\n\nexport const timelineActions = {\n\tshowTimeline: () => {\n\t\ttimelineState.value = {\n\t\t\t...timelineState.value,\n\t\t\tisVisible: true,\n\t\t}\n\t},\n\n\thideTimeline: () => {\n\t\ttimelineState.value = {\n\t\t\t...timelineState.value,\n\t\t\tisVisible: false,\n\t\t\tcurrentIndex: timelineState.value.updates.length - 1,\n\t\t}\n\t},\n\n\tupdateFrame: (index: number, isViewingHistory: boolean) => {\n\t\ttimelineState.value = {\n\t\t\t...timelineState.value,\n\t\t\tcurrentIndex: index,\n\t\t\tisViewingHistory,\n\t\t}\n\t},\n\n\tupdatePlaybackSpeed: (speed: TimelineState[\"playbackSpeed\"]) => {\n\t\ttimelineState.value = {\n\t\t\t...timelineState.value,\n\t\t\tplaybackSpeed: speed,\n\t\t}\n\t},\n\n\taddUpdate: (update: TimelineUpdate, latestFiber: Fiber | null) => {\n\t\tpendingUpdates.push({ update, fiber: latestFiber })\n\n\t\tif (!batchTimeout) {\n\t\t\tconst processBatch = () => {\n\t\t\t\tbatchUpdates()\n\n\t\t\t\tbatchTimeout = null\n\n\t\t\t\tif (pendingUpdates.length > 0) {\n\t\t\t\t\tbatchTimeout = setTimeout(processBatch, 96)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tbatchTimeout = setTimeout(processBatch, 96)\n\t\t}\n\t},\n\n\treset: () => {\n\t\tif (batchTimeout) {\n\t\t\tclearTimeout(batchTimeout)\n\t\t\tbatchTimeout = null\n\t\t}\n\t\tpendingUpdates = []\n\t\ttimelineState.value = timelineStateDefault\n\t},\n}\n\nconst globalInspectorState = {\n\tlastRendered: new Map<string, unknown>(),\n\texpandedPaths: new Set<string>(),\n\tcleanup: () => {\n\t\tglobalInspectorState.lastRendered.clear()\n\t\tglobalInspectorState.expandedPaths.clear()\n\t\tflashManager.cleanupAll()\n\t\tresetTracking()\n\t\ttimelineState.value = timelineStateDefault\n\t},\n}\n","import { computed, untracked, useSignalEffect } from \"@preact/signals\"\nimport type { Fiber } from \"bippy\"\nimport { useMemo, useRef, useState } from \"preact/hooks\"\nimport { Store } from \"~core/index\"\nimport { signalIsSettingsOpen } from \"~web/state\"\nimport { cn, getExtendedDisplayName } from \"~web/utils/helpers\"\nimport { timelineState } from \"./states\"\n\nconst headerInspectClassName = computed(() =>\n\tcn(\n\t\t\"absolute inset-0 flex items-center gap-x-2\",\n\t\t\"translate-y-0\",\n\t\t\"transition-transform duration-300\",\n\t\tsignalIsSettingsOpen.value && \"-translate-y-[200%]\",\n\t),\n)\n\nexport const HeaderInspect = () => {\n\tconst refReRenders = useRef<HTMLSpanElement>(null)\n\tconst refTiming = useRef<HTMLSpanElement>(null)\n\tconst [currentFiber, setCurrentFiber] = useState<Fiber | null>(null)\n\n\tuseSignalEffect(() => {\n\t\tconst state = Store.inspectState.value\n\n\t\tif (state.kind === \"focused\") {\n\t\t\tsetCurrentFiber(state.fiber)\n\t\t}\n\t})\n\n\tuseSignalEffect(() => {\n\t\tconst state = timelineState.value\n\t\tuntracked(() => {\n\t\t\tif (Store.inspectState.value.kind !== \"focused\") return\n\t\t\tif (!refReRenders.current || !refTiming.current) return\n\n\t\t\tconst { totalUpdates, currentIndex, updates, isVisible, windowOffset } =\n\t\t\t\tstate\n\n\t\t\tconst reRenders = Math.max(0, totalUpdates - 1)\n\t\t\tconst headerText = isVisible\n\t\t\t\t? `#${windowOffset + currentIndex} Re-render`\n\t\t\t\t: reRenders > 0\n\t\t\t\t\t? `${reRenders}`\n\t\t\t\t\t: \"\"\n\n\t\t\tlet formattedTime: string | undefined\n\t\t\tif (reRenders > 0 && currentIndex >= 0 && currentIndex < updates.length) {\n\t\t\t\tconst time = updates[currentIndex]?.fiberInfo?.selfTime\n\t\t\t\tformattedTime =\n\t\t\t\t\ttime > 0\n\t\t\t\t\t\t? time < 0.1 - Number.EPSILON\n\t\t\t\t\t\t\t? \"< 0.1ms\"\n\t\t\t\t\t\t\t: `${Number(time.toFixed(1))}ms`\n\t\t\t\t\t\t: undefined\n\t\t\t}\n\n\t\t\t// TODO(Alexis): can be computed signal\n\t\t\trefReRenders.current.dataset.text = headerText ? `  ${headerText}` : \"\"\n\t\t\trefTiming.current.dataset.text = formattedTime\n\t\t\t\t? `  ${formattedTime}`\n\t\t\t\t: \"\"\n\t\t})\n\t})\n\n\tconst componentName = useMemo(() => {\n\t\tif (!currentFiber) return null\n\t\tconst { name, wrappers, wrapperTypes } =\n\t\t\tgetExtendedDisplayName(currentFiber)\n\n\t\tconst title = wrappers.length\n\t\t\t? `${wrappers.join(\"(\")}(${name})${\")\".repeat(wrappers.length)}`\n\t\t\t: (name ?? \"\")\n\n\t\tconst firstWrapperType = wrapperTypes[0]\n\t\treturn (\n\t\t\t<span title={title} className=\"flex items-center gap-x-1\">\n\t\t\t\t{name ?? \"Unknown\"}\n\t\t\t\t<span\n\t\t\t\t\ttitle={firstWrapperType?.title}\n\t\t\t\t\tclassName=\"flex items-center gap-x-1 text-[10px] text-purple-400\"\n\t\t\t\t>\n\t\t\t\t\t{!!firstWrapperType && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tkey={firstWrapperType.type}\n\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\"rounded py-[1px] px-1\",\n\t\t\t\t\t\t\t\t\t\"truncate\",\n\t\t\t\t\t\t\t\t\tfirstWrapperType.compiler && \"bg-purple-800 text-neutral-400\",\n\t\t\t\t\t\t\t\t\t!firstWrapperType.compiler &&\n\t\t\t\t\t\t\t\t\t\t\"bg-neutral-700 text-neutral-300\",\n\t\t\t\t\t\t\t\t\tfirstWrapperType.type === \"memo\" && \"bg-[#5f3f9a] text-white\",\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{firstWrapperType.type}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{firstWrapperType.compiler && (\n\t\t\t\t\t\t\t\t<span className=\"text-yellow-300\"></span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\t\t\t\t{wrapperTypes.length > 1 && (\n\t\t\t\t\t<span className=\"text-[10px] text-neutral-400\">\n\t\t\t\t\t\t{wrapperTypes.length - 1}\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t</span>\n\t\t)\n\t}, [currentFiber])\n\n\treturn (\n\t\t<div className={headerInspectClassName}>\n\t\t\t{componentName}\n\t\t\t{/* useless info */}\n\t\t\t<div className=\"flex items-center gap-x-2 mr-auto text-xs text-[#888]\">\n\t\t\t\t<span\n\t\t\t\t\tref={refReRenders}\n\t\t\t\t\tclassName=\"with-data-text cursor-pointer !overflow-visible\"\n\t\t\t\t\ttitle=\"Click to toggle between rerenders and total renders\"\n\t\t\t\t/>\n\t\t\t\t<span ref={refTiming} className=\"with-data-text !overflow-visible\" />\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","import { useEffect, useState } from \"preact/hooks\"\nimport { Store } from \"~core/index\"\nimport { Icon } from \"~web/components/icon\"\nimport { useDelayedValue } from \"~web/hooks/use-delayed-value\"\nimport { signalWidgetViews } from \"~web/state\"\nimport { cn } from \"~web/utils/helpers\"\nimport { HeaderInspect } from \"~web/views/inspector/header\"\nimport { getOverrideMethods } from \"~web/views/inspector/utils\"\n\n// const REPLAY_DELAY_MS = 300;\n\nconst BtnReplay = () => {\n\t// const refTimeout = useRef<TTimer>();\n\t// const replayState = useRef({\n\t//   isReplaying: false,\n\t//   toggleDisabled: (disabled: boolean, button: HTMLElement) => {\n\t//     button.classList[disabled ? 'add' : 'remove']('disabled');\n\t//   },\n\t// });\n\n\tconst [canEdit, setCanEdit] = useState(false)\n\n\tuseEffect(() => {\n\t\tconst { overrideProps } = getOverrideMethods()\n\t\tconst canEdit = !!overrideProps\n\n\t\trequestAnimationFrame(() => {\n\t\t\tsetCanEdit(canEdit)\n\t\t})\n\t}, [])\n\n\t// const handleReplay = (e: MouseEvent) => {\n\t//   e.stopPropagation();\n\t//   const { overrideProps, overrideHookState } = getOverrideMethods();\n\t//   const state = replayState.current;\n\t//   const button = e.currentTarget as HTMLElement;\n\n\t//   const inspectState = Store.inspectState.value;\n\t//   if (state.isReplaying || inspectState.kind !== 'focused') return;\n\n\t//   const { parentCompositeFiber } = getCompositeComponentFromElement(\n\t//     inspectState.focusedDomElement,\n\t//   );\n\t//   if (!parentCompositeFiber || !overrideProps || !overrideHookState) return;\n\n\t//   state.isReplaying = true;\n\t//   state.toggleDisabled(true, button);\n\n\t//   void replayComponent(parentCompositeFiber)\n\t//     .catch(() => void 0)\n\t//     .finally(() => {\n\t//       clearTimeout(refTimeout.current);\n\t//       if (document.hidden) {\n\t//         state.isReplaying = false;\n\t//         state.toggleDisabled(false, button);\n\t//       } else {\n\t//         refTimeout.current = setTimeout(() => {\n\t//           state.isReplaying = false;\n\t//           state.toggleDisabled(false, button);\n\t//         }, REPLAY_DELAY_MS);\n\t//       }\n\t//     });\n\t// };\n\n\tif (!canEdit) return null\n\n\treturn (\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\ttitle=\"Replay component\"\n\t\t\t// onClick={handleReplay}\n\t\t\tclassName=\"react-devtool-replay-button\"\n\t\t>\n\t\t\t<Icon name=\"icon-replay\" />\n\t\t</button>\n\t)\n}\n\n// const useSubscribeFocusedFiber = (onUpdate: () => void) => {\n//   // biome-ignore lint/correctness/useExhaustiveDependencies: no deps\n//   useEffect(() => {\n//     const subscribe = () => {\n//       if (Store.inspectState.value.kind !== 'focused') {\n//         return;\n//       }\n//       onUpdate();\n//     };\n\n//     const unSubReportTime = Store.lastReportTime.subscribe(subscribe);\n//     const unSubState = Store.inspectState.subscribe(subscribe);\n//     return () => {\n//       unSubReportTime();\n//       unSubState();\n//     };\n//   }, []);\n// };\n\nexport const Header = () => {\n\tconst isInitialView = useDelayedValue(\n\t\tStore.inspectState.value.kind === \"focused\",\n\t\t150,\n\t\t0,\n\t)\n\tconst handleClose = () => {\n\t\tsignalWidgetViews.value = {\n\t\t\tview: \"none\",\n\t\t}\n\t\tStore.inspectState.value = {\n\t\t\tkind: \"inspect-off\",\n\t\t}\n\t}\n\n\tconst isHeaderIsNotifications =\n\t\tsignalWidgetViews.value.view === \"notifications\"\n\n\tif (isHeaderIsNotifications) {\n\t\treturn\n\t}\n\n\treturn (\n\t\t<div className=\"react-devtool-header\">\n\t\t\t<div className=\"relative flex-1 h-full\">\n\t\t\t\t<div\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"react-devtool-header-item is-visible\",\n\t\t\t\t\t\t!isInitialView && \"!duration-0\",\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<HeaderInspect />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* {Store.inspectState.value.kind !== 'inspect-off' && <BtnReplay />} */}\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\ttitle=\"Close\"\n\t\t\t\tclassName=\"react-devtool-close-button\"\n\t\t\t\tonClick={handleClose}\n\t\t\t>\n\t\t\t\t<Icon name=\"icon-close\" />\n\t\t\t</button>\n\t\t</div>\n\t)\n}\n","import type { SVGProps } from \"preact/compat\"\n\nexport function Logo(props: SVGProps<SVGSVGElement>) {\n\treturn (\n\t\t<svg\n\t\t\twidth=\"100%\"\n\t\t\theight=\"100%\"\n\t\t\tviewBox=\"-10.5 -9.45 21 18.9\"\n\t\t\tfill=\"none\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t{...props}\n\t\t>\n\t\t\t<circle cx=\"0\" cy=\"0\" r=\"2\" fill=\"currentColor\" />\n\t\t\t<g stroke=\"currentColor\" strokeWidth=\"1\" fill=\"none\">\n\t\t\t\t<ellipse rx=\"10\" ry=\"4.5\" />\n\t\t\t\t<ellipse rx=\"10\" ry=\"4.5\" transform=\"rotate(60)\" />\n\t\t\t\t<ellipse rx=\"10\" ry=\"4.5\" transform=\"rotate(120)\" />\n\t\t\t</g>\n\t\t</svg>\n\t)\n}\n","let e=-1;const t=t=>{addEventListener(\"pageshow\",(n=>{n.persisted&&(e=n.timeStamp,t(n))}),!0)},n=(e,t,n,i)=>{let o,s;return r=>{t.value>=0&&(r||i)&&(s=t.value-(o??0),(s||void 0===o)&&(o=t.value,t.delta=s,t.rating=((e,t)=>e>t[1]?\"poor\":e>t[0]?\"needs-improvement\":\"good\")(t.value,n),e(t)))}},i=e=>{requestAnimationFrame((()=>requestAnimationFrame((()=>e()))))},o=()=>{const e=performance.getEntriesByType(\"navigation\")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},s=()=>{const e=o();return e?.activationStart??0},r=(t,n=-1)=>{const i=o();let r=\"navigate\";e>=0?r=\"back-forward-cache\":i&&(document.prerendering||s()>0?r=\"prerender\":document.wasDiscarded?r=\"restore\":i.type&&(r=i.type.replace(/_/g,\"-\")));return{name:t,value:n,rating:\"good\",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},c=new WeakMap;function a(e,t){return c.get(e)||c.set(e,new t),c.get(e)}class d{t;i=0;o=[];h(e){if(e.hadRecentInput)return;const t=this.o[0],n=this.o.at(-1);this.i&&t&&n&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),this.t?.(e)}}const h=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const i=new PerformanceObserver((e=>{Promise.resolve().then((()=>{t(e.getEntries())}))}));return i.observe({type:e,buffered:!0,...n}),i}}catch{}},f=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let u=-1;const l=()=>\"hidden\"!==document.visibilityState||document.prerendering?1/0:0,m=e=>{\"hidden\"===document.visibilityState&&u>-1&&(u=\"visibilitychange\"===e.type?e.timeStamp:0,v())},g=()=>{addEventListener(\"visibilitychange\",m,!0),addEventListener(\"prerenderingchange\",m,!0)},v=()=>{removeEventListener(\"visibilitychange\",m,!0),removeEventListener(\"prerenderingchange\",m,!0)},p=()=>{if(u<0){const e=s(),n=document.prerendering?void 0:globalThis.performance.getEntriesByType(\"visibility-state\").filter((t=>\"hidden\"===t.name&&t.startTime>e))[0]?.startTime;u=n??l(),g(),t((()=>{setTimeout((()=>{u=l(),g()}))}))}return{get firstHiddenTime(){return u}}},y=e=>{document.prerendering?addEventListener(\"prerenderingchange\",(()=>e()),!0):e()},b=[1800,3e3],P=(e,o={})=>{y((()=>{const c=p();let a,d=r(\"FCP\");const f=h(\"paint\",(e=>{for(const t of e)\"first-contentful-paint\"===t.name&&(f.disconnect(),t.startTime<c.firstHiddenTime&&(d.value=Math.max(t.startTime-s(),0),d.entries.push(t),a(!0)))}));f&&(a=n(e,d,b,o.reportAllChanges),t((t=>{d=r(\"FCP\"),a=n(e,d,b,o.reportAllChanges),i((()=>{d.value=performance.now()-t.timeStamp,a(!0)}))})))}))},T=[.1,.25],E=(e,o={})=>{P(f((()=>{let s,c=r(\"CLS\",0);const f=a(o,d),u=e=>{for(const t of e)f.h(t);f.i>c.value&&(c.value=f.i,c.entries=f.o,s())},l=h(\"layout-shift\",u);l&&(s=n(e,c,T,o.reportAllChanges),document.addEventListener(\"visibilitychange\",(()=>{\"hidden\"===document.visibilityState&&(u(l.takeRecords()),s(!0))})),t((()=>{f.i=0,c=r(\"CLS\",0),s=n(e,c,T,o.reportAllChanges),i((()=>s()))})),setTimeout(s))})))};let _=0,L=1/0,M=0;const C=e=>{for(const t of e)t.interactionId&&(L=Math.min(L,t.interactionId),M=Math.max(M,t.interactionId),_=M?(M-L)/7+1:0)};let I;const w=()=>I?_:performance.interactionCount??0,F=()=>{\"interactionCount\"in performance||I||(I=h(\"event\",C,{type:\"event\",buffered:!0,durationThreshold:0}))};let k=0;class A{u=[];l=new Map;m;v;p(){k=w(),this.u.length=0,this.l.clear()}P(){const e=Math.min(this.u.length-1,Math.floor((w()-k)/50));return this.u[e]}h(e){if(this.m?.(e),!e.interactionId&&\"first-input\"!==e.entryType)return;const t=this.u.at(-1);let n=this.l.get(e.interactionId);if(n||this.u.length<10||e.duration>t.T){if(n?e.duration>n.T?(n.entries=[e],n.T=e.duration):e.duration===n.T&&e.startTime===n.entries[0].startTime&&n.entries.push(e):(n={id:e.interactionId,entries:[e],T:e.duration},this.l.set(n.id,n),this.u.push(n)),this.u.sort(((e,t)=>t.T-e.T)),this.u.length>10){const e=this.u.splice(10);for(const t of e)this.l.delete(t.id)}this.v?.(n)}}}const B=e=>{const t=globalThis.requestIdleCallback||setTimeout;\"hidden\"===document.visibilityState?e():(e=f(e),document.addEventListener(\"visibilitychange\",e,{once:!0}),t((()=>{e(),document.removeEventListener(\"visibilitychange\",e)})))},N=[200,500],S=(e,i={})=>{globalThis.PerformanceEventTiming&&\"interactionId\"in PerformanceEventTiming.prototype&&y((()=>{F();let o,s=r(\"INP\");const c=a(i,A),d=e=>{B((()=>{for(const t of e)c.h(t);const t=c.P();t&&t.T!==s.value&&(s.value=t.T,s.entries=t.entries,o())}))},f=h(\"event\",d,{durationThreshold:i.durationThreshold??40});o=n(e,s,N,i.reportAllChanges),f&&(f.observe({type:\"first-input\",buffered:!0}),document.addEventListener(\"visibilitychange\",(()=>{\"hidden\"===document.visibilityState&&(d(f.takeRecords()),o(!0))})),t((()=>{c.p(),s=r(\"INP\"),o=n(e,s,N,i.reportAllChanges)})))}))};class q{m;h(e){this.m?.(e)}}const x=[2500,4e3],O=(e,o={})=>{y((()=>{const c=p();let d,u=r(\"LCP\");const l=a(o,q),m=e=>{o.reportAllChanges||(e=e.slice(-1));for(const t of e)l.h(t),t.startTime<c.firstHiddenTime&&(u.value=Math.max(t.startTime-s(),0),u.entries=[t],d())},g=h(\"largest-contentful-paint\",m);if(g){d=n(e,u,x,o.reportAllChanges);const s=f((()=>{m(g.takeRecords()),g.disconnect(),d(!0)}));for(const e of[\"keydown\",\"click\",\"visibilitychange\"])addEventListener(e,(()=>B(s)),{capture:!0,once:!0});t((t=>{u=r(\"LCP\"),d=n(e,u,x,o.reportAllChanges),i((()=>{u.value=performance.now()-t.timeStamp,d(!0)}))}))}}))},$=[800,1800],D=e=>{document.prerendering?y((()=>D(e))):\"complete\"!==document.readyState?addEventListener(\"load\",(()=>D(e)),!0):setTimeout(e)},H=(e,i={})=>{let c=r(\"TTFB\"),a=n(e,c,$,i.reportAllChanges);D((()=>{const d=o();d&&(c.value=Math.max(d.responseStart-s(),0),c.entries=[d],a(!0),t((()=>{c=r(\"TTFB\",0),a=n(e,c,$,i.reportAllChanges),a(!0)})))}))};export{T as CLSThresholds,b as FCPThresholds,N as INPThresholds,x as LCPThresholds,$ as TTFBThresholds,E as onCLS,P as onFCP,S as onINP,O as onLCP,H as onTTFB};\n","import { memo } from \"preact/compat\"\nimport { useCallback, useEffect, useState } from \"preact/hooks\"\nimport { cn } from \"~web/utils/helpers\"\nimport { Icon } from \"../icon\"\n\ninterface CopyToClipboardProps {\n\ttext: string\n\tchildren?: (props: {\n\t\tClipboardIcon: JSX.Element\n\t\tonClick: (e: MouseEvent) => void\n\t}) => JSX.Element\n\tonCopy?: (success: boolean, text: string) => void\n\tclassName?: string\n\ticonSize?: number\n}\n\nexport const CopyToClipboard = /* @__PURE__ */ memo(\n\t({\n\t\ttext,\n\t\tchildren,\n\t\tonCopy,\n\t\tclassName,\n\t\ticonSize = 14,\n\t}: CopyToClipboardProps): JSX.Element => {\n\t\tconst [isCopied, setIsCopied] = useState(false)\n\n\t\tuseEffect(() => {\n\t\t\tif (isCopied) {\n\t\t\t\tconst timeout = setTimeout(() => setIsCopied(false), 600)\n\t\t\t\treturn () => {\n\t\t\t\t\tclearTimeout(timeout)\n\t\t\t\t}\n\t\t\t}\n\t\t}, [isCopied])\n\n\t\tconst copyToClipboard = useCallback(\n\t\t\t(e: MouseEvent) => {\n\t\t\t\te.preventDefault()\n\t\t\t\te.stopPropagation()\n\n\t\t\t\tnavigator.clipboard.writeText(text).then(\n\t\t\t\t\t() => {\n\t\t\t\t\t\tsetIsCopied(true)\n\t\t\t\t\t\tonCopy?.(true, text)\n\t\t\t\t\t},\n\t\t\t\t\t() => {\n\t\t\t\t\t\tonCopy?.(false, text)\n\t\t\t\t\t},\n\t\t\t\t)\n\t\t\t},\n\t\t\t[text, onCopy],\n\t\t)\n\n\t\tconst ClipboardIcon = (\n\t\t\t<button\n\t\t\t\tonClick={copyToClipboard}\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName={cn(\n\t\t\t\t\t\"z-10\",\n\t\t\t\t\t\"flex items-center justify-center\",\n\t\t\t\t\t\"hover:text-dev-pink-400\",\n\t\t\t\t\t\"transition-colors duration-200 ease-in-out\",\n\t\t\t\t\t\"cursor-pointer\",\n\t\t\t\t\t`size-[${iconSize}px]`,\n\t\t\t\t\tclassName,\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t<Icon\n\t\t\t\t\tname={`icon-${isCopied ? \"check\" : \"copy\"}`}\n\t\t\t\t\tsize={[iconSize]}\n\t\t\t\t\tclassName={cn(isCopied && \"text-green-500\")}\n\t\t\t\t/>\n\t\t\t</button>\n\t\t)\n\n\t\tif (!children) {\n\t\t\treturn ClipboardIcon\n\t\t}\n\n\t\treturn children({\n\t\t\tClipboardIcon,\n\t\t\tonClick: copyToClipboard,\n\t\t})\n\t},\n)\n","import type { Ref, RefCallback } from \"preact\"\nimport { type MutableRefObject, useCallback } from \"preact/compat\"\n\ntype PossibleRef<T> = Ref<T> | undefined\n\nconst assignRef = <T>(ref: PossibleRef<T>, value: T) => {\n\tif (typeof ref === \"function\") {\n\t\tref(value)\n\t} else if (ref !== null) {\n\t\t;(ref as MutableRefObject<T>).current = value\n\t}\n}\n\nconst mergeRefs = <T>(...refs: PossibleRef<T>[]) => {\n\treturn (node: T) => {\n\t\tfor (const ref of refs) {\n\t\t\tif (ref) {\n\t\t\t\tassignRef(ref, node)\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport const useMergedRefs = <T>(...refs: PossibleRef<T>[]) => {\n\treturn useCallback(mergeRefs(...refs), [...refs]) as RefCallback<T>\n}\n","import { signal, Signal } from \"@preact/signals\"\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"preact/hooks\"\nimport { render, h } from \"preact\"\n\nimport { isEqual } from \"~core/utils\"\nimport { CopyToClipboard } from \"~web/components/copy-to-clipboard\"\nimport { Icon } from \"~web/components/icon\"\nimport { useMergedRefs } from \"~web/hooks/use-merged-refs\"\nimport { cn } from \"~web/utils/helpers\"\nimport { globalInspectorState } from \".\"\nimport { flashManager } from \"./flash-overlay\"\nimport {\n\tdetectValueType,\n\tformatForClipboard,\n\tformatInitialValue,\n\tformatValue,\n\tisEditableValue,\n\tisExpandable,\n\tisPromise,\n\tsanitizeString,\n\tupdateNestedValue,\n} from \"./utils\"\n\ninterface ValueMetadata {\n\ttype: string\n\tdisplayValue: string\n\tvalue?: unknown\n\tsize?: number\n\tlength?: number\n\tbyteLength?: number\n\tentries?: Record<string, ValueMetadata>\n\titems?: Array<ValueMetadata>\n}\ninterface PropertyElementProps {\n\tname: string\n\tvalue: unknown | ValueMetadata\n\tlevel: number\n\tparentPath?: string\n\tallowEditing?: boolean\n\tonSave: (path: string[], value: unknown) => void\n}\n\ninterface PropertySectionProps {\n\trefSticky?:\n\t\t| ReturnType<typeof useMergedRefs<HTMLElement>>\n\t\t| ((node: HTMLElement | null) => void)\n\tisSticky?: boolean\n\tname: string\n\tdata: Signal<Record<string, unknown>>\n}\n\ninterface EditableValueProps {\n\tvalue: unknown\n\tonSave: (newValue: unknown) => void\n\tonCancel: () => void\n}\n\nconst EditableValue = ({ value, onSave, onCancel }: EditableValueProps) => {\n\tconst refInput = useRef<HTMLInputElement>(null)\n\tconst [editValue, setEditValue] = useState(\"\")\n\n\tuseEffect(() => {\n\t\tlet initialValue = \"\"\n\t\ttry {\n\t\t\tif (value instanceof Date) {\n\t\t\t\tinitialValue = value.toISOString().slice(0, 16)\n\t\t\t} else if (\n\t\t\t\tvalue instanceof Map ||\n\t\t\t\tvalue instanceof Set ||\n\t\t\t\tvalue instanceof RegExp ||\n\t\t\t\tvalue instanceof Error ||\n\t\t\t\tvalue instanceof ArrayBuffer ||\n\t\t\t\tArrayBuffer.isView(value) ||\n\t\t\t\t(typeof value === \"object\" && value !== null)\n\t\t\t) {\n\t\t\t\tinitialValue = formatValue(value)\n\t\t\t} else {\n\t\t\t\tinitialValue = formatInitialValue(value)\n\t\t\t}\n\t\t} catch {\n\t\t\tinitialValue = String(value)\n\t\t}\n\t\tconst sanitizedValue = sanitizeString(initialValue)\n\t\tsetEditValue(sanitizedValue)\n\n\t\trequestAnimationFrame(() => {\n\t\t\tif (!refInput.current) return\n\t\t\trefInput.current.focus()\n\t\t\tif (typeof value === \"string\") {\n\t\t\t\trefInput.current.setSelectionRange(1, sanitizedValue.length - 1)\n\t\t\t} else {\n\t\t\t\trefInput.current.select()\n\t\t\t}\n\t\t})\n\t}, [value])\n\n\tconst handleChange = useCallback((e: Event) => {\n\t\tconst target = e.target as HTMLInputElement\n\t\tif (target) {\n\t\t\tsetEditValue(target.value)\n\t\t}\n\t}, [])\n\n\tconst handleKeyDown = (e: KeyboardEvent) => {\n\t\tif (e.key === \"Enter\") {\n\t\t\te.preventDefault()\n\t\t\ttry {\n\t\t\t\tlet newValue: unknown\n\t\t\t\tif (value instanceof Date) {\n\t\t\t\t\tconst date = new Date(editValue)\n\t\t\t\t\tif (Number.isNaN(date.getTime())) {\n\t\t\t\t\t\tthrow new Error(\"Invalid date\")\n\t\t\t\t\t}\n\t\t\t\t\tnewValue = date\n\t\t\t\t} else {\n\t\t\t\t\tconst detected = detectValueType(editValue)\n\t\t\t\t\tnewValue = detected.value\n\t\t\t\t}\n\t\t\t\tonSave(newValue)\n\t\t\t} catch {\n\t\t\t\tonCancel()\n\t\t\t}\n\t\t} else if (e.key === \"Escape\") {\n\t\t\te.preventDefault()\n\t\t\te.stopPropagation()\n\t\t\te.stopImmediatePropagation()\n\t\t\tonCancel()\n\t\t}\n\t}\n\n\treturn (\n\t\t<input\n\t\t\tref={refInput}\n\t\t\ttype={value instanceof Date ? \"datetime-local\" : \"text\"}\n\t\t\tclassName=\"react-devtool-input flex-1 font-text\"\n\t\t\tvalue={editValue}\n\t\t\tonChange={handleChange}\n\t\t\tonKeyDown={handleKeyDown}\n\t\t\tonBlur={onCancel}\n\t\t\tstep={value instanceof Date ? 1 : undefined}\n\t\t/>\n\t)\n}\n\nconst PropertyElement = ({\n\tname,\n\tvalue,\n\tlevel,\n\tparentPath,\n\tallowEditing = true,\n\tonSave,\n}: PropertyElementProps) => {\n\tconst refElement = useRef<HTMLDivElement>(null)\n\n\tconst currentPath = parentPath ? `${parentPath}.${name}` : name\n\tconst [isExpanded, setIsExpanded] = useState(\n\t\tglobalInspectorState.expandedPaths.has(currentPath),\n\t)\n\tconst [isEditing, setIsEditing] = useState(false)\n\n\tconst prevValue = globalInspectorState.lastRendered.get(currentPath)\n\tconst isChanged = !isEqual(prevValue, value)\n\n\tuseEffect(() => {\n\t\tif (name === \"children\") {\n\t\t\treturn\n\t\t}\n\n\t\tconst isFirstRender = !globalInspectorState.lastRendered.has(currentPath)\n\t\tconst shouldFlash = isChanged && refElement.current && !isFirstRender\n\n\t\tglobalInspectorState.lastRendered.set(currentPath, value)\n\n\t\tif (shouldFlash && refElement.current && level === 0) {\n\t\t\tflashManager.create(refElement.current)\n\t\t}\n\t}, [value, isChanged, currentPath, level, name])\n\n\tconst handleToggleExpand = useCallback(() => {\n\t\tsetIsExpanded((prevState: boolean) => {\n\t\t\tconst newIsExpanded = !prevState\n\t\t\tif (newIsExpanded) {\n\t\t\t\tglobalInspectorState.expandedPaths.add(currentPath)\n\t\t\t} else {\n\t\t\t\tglobalInspectorState.expandedPaths.delete(currentPath)\n\t\t\t}\n\t\t\treturn newIsExpanded\n\t\t})\n\t}, [currentPath])\n\n\tconst valuePreview = useMemo(() => {\n\t\tif (typeof value === \"object\" && value !== null) {\n\t\t\tif (\"displayValue\" in value) {\n\t\t\t\treturn String(value.displayValue)\n\t\t\t}\n\t\t}\n\t\treturn formatValue(value)\n\t}, [value])\n\n\tconst clipboardText = useMemo(() => {\n\t\tif (typeof value === \"object\" && value !== null) {\n\t\t\tif (\"value\" in value) {\n\t\t\t\treturn String(formatForClipboard(value.value))\n\t\t\t}\n\t\t\tif (\"displayValue\" in value) {\n\t\t\t\treturn String(value.displayValue)\n\t\t\t}\n\t\t}\n\t\treturn String(formatForClipboard(value))\n\t}, [value])\n\n\tconst isExpandableValue = useMemo(() => {\n\t\tif (!value || typeof value !== \"object\") return false\n\n\t\tif (\"type\" in value) {\n\t\t\tconst metadata = value as ValueMetadata\n\t\t\tswitch (metadata.type) {\n\t\t\t\tcase \"array\":\n\t\t\t\tcase \"Map\":\n\t\t\t\tcase \"Set\":\n\t\t\t\t\treturn (metadata.size ?? metadata.length ?? 0) > 0\n\t\t\t\tcase \"object\":\n\t\t\t\t\treturn (metadata.size ?? 0) > 0\n\t\t\t\tcase \"ArrayBuffer\":\n\t\t\t\tcase \"DataView\":\n\t\t\t\t\treturn (metadata.byteLength ?? 0) > 0\n\t\t\t\tcase \"circular\":\n\t\t\t\tcase \"promise\":\n\t\t\t\tcase \"function\":\n\t\t\t\tcase \"error\":\n\t\t\t\t\treturn false\n\t\t\t\tdefault:\n\t\t\t\t\tif (\"entries\" in metadata || \"items\" in metadata) {\n\t\t\t\t\t\treturn true\n\t\t\t\t\t}\n\t\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\n\t\treturn isExpandable(value)\n\t}, [value])\n\n\tconst canEdit = useMemo(() => {\n\t\tif (!allowEditing) return false\n\t\treturn true\n\t}, [allowEditing])\n\n\tconst handleEdit = useCallback(() => {\n\t\tif (canEdit) {\n\t\t\tsetIsEditing(true)\n\t\t}\n\t}, [canEdit])\n\n\tconst handleSave = (newValue: unknown) => {\n\t\tconst path = currentPath.split(\".\")\n\t\tonSave(path, newValue)\n\t\tsetIsEditing(false)\n\t}\n\n\tconst checkCircularInValue = useMemo((): boolean => {\n\t\tif (!value || typeof value !== \"object\" || isPromise(value)) return false\n\n\t\treturn \"type\" in value && value.type === \"circular\"\n\t}, [value])\n\n\tconst renderNestedProperties = useCallback(\n\t\t(obj: unknown): preact.ComponentChildren => {\n\t\t\tif (!obj || typeof obj !== \"object\") return null\n\n\t\t\tif (\"type\" in obj) {\n\t\t\t\tconst metadata = obj as ValueMetadata\n\t\t\t\tif (\"entries\" in metadata && metadata.entries) {\n\t\t\t\t\tconst entries = Object.entries(metadata.entries)\n\t\t\t\t\tif (entries.length === 0) return null\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"react-devtool-nested\">\n\t\t\t\t\t\t\t{entries.map(([key, val]) => (\n\t\t\t\t\t\t\t\t<PropertyElement\n\t\t\t\t\t\t\t\t\tkey={`${currentPath}-entry-${key}`}\n\t\t\t\t\t\t\t\t\tname={key}\n\t\t\t\t\t\t\t\t\tvalue={val}\n\t\t\t\t\t\t\t\t\tlevel={level + 1}\n\t\t\t\t\t\t\t\t\tparentPath={currentPath}\n\t\t\t\t\t\t\t\t\tallowEditing={allowEditing}\n\t\t\t\t\t\t\t\t\tonSave={onSave}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\tif (\"items\" in metadata && Array.isArray(metadata.items)) {\n\t\t\t\t\tif (metadata.items.length === 0) return null\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"react-devtool-nested\">\n\t\t\t\t\t\t\t{metadata.items.map((item, i) => {\n\t\t\t\t\t\t\t\tconst itemKey = `${currentPath}-item-${item.type}-${i}`\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<PropertyElement\n\t\t\t\t\t\t\t\t\t\tkey={itemKey}\n\t\t\t\t\t\t\t\t\t\tname={`${i}`}\n\t\t\t\t\t\t\t\t\t\tvalue={item}\n\t\t\t\t\t\t\t\t\t\tlevel={level + 1}\n\t\t\t\t\t\t\t\t\t\tparentPath={currentPath}\n\t\t\t\t\t\t\t\t\t\tallowEditing={allowEditing}\n\t\t\t\t\t\t\t\t\t\tonSave={onSave}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\treturn null\n\t\t\t}\n\n\t\t\tlet entries: Array<[key: string | number, value: unknown]>\n\n\t\t\tif (obj instanceof ArrayBuffer) {\n\t\t\t\tconst view = new Uint8Array(obj)\n\t\t\t\tentries = Array.from(view).map((v, i) => [i, v])\n\t\t\t} else if (obj instanceof DataView) {\n\t\t\t\tconst view = new Uint8Array(obj.buffer, obj.byteOffset, obj.byteLength)\n\t\t\t\tentries = Array.from(view).map((v, i) => [i, v])\n\t\t\t} else if (ArrayBuffer.isView(obj)) {\n\t\t\t\tif (obj instanceof BigInt64Array || obj instanceof BigUint64Array) {\n\t\t\t\t\tentries = Array.from({ length: obj.length }, (_, i) => [i, obj[i]])\n\t\t\t\t} else {\n\t\t\t\t\tconst typedArray = obj as unknown as ArrayLike<number>\n\t\t\t\t\tentries = Array.from(typedArray).map((v, i) => [i, v])\n\t\t\t\t}\n\t\t\t} else if (obj instanceof Map) {\n\t\t\t\tentries = Array.from(obj.entries()).map(([k, v]) => [String(k), v])\n\t\t\t} else if (obj instanceof Set) {\n\t\t\t\tentries = Array.from(obj).map((v, i) => [i, v])\n\t\t\t} else if (Array.isArray(obj)) {\n\t\t\t\tentries = obj.map((value, index) => [`${index}`, value])\n\t\t\t} else {\n\t\t\t\tentries = Object.entries(obj)\n\t\t\t}\n\n\t\t\tif (entries.length === 0) return null\n\n\t\t\tconst canEditChildren = !(\n\t\t\t\tobj instanceof DataView ||\n\t\t\t\tobj instanceof ArrayBuffer ||\n\t\t\t\tArrayBuffer.isView(obj)\n\t\t\t)\n\n\t\t\treturn (\n\t\t\t\t<div className=\"react-devtool-nested\">\n\t\t\t\t\t{entries.map(([key, val]) => {\n\t\t\t\t\t\tconst itemKey = `${currentPath}-${typeof key === \"number\" ? `item-${key}` : key}`\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<PropertyElement\n\t\t\t\t\t\t\t\tkey={itemKey}\n\t\t\t\t\t\t\t\tname={String(key)}\n\t\t\t\t\t\t\t\tvalue={val}\n\t\t\t\t\t\t\t\tlevel={level + 1}\n\t\t\t\t\t\t\t\tparentPath={currentPath}\n\t\t\t\t\t\t\t\tallowEditing={canEditChildren}\n\t\t\t\t\t\t\t\tonSave={onSave}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t)\n\t\t},\n\t\t[level, currentPath, allowEditing, onSave],\n\t)\n\n\tif (checkCircularInValue) {\n\t\treturn (\n\t\t\t<div className=\"react-devtool-property\">\n\t\t\t\t<div className=\"react-devtool-property-content\">\n\t\t\t\t\t<div className=\"react-devtool-preview-line\">\n\t\t\t\t\t\t<div className=\"react-devtool-key\">{name}:</div>\n\t\t\t\t\t\t<span className=\"text-yellow-500\">[Circular Reference]</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn (\n\t\t<div ref={refElement} className=\"react-devtool-property\">\n\t\t\t<div className=\"react-devtool-property-content\">\n\t\t\t\t{isExpandableValue && (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleToggleExpand}\n\t\t\t\t\t\tclassName=\"react-devtool-arrow\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tname=\"icon-chevron-right\"\n\t\t\t\t\t\t\tsize={12}\n\t\t\t\t\t\t\tclassName={cn(isExpanded && \"rotate-90\")}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\n\t\t\t\t<div\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"group\",\n\t\t\t\t\t\t\"react-devtool-preview-line\",\n\t\t\t\t\t\tisChanged && \"react-devtool-highlight\",\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"react-devtool-key !text-white z-[99999] font-display\">\n\t\t\t\t\t\t{name}:\n\t\t\t\t\t</div>\n\t\t\t\t\t{isEditing && isEditableValue(value, parentPath) ? (\n\t\t\t\t\t\t<EditableValue\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\tonSave={handleSave}\n\t\t\t\t\t\t\tonCancel={() => setIsEditing(false)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : typeof value === \"boolean\" && canEdit ? (\n\t\t\t\t\t\t<div className=\"react-devtool-toggle\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\tchecked={value}\n\t\t\t\t\t\t\t\tonChange={(e) => handleSave(e.currentTarget.checked)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<button type=\"button\" className=\"truncate\" onClick={handleEdit}>\n\t\t\t\t\t\t\t{valuePreview}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t\t<CopyToClipboard\n\t\t\t\t\t\ttext={clipboardText}\n\t\t\t\t\t\tclassName=\"opacity-0 transition-opacity group-hover:opacity-100\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{({ ClipboardIcon }) => <>{ClipboardIcon}</>}\n\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"react-devtool-expandable\",\n\t\t\t\t\t\tisExpanded && \"react-devtool-expanded\",\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{isExpandableValue && isExpanded && (\n\t\t\t\t\t\t<div className=\"react-devtool-nested\">\n\t\t\t\t\t\t\t{renderNestedProperties(value)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport const PropertySection = ({\n\trefSticky,\n\tisSticky,\n\tname,\n\tdata,\n}: PropertySectionProps) => {\n\tconst refStickyElement = useRef<HTMLElement | null>(null)\n\tconst [isExpanded, setIsExpanded] = useState(true)\n\n\tconst refs = useMergedRefs(refStickyElement, refSticky)\n\n\tconst currentData = data.value\n\n\tconst handleSave = useCallback(\n\t\t(path: string[], value: unknown) => {\n\t\t\tconst newData = updateNestedValue(data.value, path, value)\n\t\t\tif (typeof newData === \"object\" && newData !== null) {\n\t\t\t\tdata.value = { ...(newData as object) }\n\t\t\t}\n\t\t},\n\t\t[data],\n\t)\n\n\tconst toggleExpanded = useCallback(() => {\n\t\tsetIsExpanded((state) => {\n\t\t\tif (isSticky && isExpanded) {\n\t\t\t\treturn state\n\t\t\t}\n\t\t\treturn !state\n\t\t})\n\t}, [isExpanded, isSticky])\n\n\tif (\n\t\t!currentData ||\n\t\t(Array.isArray(currentData)\n\t\t\t? currentData.length === 0\n\t\t\t: Object.keys(currentData).length === 0)\n\t) {\n\t\treturn null\n\t}\n\n\tconst propertyCount = Array.isArray(currentData)\n\t\t? currentData.length\n\t\t: Object.keys(currentData).length\n\n\treturn (\n\t\t<>\n\t\t\t<button\n\t\t\t\tref={refs}\n\t\t\t\ttype=\"button\"\n\t\t\t\tonClick={toggleExpanded}\n\t\t\t\tdata-sticky\n\t\t\t\tclassName=\"react-section-header\"\n\t\t\t>\n\t\t\t\t<div className=\"w-4 h-4 flex items-center justify-center\">\n\t\t\t\t\t<Icon\n\t\t\t\t\t\tname=\"icon-chevron-right\"\n\t\t\t\t\t\tsize={12}\n\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\tisExpanded && \"rotate-90\",\n\t\t\t\t\t\t\tisSticky && isExpanded && \"rotate-0\",\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<span className=\"capitalize\">\n\t\t\t\t\t{name} {!isExpanded && propertyCount > 0 && `(${propertyCount})`}\n\t\t\t\t</span>\n\t\t\t</button>\n\t\t\t<div className=\"react-devtool-section\">\n\t\t\t\t<div\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"react-devtool-expandable\",\n\t\t\t\t\t\tisExpanded && \"react-devtool-expanded\",\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"overflow-hidden\">\n\t\t\t\t\t\t{Array.isArray(currentData)\n\t\t\t\t\t\t\t? currentData.map(({ name, value }) => (\n\t\t\t\t\t\t\t\t\t<PropertyElement\n\t\t\t\t\t\t\t\t\t\tkey={name}\n\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\tlevel={0}\n\t\t\t\t\t\t\t\t\t\tonSave={handleSave}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t: Object.entries(currentData).map(([key, value]) => (\n\t\t\t\t\t\t\t\t\t<PropertyElement\n\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\tname={key}\n\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\tlevel={0}\n\t\t\t\t\t\t\t\t\t\tonSave={handleSave}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\n// React-compatible API for rendering PropertySection\nexport function createPropertyRenderer() {\n\treturn {\n\t\trenderToDOM: (\n\t\t\tcontainer: HTMLElement,\n\t\t\tprops: {\n\t\t\t\tname: string\n\t\t\t\tdata: Signal<Record<string, unknown>>\n\t\t\t\trefSticky?:\n\t\t\t\t\t| ReturnType<typeof useMergedRefs<HTMLElement>>\n\t\t\t\t\t| ((node: HTMLElement | null) => void)\n\t\t\t\tisSticky?: boolean\n\t\t\t},\n\t\t) => {\n\t\t\trender(h(PropertySection, props), container)\n\t\t},\n\t\tunmount: (container: HTMLElement) => {\n\t\t\trender(null, container)\n\t\t},\n\t}\n}\n\n// Example of how to use it with a mock signal\nexport const PropertiesView = () => {\n\tconst mockSignal = useMemo(\n\t\t() =>\n\t\t\tsignal({\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: \"button primary\",\n\t\t\t\t\tonClick: () => {},\n\t\t\t\t\tdisabled: false,\n\t\t\t\t\tchildren: \"Click me\",\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tbackgroundColor: \"#007bff\",\n\t\t\t\t\t\tpadding: \"10px 20px\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tstate: {\n\t\t\t\t\tisLoading: false,\n\t\t\t\t\tcount: 42,\n\t\t\t\t\titems: [\"item1\", \"item2\", \"item3\"],\n\t\t\t\t\tformData: {\n\t\t\t\t\t\tusername: \"testUser\",\n\t\t\t\t\t\temail: \"test@example.com\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tcontext: {\n\t\t\t\t\ttheme: \"dark\",\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tid: 1,\n\t\t\t\t\t\tname: \"John Doe\",\n\t\t\t\t\t\trole: \"admin\",\n\t\t\t\t\t},\n\t\t\t\t\tsettings: {\n\t\t\t\t\t\tnotifications: true,\n\t\t\t\t\t\tlanguage: \"en\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}),\n\t\t[],\n\t)\n\n\tconst propsData = useMemo(() => signal(mockSignal.value.props), [mockSignal])\n\n\tconst stateData = useMemo(() => signal(mockSignal.value.state), [mockSignal])\n\n\tconst contextData = useMemo(\n\t\t() => signal(mockSignal.value.context),\n\t\t[mockSignal],\n\t)\n\n\tuseEffect(() => {\n\t\tmockSignal.subscribe((value) => {\n\t\t\tpropsData.value = value.props\n\t\t\tstateData.value = value.state\n\t\t\tcontextData.value = value.context\n\t\t})\n\t}, [mockSignal, propsData, stateData, contextData])\n\n\treturn (\n\t\t<div className=\"react-devtool-properties\">\n\t\t\t<PropertySection name=\"Flags\" data={propsData} />\n\t\t\t<PropertySection name=\"State\" data={stateData} />\n\t\t\t<PropertySection name=\"Context\" data={contextData} />\n\t\t</div>\n\t)\n}\n","import { type ReactNode, forwardRef } from \"preact/compat\"\nimport { useCallback, useEffect, useRef, useState } from \"preact/hooks\"\nimport { cn } from \"~web/utils/helpers\"\nimport { signalWidgetViews, userChildren } from \"~web/state\"\nimport { Logo } from \"~web/components/logo\"\nimport { Icon } from \"~web/components/icon\"\nimport {\n\tonCLS,\n\tonINP,\n\tonFCP,\n\tonLCP,\n\tonTTFB,\n\ttype CLSMetric,\n\ttype INPMetric,\n\ttype FCPMetric,\n\ttype LCPMetric,\n\ttype TTFBMetric,\n} from \"web-vitals\"\nimport { PropertiesView } from \"../inspector/properties\"\n\nconst MainViewHeader = () => {\n\treturn (\n\t\t<div className={cn([\"w-full flex border-b border-[#27272A] min-h-[48px]\"])}>\n\t\t\t<div\n\t\t\t\tclassName={cn([\n\t\t\t\t\t\"min-w-fit w-full justify-start flex items-center pl-5 pr-2 text-sm gap-x-4\",\n\t\t\t\t])}\n\t\t\t>\n\t\t\t\t<div className=\"flex items-center gap-x-2\">\n\t\t\t\t\t<Logo className=\"text-sm me-0 w-4 h-4 text-brand-dark flex origin-center transition-all ease-in-out\" />\n\t\t\t\t\t<span className=\"font-medium font-display text-white\">\n\t\t\t\t\t\tReact Devtool\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div className={cn([\"flex items-center gap-x-2 justify-end ml-auto\"])}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={cn([\n\t\t\t\t\t\t\t\"p-2 flex justify-center items-center border-[#27272A]\",\n\t\t\t\t\t\t])}\n\t\t\t\t\t>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsignalWidgetViews.value = {\n\t\t\t\t\t\t\t\t\tview: \"none\",\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Close\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon name=\"icon-close\" size={18} className=\"text-[#6F6F78]\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\n// Mock data for tabs, this will be replaced with plugins and children\nconst TABS = [\n\t{ id: \"app\", title: \"App\" },\n\t{ id: \"layout-shifts\", title: \"Layout Shifts\" },\n\t{ id: \"open-graph\", title: \"Open Graph\" },\n\t// { id: \"router\", title: \"Router\" },\n\t// { id: \"feature-flags\", title: \"Feature Flags\" },\n]\n\nconst ResizablePanel = ({\n\tleftPanel,\n\trightPanel,\n\tshowLeftPanel,\n}: {\n\tleftPanel: ReactNode\n\trightPanel: ReactNode\n\tshowLeftPanel: boolean\n}) => {\n\tconst refSidebar = useRef<HTMLDivElement>(null)\n\tconst refIsResizing = useRef(false)\n\tconst [sidebarWidth, setSidebarWidth] = useState(150)\n\n\tconst handleResize = useCallback((e: PointerEvent) => {\n\t\te.preventDefault()\n\t\te.stopPropagation()\n\n\t\tif (!refSidebar.current) return\n\n\t\trefIsResizing.current = true\n\t\trefSidebar.current.style.pointerEvents = \"none\"\n\t\tdocument.body.style.cursor = \"col-resize\"\n\n\t\tconst startWidth = refSidebar.current.offsetWidth\n\t\tconst startX = e.clientX\n\t\tconst maxSidebarWidth = window.innerWidth * 0.8 // 80% of window width\n\n\t\tconst handlePointerMove = (e: PointerEvent) => {\n\t\t\tif (!refIsResizing.current) return\n\t\t\tconst newWidth = startWidth + e.clientX - startX\n\t\t\tif (newWidth > 150 && newWidth < maxSidebarWidth) {\n\t\t\t\tsetSidebarWidth(newWidth)\n\t\t\t}\n\t\t}\n\n\t\tconst handlePointerUp = () => {\n\t\t\trefIsResizing.current = false\n\t\t\tif (refSidebar.current) {\n\t\t\t\trefSidebar.current.style.pointerEvents = \"auto\"\n\t\t\t}\n\t\t\tdocument.body.style.cursor = \"auto\"\n\t\t\tdocument.removeEventListener(\"pointermove\", handlePointerMove)\n\t\t\tdocument.removeEventListener(\"pointerup\", handlePointerUp)\n\t\t}\n\n\t\tdocument.addEventListener(\"pointermove\", handlePointerMove)\n\t\tdocument.addEventListener(\"pointerup\", handlePointerUp)\n\t}, [])\n\n\tconst rightPanelId = \"main-content-panel\"\n\n\treturn (\n\t\t<div className=\"flex h-full w-full\">\n\t\t\t{showLeftPanel && (\n\t\t\t\t<>\n\t\t\t\t\t<div\n\t\t\t\t\t\tref={refSidebar}\n\t\t\t\t\t\tclassName=\"h-full\"\n\t\t\t\t\t\tstyle={{ width: `${sidebarWidth}px` }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{leftPanel}\n\t\t\t\t\t</div>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonPointerDown={handleResize}\n\t\t\t\t\t\taria-label=\"Resize sidebar\"\n\t\t\t\t\t\tclassName=\"group w-2 !cursor-col-resize flex items-center justify-center bg-transparent\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"w-[3px] h-8 bg-neutral-700 rounded-full group-hover:bg-brand-dark transition-colors\" />\n\t\t\t\t\t</button>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t<div id={rightPanelId} className=\"flex-1 h-full overflow-y-scroll\">\n\t\t\t\t{rightPanel}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nconst ReactContentRenderer = () => {\n\tconst refContainer = useRef<HTMLDivElement>(null)\n\t// biome-ignore lint/suspicious/noExplicitAny: Root will be dynamically imported\n\tconst refRoot = useRef<any | null>(null)\n\t// Add a reference for the current state of userChildren\n\tconst [, forceUpdate] = useState({})\n\n\tuseEffect(() => {\n\t\tconst container = refContainer.current\n\t\tif (!container) return\n\n\t\tlet unmounted = false\n\t\t// biome-ignore lint/suspicious/noExplicitAny: <explanation>\n\t\tlet createRootPromise: Promise<any> | null = null\n\n\t\tconst renderReactContent = (children: React.ReactNode) => {\n\t\t\tif (!createRootPromise) {\n\t\t\t\tcreateRootPromise = import(\"react-dom/client\").catch((err) => {\n\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t\"react-devtool: Failed to import 'react-dom/client'. If you are passing React children to <Devtool>, please ensure 'react-dom' is installed.\",\n\t\t\t\t\t\terr,\n\t\t\t\t\t)\n\t\t\t\t\tif (container && !unmounted) {\n\t\t\t\t\t\tcontainer.innerHTML = `<div style=\"color: #f87171; padding: 1rem; font-family: sans-serif;\"><strong>Devtool Error</strong><br/>Could not render content because <code>react-dom</code> is not installed.</div>`\n\t\t\t\t\t}\n\t\t\t\t\treturn null\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tcreateRootPromise.then((ReactDOMClient) => {\n\t\t\t\tif (unmounted || !ReactDOMClient) return\n\n\t\t\t\tif (!refRoot.current) {\n\t\t\t\t\trefRoot.current = ReactDOMClient.createRoot(container)\n\t\t\t\t}\n\t\t\t\trefRoot.current.render(children || null)\n\t\t\t})\n\t\t}\n\n\t\tconst unsubscribe = userChildren.subscribe(renderReactContent)\n\n\t\t// Initial render\n\t\tif (userChildren.value) {\n\t\t\trenderReactContent(userChildren.value)\n\t\t}\n\n\t\treturn () => {\n\t\t\tunmounted = true\n\t\t\tunsubscribe()\n\t\t\tif (refRoot.current) {\n\t\t\t\trefRoot.current.unmount()\n\t\t\t\trefRoot.current = null\n\t\t\t}\n\t\t}\n\t}, [])\n\n\treturn <div ref={refContainer} className=\"h-full w-full\" />\n}\n\nconst TabSidebar = ({\n\tselectedTab,\n\tonSelectTab,\n}: {\n\tselectedTab: string\n\tonSelectTab: (tabId: string) => void\n}) => {\n\tconst handleTabClick = (tabId: string) => {\n\t\tdocument.startViewTransition(() => {\n\t\t\tonSelectTab(tabId)\n\t\t})\n\t}\n\n\treturn (\n\t\t<div className=\"flex flex-col h-full bg-[#1e1e1e] p-2 gap-1 font-text\">\n\t\t\t{TABS.map((tab) => (\n\t\t\t\t<button\n\t\t\t\t\tkey={tab.id}\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={() => handleTabClick(tab.id)}\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"p-2 rounded text-left text-sm transition-colors w-full truncate\",\n\t\t\t\t\t\tselectedTab === tab.id\n\t\t\t\t\t\t\t? \"bg-brand-dark text-white\"\n\t\t\t\t\t\t\t: \"text-gray-300 hover:bg-gray-700 hover:text-white\",\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{tab.title}\n\t\t\t\t</button>\n\t\t\t))}\n\t\t</div>\n\t)\n}\n\n// Layout Shifts Hook\nconst useLayoutShifts = () => {\n\tconst [vitals, setVitals] = useState({\n\t\tcls: 0,\n\t\tinp: 0,\n\t\tfcp: 0,\n\t\tlcp: 0,\n\t\tttfb: 0,\n\t})\n\tconst [shifts, setShifts] = useState<\n\t\tArray<{\n\t\t\tvalue: number\n\t\t\tentries: Array<{\n\t\t\t\tname: string\n\t\t\t\tstartTime: number\n\t\t\t\tvalue: number\n\t\t\t}>\n\t\t\ttimestamp: number\n\t\t\tid: string\n\t\t}>\n\t>([])\n\n\tuseEffect(() => {\n\t\tonCLS((metric) => {\n\t\t\tsetVitals((prev) => ({ ...prev, cls: metric.value }))\n\t\t\tsetShifts((prev) => [\n\t\t\t\t...prev,\n\t\t\t\t{\n\t\t\t\t\tvalue: metric.value,\n\t\t\t\t\tentries: metric.entries.map((entry: any) => ({\n\t\t\t\t\t\tname: entry.name || \"Unknown\",\n\t\t\t\t\t\tstartTime: entry.startTime,\n\t\t\t\t\t\tvalue: entry.value,\n\t\t\t\t\t})),\n\t\t\t\t\ttimestamp: Date.now(),\n\t\t\t\t\tid: metric.id,\n\t\t\t\t},\n\t\t\t])\n\t\t})\n\n\t\tonINP((metric) => {\n\t\t\tsetVitals((prev) => ({ ...prev, inp: metric.value }))\n\t\t})\n\n\t\tonFCP((metric) => {\n\t\t\tsetVitals((prev) => ({ ...prev, fcp: metric.value }))\n\t\t})\n\n\t\tonLCP((metric) => {\n\t\t\tsetVitals((prev) => ({ ...prev, lcp: metric.value }))\n\t\t})\n\n\t\tonTTFB((metric) => {\n\t\t\tsetVitals((prev) => ({ ...prev, ttfb: metric.value }))\n\t\t})\n\t}, [])\n\n\treturn { vitals, shifts }\n}\n\n// Open Graph Hook\nconst useOpenGraph = () => {\n\tconst [ogData, setOgData] = useState<Record<string, string>>({})\n\tconst [twitterData, setTwitterData] = useState<Record<string, string>>({})\n\n\tuseEffect(() => {\n\t\tconst extractMetaTags = () => {\n\t\t\tconst metaTags = document.querySelectorAll(\"meta\")\n\t\t\tconst og: Record<string, string> = {}\n\t\t\tconst twitter: Record<string, string> = {}\n\n\t\t\tmetaTags.forEach((tag) => {\n\t\t\t\tconst property =\n\t\t\t\t\ttag.getAttribute(\"property\") || tag.getAttribute(\"name\")\n\t\t\t\tconst content = tag.getAttribute(\"content\")\n\n\t\t\t\tif (property && content) {\n\t\t\t\t\tif (property.startsWith(\"og:\")) {\n\t\t\t\t\t\tog[property] = content\n\t\t\t\t\t} else if (property.startsWith(\"twitter:\")) {\n\t\t\t\t\t\ttwitter[property] = content\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t// Also get title and description from document\n\t\t\tog[\"title\"] = og[\"og:title\"] || document.title\n\t\t\tog[\"description\"] =\n\t\t\t\tog[\"og:description\"] ||\n\t\t\t\tdocument\n\t\t\t\t\t.querySelector('meta[name=\"description\"]')\n\t\t\t\t\t?.getAttribute(\"content\") ||\n\t\t\t\t\"\"\n\t\t\tog[\"url\"] = og[\"og:url\"] || window.location.href\n\n\t\t\tsetOgData(og)\n\t\t\tsetTwitterData(twitter)\n\t\t}\n\n\t\textractMetaTags()\n\n\t\t// Re-extract if the page changes (for SPAs)\n\t\tconst observer = new MutationObserver(extractMetaTags)\n\t\tobserver.observe(document.head, { childList: true, subtree: true })\n\n\t\treturn () => observer.disconnect()\n\t}, [])\n\n\treturn { ogData, twitterData }\n}\n\nconst TabContent = ({ selectedTab }: { selectedTab: string }) => {\n\tconst { vitals, shifts } = useLayoutShifts()\n\tconst { ogData, twitterData } = useOpenGraph()\n\n\tconst renderTabContent = () => {\n\t\tswitch (selectedTab) {\n\t\t\tcase \"layout-shifts\":\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"h-full w-full p-4 text-white space-y-8\"\n\t\t\t\t\t\tstyle={{ viewTransitionName: \"tab-content\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"space-y-6\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t<div className=\"w-1 h-6 bg-brand-dark rounded-full\"></div>\n\t\t\t\t\t\t\t\t<h2 className=\"text-xl font-display font-semibold text-white\">\n\t\t\t\t\t\t\t\t\tCore Web Vitals\n\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4\">\n\t\t\t\t\t\t\t\t<div className=\"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50 hover:border-yellow-400/30 transition-colors\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-2 h-2 bg-yellow-400 rounded-full\"></div>\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs font-medium text-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\tCLS\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"text-md font-mono font-bold text-yellow-400\">\n\t\t\t\t\t\t\t\t\t\t{vitals.cls.toFixed(2)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50 hover:border-blue-400/30 transition-colors\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-2 h-2 bg-blue-400 rounded-full\"></div>\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs font-medium text-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\tINP\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"text-md font-mono font-bold text-blue-400\">\n\t\t\t\t\t\t\t\t\t\t{vitals.inp.toFixed(0)}\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-gray-400 ml-1\">ms</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50 hover:border-green-400/30 transition-colors\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-2 h-2 bg-green-400 rounded-full\"></div>\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs font-medium text-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\tFCP\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"text-md font-mono font-bold text-green-400\">\n\t\t\t\t\t\t\t\t\t\t{vitals.fcp.toFixed(0)}\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-gray-400 ml-1\">ms</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50 hover:border-purple-400/30 transition-colors\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-2 h-2 bg-purple-400 rounded-full\"></div>\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs font-medium text-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\tLCP\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"text-md font-mono font-bold text-purple-400\">\n\t\t\t\t\t\t\t\t\t\t{vitals.lcp.toFixed(0)}\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-gray-400 ml-1\">ms</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50 hover:border-red-400/30 transition-colors\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-2 h-2 bg-red-400 rounded-full\"></div>\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs font-medium text-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\tTTFB\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"text-md font-mono font-bold text-red-400\">\n\t\t\t\t\t\t\t\t\t\t{vitals.ttfb.toFixed(0)}\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-gray-400 ml-1\">ms</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Layout Shift Events */}\n\t\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t<div className=\"w-1 h-6 bg-yellow-400 rounded-full\"></div>\n\t\t\t\t\t\t\t\t<h2 className=\"text-xl font-display font-semibold text-white\">\n\t\t\t\t\t\t\t\t\tLayout Shift Events\n\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t{shifts.length > 0 && (\n\t\t\t\t\t\t\t\t\t<span className=\"px-2 py-1 text-xs font-medium bg-yellow-400/10 text-yellow-400 rounded-full\">\n\t\t\t\t\t\t\t\t\t\t{shifts.length} events\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{shifts.length === 0 ? (\n\t\t\t\t\t\t\t\t<div className=\"bg-gray-800/30 rounded-xl p-8 border border-gray-700/30 text-center\">\n\t\t\t\t\t\t\t\t\t<div className=\"w-12 h-12 bg-green-400/10 rounded-full flex items-center justify-center mx-auto mb-3\">\n\t\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\t\tname=\"icon-close\"\n\t\t\t\t\t\t\t\t\t\t\tsize={20}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-green-400\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"text-gray-300 font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\tNo layout shifts detected\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"text-sm text-gray-400\">\n\t\t\t\t\t\t\t\t\t\tTry interacting with the page to trigger measurements\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t{shifts.map((shift) => (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tkey={shift.id}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"bg-gray-800/50 rounded-lg border border-gray-700/50 hover:border-yellow-400/30 transition-colors\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"p-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-between mb-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-2 h-2 bg-yellow-400 rounded-full\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-mono text-yellow-400 font-bold\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{shift.value.toFixed(4)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshift value\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-gray-400 font-mono\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(shift.timestamp).toLocaleTimeString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t{shift.entries.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{shift.entries.map((entry, entryIndex) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`${shift.id}-${entryIndex}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-2 text-sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-1 h-1 bg-gray-400 rounded-full\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500\"></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-mono text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.value.toFixed(4)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\n\t\t\tcase \"open-graph\":\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"h-full w-full p-6 text-white space-y-8\"\n\t\t\t\t\t\tstyle={{ viewTransitionName: \"tab-content\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* Link Preview */}\n\t\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t<div className=\"w-1 h-6 bg-brand-dark rounded-full\"></div>\n\t\t\t\t\t\t\t\t<h2 className=\"text-xl font-display font-semibold text-white\">\n\t\t\t\t\t\t\t\t\tSocial Media Preview\n\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"bg-gray-800/50 rounded-xl border border-gray-700/50 p-6 max-w-md\">\n\t\t\t\t\t\t\t\t<div className=\"text-xs text-gray-400 mb-3 uppercase tracking-wide font-medium\">\n\t\t\t\t\t\t\t\t\tLink Preview\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{ogData[\"og:image\"] && (\n\t\t\t\t\t\t\t\t\t<div className=\"mb-4 overflow-hidden rounded-lg\">\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tsrc={ogData[\"og:image\"]}\n\t\t\t\t\t\t\t\t\t\t\talt=\"Preview\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full h-40 object-cover\"\n\t\t\t\t\t\t\t\t\t\t\tonError={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\te.currentTarget.style.display = \"none\"\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t<h3 className=\"font-semibold text-white line-clamp-2 leading-snug\">\n\t\t\t\t\t\t\t\t\t\t{ogData[\"og:title\"] || ogData.title || \"No title\"}\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t<p className=\"text-gray-300 text-sm line-clamp-3 leading-relaxed\">\n\t\t\t\t\t\t\t\t\t\t{ogData[\"og:description\"] ||\n\t\t\t\t\t\t\t\t\t\t\togData.description ||\n\t\t\t\t\t\t\t\t\t\t\t\"No description\"}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 text-xs text-gray-400 pt-1\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-1 h-1 bg-gray-500 rounded-full\"></div>\n\t\t\t\t\t\t\t\t\t\t<span className=\"truncate\">\n\t\t\t\t\t\t\t\t\t\t\t{ogData[\"og:url\"] || ogData.url || window.location.href}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Open Graph Properties */}\n\t\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t<div className=\"w-1 h-6 bg-blue-400 rounded-full\"></div>\n\t\t\t\t\t\t\t\t<h2 className=\"text-xl font-display font-semibold text-white\">\n\t\t\t\t\t\t\t\t\tOpen Graph Properties\n\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t{Object.entries(ogData).length > 0 && (\n\t\t\t\t\t\t\t\t\t<span className=\"px-2 py-1 text-xs font-medium bg-blue-400/10 text-blue-400 rounded-full\">\n\t\t\t\t\t\t\t\t\t\t{Object.entries(ogData).length} properties\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{Object.entries(ogData).length === 0 ? (\n\t\t\t\t\t\t\t\t<div className=\"bg-gray-800/30 rounded-xl p-8 border border-gray-700/30 text-center\">\n\t\t\t\t\t\t\t\t\t<div className=\"w-12 h-12 bg-orange-400/10 rounded-full flex items-center justify-center mx-auto mb-3\">\n\t\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\t\tname=\"icon-close\"\n\t\t\t\t\t\t\t\t\t\t\tsize={20}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-orange-400\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"text-gray-300 font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\tNo Open Graph meta tags found\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"text-sm text-gray-400\">\n\t\t\t\t\t\t\t\t\t\tAdd og: meta tags to improve social media sharing\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"bg-gray-800/50 rounded-xl border border-gray-700/50\">\n\t\t\t\t\t\t\t\t\t<div className=\"p-4 space-y-3\">\n\t\t\t\t\t\t\t\t\t\t{Object.entries(ogData).map(([key, value]) => (\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex gap-4 py-2 border-b border-gray-700/30 last:border-b-0\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-mono text-sm text-blue-400 min-w-32 flex-shrink-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{key}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-sm text-gray-300 break-all\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{value}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Twitter Card Properties */}\n\t\t\t\t\t\t{Object.entries(twitterData).length > 0 && (\n\t\t\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"w-1 h-6 bg-green-400 rounded-full\"></div>\n\t\t\t\t\t\t\t\t\t<h2 className=\"text-xl font-display font-semibold text-white\">\n\t\t\t\t\t\t\t\t\t\tTwitter Card Properties\n\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t<span className=\"px-2 py-1 text-xs font-medium bg-green-400/10 text-green-400 rounded-full\">\n\t\t\t\t\t\t\t\t\t\t{Object.entries(twitterData).length} properties\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"bg-gray-800/50 rounded-xl border border-gray-700/50\">\n\t\t\t\t\t\t\t\t\t<div className=\"p-4 space-y-3\">\n\t\t\t\t\t\t\t\t\t\t{Object.entries(twitterData).map(([key, value]) => (\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex gap-4 py-2 border-b border-gray-700/30 last:border-b-0\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-mono text-sm text-green-400 min-w-32 flex-shrink-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{key}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-sm text-gray-300 break-all\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{value}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)\n\n\t\t\tcase \"router\":\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"h-full w-full p-4 text-white\"\n\t\t\t\t\t\tstyle={{ viewTransitionName: \"tab-content\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"p-4 border border-gray-600 rounded\">\n\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold mb-2\">Router</h3>\n\t\t\t\t\t\t\t<p className=\"text-gray-300\">\n\t\t\t\t\t\t\t\tRouter configuration and debugging tools will be available here.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\tcase \"feature-flags\":\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"h-full w-full p-4 text-white\"\n\t\t\t\t\t\tstyle={{ viewTransitionName: \"tab-content\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"p-4 border border-gray-600 rounded\">\n\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold mb-2\">Feature Flags</h3>\n\t\t\t\t\t\t\t<p className=\"text-gray-300\">\n\t\t\t\t\t\t\t\tFeature flag management and testing tools will be available\n\t\t\t\t\t\t\t\there.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"h-full w-full p-4 text-white flex items-center justify-center\"\n\t\t\t\t\t\tstyle={{ viewTransitionName: \"tab-content\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"text-gray-400\">Select a tab to view content</div>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"w-full font-text pb-18\">\n\t\t\t{/* Always render ReactContentRenderer but conditionally show it */}\n\t\t\t<div\n\t\t\t\tclassName={cn(\n\t\t\t\t\t\"h-full w-full p-4 text-white\",\n\t\t\t\t\tselectedTab === \"app\" ? \"block\" : \"hidden\",\n\t\t\t\t)}\n\t\t\t\tstyle={{\n\t\t\t\t\tviewTransitionName: selectedTab === \"app\" ? \"tab-content\" : undefined,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<ReactContentRenderer />\n\t\t\t</div>\n\n\t\t\t{/* Render other tab content only when not showing app */}\n\t\t\t{selectedTab !== \"app\" && renderTabContent()}\n\t\t</div>\n\t)\n}\n\nconst MainView = () => {\n\tconst [selectedTab, setSelectedTab] = useState(TABS[0].id)\n\tconst showTabs = TABS.length > 1\n\n\treturn (\n\t\t<div className=\"flex flex-col h-full w-full\">\n\t\t\t<MainViewHeader />\n\t\t\t<ResizablePanel\n\t\t\t\tshowLeftPanel={showTabs}\n\t\t\t\tleftPanel={\n\t\t\t\t\t<TabSidebar selectedTab={selectedTab} onSelectTab={setSelectedTab} />\n\t\t\t\t}\n\t\t\t\trightPanel={<TabContent selectedTab={selectedTab} />}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport const MainViewWrapper = forwardRef<HTMLDivElement>((_, ref) => {\n\treturn (\n\t\t<div ref={ref} className=\"h-full w-full bg-black\">\n\t\t\t<MainView />\n\t\t</div>\n\t)\n})\n","import {\n\ttype Attributes,\n\ttype Component,\n\ttype FunctionComponent,\n\tcreateElement,\n} from \"preact\"\n\nfunction CONSTANT_UPDATE() {\n\treturn false\n}\n\nexport function constant<P extends Attributes>(\n\tComponent: FunctionComponent<P>,\n) {\n\tfunction Memoed(this: Component<P>, props: P) {\n\t\tthis.shouldComponentUpdate = CONSTANT_UPDATE\n\t\treturn createElement<P>(Component, props)\n\t}\n\tMemoed.displayName = `Memo(${Component.displayName || Component.name})`\n\tMemoed.prototype.isReactComponent = true\n\tMemoed._forwarded = true\n\treturn Memoed\n}\n","import { useEffect, useState } from \"preact/hooks\"\nimport { getFPS } from \"~core/instrumentation\"\nimport { cn } from \"~web/utils/helpers\"\n\nconst FpsMeterInner = ({ fps }: { fps: number }) => {\n\tconst getColor = (fps: number) => {\n\t\tif (fps < 30) return \"#EF4444\"\n\t\tif (fps < 50) return \"#F59E0B\"\n\t\treturn \"rgb(214,132,245)\"\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\n\t\t\t\t\"flex items-center gap-x-1 px-2 w-full\",\n\t\t\t\t\"h-6\",\n\t\t\t\t\"rounded-md\",\n\t\t\t\t\"font-mono leading-none\",\n\t\t\t\t\"bg-[#141414]\",\n\t\t\t\t\"ring-1 ring-white/[0.08]\",\n\t\t\t)}\n\t\t>\n\t\t\t<div\n\t\t\t\tstyle={{ color: getColor(fps) }}\n\t\t\t\tclassName=\"text-sm font-semibold tracking-wide transition-colors ease-in-out w-full flex justify-center items-center\"\n\t\t\t>\n\t\t\t\t{fps}\n\t\t\t</div>\n\t\t\t<span className=\"text-white/30 text-[11px] font-medium tracking-wide ml-auto min-w-fit\">\n\t\t\t\tFPS\n\t\t\t</span>\n\t\t</div>\n\t)\n}\n\nexport const FPSMeter = () => {\n\tconst [fps, setFps] = useState<null | number>(null)\n\n\tuseEffect(() => {\n\t\tconst intervalId = setInterval(() => {\n\t\t\tsetFps(getFPS())\n\t\t}, 200)\n\n\t\treturn () => clearInterval(intervalId)\n\t}, [])\n\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\n\t\t\t\t\"flex items-center justify-end gap-x-2 px-1 ml-1 w-[72px]\",\n\t\t\t\t\"whitespace-nowrap text-sm text-white\",\n\t\t\t)}\n\t\t>\n\t\t\t{/* fixme: default fps state*/}\n\t\t\t{fps === null ? <></> : <FpsMeterInner fps={fps} />}\n\t\t</div>\n\t)\n}\n","import { useSignalEffect } from \"@preact/signals\"\nimport { useCallback } from \"preact/hooks\"\nimport { ReactDevtoolInternals, Store } from \"~core/index\"\nimport { Icon } from \"~web/components/icon\"\nimport { Logo } from \"~web/components/logo\"\nimport { signalWidgetViews } from \"~web/state\"\nimport { constant } from \"~web/utils/preact/constant\"\nimport { FPSMeter } from \"~web/widget/fps-meter\"\n\n// if (import.meta.env.DEV) {\n// \tsetTimeout(() => {\n// \t\tsignalWidgetViews.value = {\n// \t\t\tview: \"notifications\",\n// \t\t};\n// \t}, 300);\n// }\n\nexport const Toolbar = constant(() => {\n\tconst inspectState = Store.inspectState\n\tconst isInspectActive = inspectState.value.kind === \"inspecting\"\n\tconst isInspectFocused = inspectState.value.kind === \"focused\"\n\n\tconst onToggleInspect = useCallback(() => {\n\t\tconst currentState = Store.inspectState.value\n\n\t\tswitch (currentState.kind) {\n\t\t\tcase \"inspecting\": {\n\t\t\t\tsignalWidgetViews.value = {\n\t\t\t\t\tview: \"none\",\n\t\t\t\t}\n\t\t\t\tStore.inspectState.value = {\n\t\t\t\t\tkind: \"inspect-off\",\n\t\t\t\t}\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tcase \"focused\": {\n\t\t\t\tsignalWidgetViews.value = {\n\t\t\t\t\tview: \"inspector\",\n\t\t\t\t}\n\t\t\t\tStore.inspectState.value = {\n\t\t\t\t\tkind: \"inspecting\",\n\t\t\t\t\thoveredDomElement: null,\n\t\t\t\t}\n\t\t\t\treturn\n\t\t\t}\n\t\t\t// todo: auto select the root fibers first stateNode, and tell the user to select the element\n\t\t\tcase \"inspect-off\": {\n\t\t\t\tsignalWidgetViews.value = {\n\t\t\t\t\tview: \"none\",\n\t\t\t\t}\n\t\t\t\tStore.inspectState.value = {\n\t\t\t\t\tkind: \"inspecting\",\n\t\t\t\t\thoveredDomElement: null,\n\t\t\t\t}\n\t\t\t\treturn\n\t\t\t}\n\t\t\tcase \"uninitialized\": {\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\t}, [])\n\n\t/* const onToggleActive = useCallback((e: Event) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tif (!ReactDevtoolInternals.instrumentation) {\n\t\t\treturn;\n\t\t}\n\t\t// todo: set a single source of truth\n\t\tconst isPaused = !ReactDevtoolInternals.instrumentation.isPaused.value;\n\t\tReactDevtoolInternals.instrumentation.isPaused.value = isPaused;\n\t\tconst existingLocalStorageOptions =\n\t\t\treadLocalStorage<LocalStorageOptions>(\"react-devtool-options\");\n\t\tsaveLocalStorage(\"react-devtool-options\", {\n\t\t\t...existingLocalStorageOptions,\n\t\t\tenabled: !isPaused,\n\t\t});\n\t}, []); */\n\n\tuseSignalEffect(() => {\n\t\tconst state = Store.inspectState.value\n\t\tif (state.kind === \"uninitialized\") {\n\t\t\tStore.inspectState.value = {\n\t\t\t\tkind: \"inspect-off\",\n\t\t\t}\n\t\t}\n\t})\n\n\tlet inspectIcon = null\n\tlet inspectColor = \"#999\"\n\n\tif (isInspectActive) {\n\t\tinspectIcon = <Icon name=\"icon-inspect\" />\n\t\tinspectColor = \"#8e61e3\"\n\t} else if (isInspectFocused) {\n\t\tinspectIcon = <Icon name=\"icon-focus\" />\n\t\tinspectColor = \"#8e61e3\"\n\t} else {\n\t\tinspectIcon = <Icon name=\"icon-inspect\" />\n\t\tinspectColor = \"#999\"\n\t}\n\treturn (\n\t\t<div className=\"flex max-h-9 min-h-9 flex-1 items-stretch overflow-hidden\">\n\t\t\t<div className=\"h-full flex items-center min-w-fit w-2\">\n\t\t\t\t<span />\n\t\t\t\t{/* <button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tid=\"react-devtool-inspect-element\"\n\t\t\t\t\ttitle=\"Inspect element\"\n\t\t\t\t\tonClick={onToggleInspect}\n\t\t\t\t\tclassName=\"button flex items-center justify-center h-full w-full pl-3 pr-2.5\"\n\t\t\t\t\tstyle={{ color: inspectColor }}\n\t\t\t\t>\n\t\t\t\t\t{inspectIcon}\n\t\t\t\t</button> */}\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\tonClick={() => {\n\t\t\t\t\tif (Store.inspectState.value.kind !== \"inspect-off\") {\n\t\t\t\t\t\tStore.inspectState.value = {\n\t\t\t\t\t\t\tkind: \"inspect-off\",\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tswitch (signalWidgetViews.value.view) {\n\t\t\t\t\t\tcase \"none\": {\n\t\t\t\t\t\t\tsignalWidgetViews.value = {\n\t\t\t\t\t\t\t\tview: \"notifications\",\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tclassName=\"flex items-center min-w-fit w-6 h-4 mt-2.5\"\n\t\t\t\tdata-testid=\"open-devtool\"\n\t\t\t>\n\t\t\t\t<Logo className=\"text-sm me-0 w-4 h-4 text-brand-dark flex origin-center transition-all ease-in-out\" />\n\t\t\t</button>\n\n\t\t\t{/* <Toggle\n\t\t\t\tchecked={!ReactDevtoolInternals.instrumentation?.isPaused.value}\n\t\t\t\tonChange={onToggleActive}\n\t\t\t\tclassName=\"place-self-center\"\n\t\t\t\ttitle=\"Outline Re-renders\"\n\t\t\t/> */}\n\n\t\t\t{/* todo add back showFPS*/}\n\t\t\t{ReactDevtoolInternals.options.value.showFPS && <FPSMeter />}\n\t\t</div>\n\t)\n})\n","import { type ReadonlySignal, computed } from \"@preact/signals\"\nimport type { ReactNode } from \"preact/compat\"\nimport { Store } from \"~core/index\"\nimport { signalWidgetViews } from \"~web/state\"\nimport { cn } from \"~web/utils/helpers\"\nimport { Header } from \"~web/widget/header\"\nimport { MainViewWrapper } from \"./main\"\nimport { Toolbar } from \"./toolbar\"\n\nconst isInspecting = computed(\n\t() => Store.inspectState.value.kind === \"inspecting\",\n)\n\nconst headerClassName = computed(() =>\n\tcn(\n\t\t\"relative\",\n\t\t\"flex-1\",\n\t\t\"flex flex-col\",\n\t\t\"rounded-t-lg\",\n\t\t\"overflow-hidden\",\n\t\t\"opacity-100\",\n\t\t\"transition-[opacity]\",\n\t\tisInspecting.value && \"opacity-0 duration-0 delay-0\",\n\t),\n)\n\nconst isNotificationsViewOpen = computed(\n\t() => signalWidgetViews.value.view === \"notifications\",\n)\n\nconst contentClassName = computed(() => {\n\treturn cn(\n\t\t\"flex flex-1 flex-col\",\n\t\t\"overflow-hidden z-10\",\n\t\t\"rounded-lg\",\n\t\t\"bg-wash-dark\",\n\t\t\"opacity-100\",\n\t\t\"transition-[border-radius]\",\n\t\t\"peer-hover/left:rounded-l-none\",\n\t\t\"peer-hover/right:rounded-r-none\",\n\t\t\"peer-hover/top:rounded-t-none\",\n\t\t\"peer-hover/bottom:rounded-b-none\",\n\t)\n})\n\nexport const Content = () => {\n\treturn (\n\t\t<div className={contentClassName}>\n\t\t\t<div className={headerClassName}>\n\t\t\t\t<Header />\n\t\t\t\t<div\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"relative\",\n\t\t\t\t\t\t\"flex-1 flex\",\n\t\t\t\t\t\t\"text-white\",\n\t\t\t\t\t\t\"bg-wash-dark\",\n\t\t\t\t\t\t\"transition-opacity delay-150\",\n\t\t\t\t\t\t\"overflow-hidden\",\n\t\t\t\t\t\t\"border-b border-[#222]\",\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<ContentView isOpen={isNotificationsViewOpen}>\n\t\t\t\t\t\t<MainViewWrapper />\n\t\t\t\t\t</ContentView>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Toolbar />\n\t\t</div>\n\t)\n}\n\ninterface ContentViewProps {\n\tisOpen: ReadonlySignal<boolean>\n\tchildren: ReactNode\n}\n\nconst ContentView = ({ isOpen, children }: ContentViewProps) => {\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\n\t\t\t\t\"flex-1\",\n\t\t\t\t\"opacity-0\",\n\t\t\t\t\"overflow-y-auto overflow-x-hidden\",\n\t\t\t\t\"transition-opacity delay-0\",\n\t\t\t\t\"pointer-events-none\",\n\t\t\t\tisOpen.value && \"opacity-100 delay-150 pointer-events-auto\",\n\t\t\t)}\n\t\t>\n\t\t\t<div className=\"absolute inset-0 flex\">{children}</div>\n\t\t</div>\n\t)\n}\n","export const lerp = (start: number, end: number, t: number) => {\n\treturn start + (end - start) * t\n}\n","import { type Fiber, getDisplayName } from \"bippy\"\nimport { useEffect, useRef } from \"preact/hooks\"\nimport { ReactDevtoolInternals, Store } from \"~core/index\"\n\nimport { signalIsSettingsOpen, signalWidgetViews } from \"~web/state\"\nimport { IS_CLIENT } from \"~web/utils/constants\"\nimport { cn, throttle } from \"~web/utils/helpers\"\nimport { lerp } from \"~web/utils/lerp\"\nimport {\n\ttype States,\n\tfindComponentDOMNode,\n\tgetAssociatedFiberRect,\n\tgetCompositeComponentFromElement,\n\tnonVisualTags,\n} from \"../utils\"\n\ntype DrawKind = \"locked\" | \"inspecting\"\n\ninterface Rect {\n\tleft: number\n\ttop: number\n\twidth: number\n\theight: number\n}\n\ninterface LockIconRect {\n\tx: number\n\ty: number\n\twidth: number\n\theight: number\n}\n\nconst ANIMATION_CONFIG = {\n\tframeInterval: 1000 / 60,\n\tspeeds: {\n\t\tfast: 0.51,\n\t\tslow: 0.1,\n\t\toff: 0,\n\t},\n} as const\n\nconst OVERLAY_DPR = IS_CLIENT ? /* @__PURE__ */ window.devicePixelRatio || 1 : 1\n\nexport const ScanOverlay = () => {\n\tconst refCanvas = useRef<HTMLCanvasElement>(null)\n\tconst refEventCatcher = useRef<HTMLDivElement>(null)\n\tconst refCurrentRect = useRef<Rect | null>(null)\n\tconst refCurrentLockIconRect = useRef<LockIconRect | null>(null)\n\tconst refLastHoveredElement = useRef<Element | null>(null)\n\tconst refRafId = useRef<number>(0)\n\tconst refTimeout = useRef<TTimer>()\n\tconst refCleanupMap = useRef(\n\t\tnew Map<States[\"kind\"] | \"fade-out\", () => void>(),\n\t)\n\tconst refIsFadingOut = useRef(false)\n\tconst refLastFrameTime = useRef<number>(0)\n\n\tconst drawLockIcon = (\n\t\tctx: CanvasRenderingContext2D,\n\t\tx: number,\n\t\ty: number,\n\t\tsize: number,\n\t) => {\n\t\tctx.save()\n\t\tctx.strokeStyle = \"white\"\n\t\tctx.fillStyle = \"white\"\n\t\tctx.lineWidth = 1.5\n\n\t\tconst shackleWidth = size * 0.6\n\t\tconst shackleHeight = size * 0.5\n\t\tconst shackleX = x + (size - shackleWidth) / 2\n\t\tconst shackleY = y\n\n\t\tctx.beginPath()\n\t\tctx.arc(\n\t\t\tshackleX + shackleWidth / 2,\n\t\t\tshackleY + shackleHeight / 2,\n\t\t\tshackleWidth / 2,\n\t\t\tMath.PI,\n\t\t\t0,\n\t\t\tfalse,\n\t\t)\n\t\tctx.stroke()\n\n\t\tconst bodyWidth = size * 0.8\n\t\tconst bodyHeight = size * 0.5\n\t\tconst bodyX = x + (size - bodyWidth) / 2\n\t\tconst bodyY = y + shackleHeight / 2\n\n\t\tctx.fillRect(bodyX, bodyY, bodyWidth, bodyHeight)\n\t\tctx.restore()\n\t}\n\n\tconst drawStatsPill = (\n\t\tctx: CanvasRenderingContext2D,\n\t\trect: Rect,\n\t\tkind: \"locked\" | \"inspecting\",\n\t\tfiber: Fiber | null,\n\t) => {\n\t\tif (!fiber) return\n\n\t\tconst pillHeight = 24\n\t\tconst pillPadding = 8\n\t\tconst componentName =\n\t\t\t(fiber?.type && getDisplayName(fiber.type)) ?? \"Unknown\"\n\t\tconst text = componentName\n\n\t\tctx.save()\n\t\tctx.font = \"12px system-ui, -apple-system, sans-serif\"\n\t\tconst textMetrics = ctx.measureText(text)\n\t\tconst textWidth = textMetrics.width\n\t\tconst lockIconSize = kind === \"locked\" ? 14 : 0\n\t\tconst lockIconPadding = kind === \"locked\" ? 6 : 0\n\t\tconst pillWidth =\n\t\t\ttextWidth + pillPadding * 2 + lockIconSize + lockIconPadding\n\n\t\tconst pillX = rect.left\n\t\tconst pillY = rect.top - pillHeight - 4\n\n\t\tctx.fillStyle = \"rgb(37, 37, 38, .75)\"\n\t\tctx.beginPath()\n\t\tctx.roundRect(pillX, pillY, pillWidth, pillHeight, 3)\n\t\tctx.fill()\n\n\t\tif (kind === \"locked\") {\n\t\t\tconst lockX = pillX + pillPadding\n\t\t\tconst lockY = pillY + (pillHeight - lockIconSize) / 2 + 2\n\t\t\tdrawLockIcon(ctx, lockX, lockY, lockIconSize)\n\t\t\trefCurrentLockIconRect.current = {\n\t\t\t\tx: lockX,\n\t\t\t\ty: lockY,\n\t\t\t\twidth: lockIconSize,\n\t\t\t\theight: lockIconSize,\n\t\t\t}\n\t\t} else {\n\t\t\trefCurrentLockIconRect.current = null\n\t\t}\n\n\t\tctx.fillStyle = \"white\"\n\t\tctx.textBaseline = \"middle\"\n\t\tconst textX =\n\t\t\tpillX +\n\t\t\tpillPadding +\n\t\t\t(kind === \"locked\" ? lockIconSize + lockIconPadding : 0)\n\t\tctx.fillText(text, textX, pillY + pillHeight / 2)\n\t\tctx.restore()\n\t}\n\n\tconst drawRect = (\n\t\tcanvas: HTMLCanvasElement,\n\t\tctx: CanvasRenderingContext2D,\n\t\tkind: DrawKind,\n\t\tfiber: Fiber | null,\n\t) => {\n\t\tif (!refCurrentRect.current) return\n\t\tconst rect = refCurrentRect.current\n\t\tctx.clearRect(0, 0, canvas.width, canvas.height)\n\n\t\tctx.strokeStyle = \"rgba(142, 97, 227, 0.5)\"\n\t\tctx.fillStyle = \"rgba(173, 97, 230, 0.10)\"\n\n\t\tif (kind === \"locked\") {\n\t\t\tctx.setLineDash([])\n\t\t} else {\n\t\t\tctx.setLineDash([4])\n\t\t}\n\n\t\tctx.lineWidth = 1\n\t\tctx.fillRect(rect.left, rect.top, rect.width, rect.height)\n\t\tctx.strokeRect(rect.left, rect.top, rect.width, rect.height)\n\n\t\tdrawStatsPill(ctx, rect, kind, fiber)\n\t}\n\n\tconst animate = (\n\t\tcanvas: HTMLCanvasElement,\n\t\tctx: CanvasRenderingContext2D,\n\t\ttargetRect: Rect,\n\t\tkind: DrawKind,\n\t\tparentCompositeFiber: Fiber,\n\t\tonComplete?: () => void,\n\t) => {\n\t\tconst speed = ReactDevtoolInternals.options.value\n\t\t\t.animationSpeed as keyof typeof ANIMATION_CONFIG.speeds\n\t\tconst t = ANIMATION_CONFIG.speeds[speed] ?? ANIMATION_CONFIG.speeds.off\n\n\t\tconst animationFrame = (timestamp: number) => {\n\t\t\tif (\n\t\t\t\ttimestamp - refLastFrameTime.current <\n\t\t\t\tANIMATION_CONFIG.frameInterval\n\t\t\t) {\n\t\t\t\trefRafId.current = requestAnimationFrame(animationFrame)\n\t\t\t\treturn\n\t\t\t}\n\t\t\trefLastFrameTime.current = timestamp\n\n\t\t\tif (!refCurrentRect.current) {\n\t\t\t\tcancelAnimationFrame(refRafId.current)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\trefCurrentRect.current = {\n\t\t\t\tleft: lerp(refCurrentRect.current.left, targetRect.left, t),\n\t\t\t\ttop: lerp(refCurrentRect.current.top, targetRect.top, t),\n\t\t\t\twidth: lerp(refCurrentRect.current.width, targetRect.width, t),\n\t\t\t\theight: lerp(refCurrentRect.current.height, targetRect.height, t),\n\t\t\t}\n\n\t\t\tdrawRect(canvas, ctx, kind, parentCompositeFiber)\n\n\t\t\tconst stillMoving =\n\t\t\t\tMath.abs(refCurrentRect.current.left - targetRect.left) > 0.1 ||\n\t\t\t\tMath.abs(refCurrentRect.current.top - targetRect.top) > 0.1 ||\n\t\t\t\tMath.abs(refCurrentRect.current.width - targetRect.width) > 0.1 ||\n\t\t\t\tMath.abs(refCurrentRect.current.height - targetRect.height) > 0.1\n\n\t\t\tif (stillMoving) {\n\t\t\t\trefRafId.current = requestAnimationFrame(animationFrame)\n\t\t\t} else {\n\t\t\t\trefCurrentRect.current = targetRect\n\t\t\t\tdrawRect(canvas, ctx, kind, parentCompositeFiber)\n\t\t\t\tcancelAnimationFrame(refRafId.current)\n\t\t\t\tctx.restore()\n\t\t\t\tonComplete?.()\n\t\t\t}\n\t\t}\n\n\t\tcancelAnimationFrame(refRafId.current)\n\t\tclearTimeout(refTimeout.current)\n\n\t\trefRafId.current = requestAnimationFrame(animationFrame)\n\n\t\trefTimeout.current = setTimeout(() => {\n\t\t\tcancelAnimationFrame(refRafId.current)\n\t\t\trefCurrentRect.current = targetRect\n\t\t\tdrawRect(canvas, ctx, kind, parentCompositeFiber)\n\t\t\tctx.restore()\n\t\t\tonComplete?.()\n\t\t}, 1000)\n\t}\n\n\tconst setupOverlayAnimation = (\n\t\tcanvas: HTMLCanvasElement,\n\t\tctx: CanvasRenderingContext2D,\n\t\ttargetRect: Rect,\n\t\tkind: DrawKind,\n\t\tparentCompositeFiber: Fiber,\n\t) => {\n\t\tctx.save()\n\n\t\tif (!refCurrentRect.current) {\n\t\t\trefCurrentRect.current = targetRect\n\t\t\tdrawRect(canvas, ctx, kind, parentCompositeFiber)\n\t\t\tctx.restore()\n\t\t\treturn\n\t\t}\n\n\t\tanimate(canvas, ctx, targetRect, kind, parentCompositeFiber)\n\t}\n\n\tconst drawHoverOverlay = async (\n\t\toverlayElement: Element | null,\n\t\tcanvas: HTMLCanvasElement | null,\n\t\tctx: CanvasRenderingContext2D | null,\n\t\tkind: DrawKind,\n\t) => {\n\t\tif (!overlayElement || !canvas || !ctx) return\n\n\t\tconst { parentCompositeFiber } =\n\t\t\tgetCompositeComponentFromElement(overlayElement)\n\t\tconst targetRect = await getAssociatedFiberRect(overlayElement)\n\n\t\tif (!parentCompositeFiber || !targetRect) return\n\n\t\tsetupOverlayAnimation(canvas, ctx, targetRect, kind, parentCompositeFiber)\n\t}\n\n\tconst unsubscribeAll = () => {\n\t\tfor (const cleanup of refCleanupMap.current.values()) {\n\t\t\tcleanup?.()\n\t\t}\n\t}\n\n\tconst cleanupCanvas = (canvas: HTMLCanvasElement) => {\n\t\tconst ctx = canvas.getContext(\"2d\")\n\t\tif (ctx) {\n\t\t\tctx.clearRect(0, 0, canvas.width, canvas.height)\n\t\t}\n\t\trefCurrentRect.current = null\n\t\trefCurrentLockIconRect.current = null\n\t\trefLastHoveredElement.current = null\n\t\tcanvas.classList.remove(\"fade-in\")\n\t\trefIsFadingOut.current = false\n\t}\n\n\tconst startFadeOut = (onComplete?: () => void) => {\n\t\tif (!refCanvas.current || refIsFadingOut.current) return\n\n\t\tconst handleTransitionEnd = (e: TransitionEvent) => {\n\t\t\tif (\n\t\t\t\t!refCanvas.current ||\n\t\t\t\te.propertyName !== \"opacity\" ||\n\t\t\t\t!refIsFadingOut.current\n\t\t\t) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\trefCanvas.current.removeEventListener(\n\t\t\t\t\"transitionend\",\n\t\t\t\thandleTransitionEnd,\n\t\t\t)\n\t\t\tcleanupCanvas(refCanvas.current)\n\t\t\tonComplete?.()\n\t\t}\n\t\tconst existingListener = refCleanupMap.current.get(\"fade-out\")\n\t\tif (existingListener) {\n\t\t\texistingListener()\n\t\t\trefCleanupMap.current.delete(\"fade-out\")\n\t\t}\n\n\t\trefCanvas.current.addEventListener(\"transitionend\", handleTransitionEnd)\n\t\trefCleanupMap.current.set(\"fade-out\", () => {\n\t\t\trefCanvas.current?.removeEventListener(\n\t\t\t\t\"transitionend\",\n\t\t\t\thandleTransitionEnd,\n\t\t\t)\n\t\t})\n\n\t\trefIsFadingOut.current = true\n\t\trefCanvas.current.classList.remove(\"fade-in\")\n\t\trequestAnimationFrame(() => {\n\t\t\trefCanvas.current?.classList.add(\"fade-out\")\n\t\t})\n\t}\n\n\tconst startFadeIn = () => {\n\t\tif (!refCanvas.current) return\n\t\trefIsFadingOut.current = false\n\t\trefCanvas.current.classList.remove(\"fade-out\")\n\t\trequestAnimationFrame(() => {\n\t\t\trefCanvas.current?.classList.add(\"fade-in\")\n\t\t})\n\t}\n\n\tconst handleHoverableElement = (componentElement: Element) => {\n\t\tif (componentElement === refLastHoveredElement.current) return\n\n\t\trefLastHoveredElement.current = componentElement\n\n\t\tif (nonVisualTags.has(componentElement.tagName)) {\n\t\t\tstartFadeOut()\n\t\t} else {\n\t\t\tstartFadeIn()\n\t\t}\n\n\t\tStore.inspectState.value = {\n\t\t\tkind: \"inspecting\",\n\t\t\thoveredDomElement: componentElement,\n\t\t}\n\t}\n\n\tconst handleNonHoverableArea = () => {\n\t\tif (\n\t\t\t!refCurrentRect.current ||\n\t\t\t!refCanvas.current ||\n\t\t\trefIsFadingOut.current\n\t\t) {\n\t\t\treturn\n\t\t}\n\n\t\tstartFadeOut()\n\t}\n\n\tconst handlePointerMove = throttle((e?: PointerEvent) => {\n\t\tconst state = Store.inspectState.peek()\n\t\tif (state.kind !== \"inspecting\" || !refEventCatcher.current) return\n\n\t\trefEventCatcher.current.style.pointerEvents = \"none\"\n\t\tconst element = document.elementFromPoint(e?.clientX ?? 0, e?.clientY ?? 0)\n\n\t\trefEventCatcher.current.style.removeProperty(\"pointer-events\")\n\n\t\tclearTimeout(refTimeout.current)\n\n\t\tif (element && element !== refCanvas.current) {\n\t\t\tconst { parentCompositeFiber } = getCompositeComponentFromElement(\n\t\t\t\telement as Element,\n\t\t\t)\n\t\t\tif (parentCompositeFiber) {\n\t\t\t\tconst componentElement = findComponentDOMNode(parentCompositeFiber)\n\t\t\t\tif (componentElement) {\n\t\t\t\t\thandleHoverableElement(componentElement)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\thandleNonHoverableArea()\n\t}, 32)\n\n\tconst isClickInLockIcon = (e: MouseEvent, canvas: HTMLCanvasElement) => {\n\t\tconst currentRect = refCurrentLockIconRect.current\n\t\tif (!currentRect) return false\n\n\t\tconst rect = canvas.getBoundingClientRect()\n\t\tconst scaleX = canvas.width / rect.width\n\t\tconst scaleY = canvas.height / rect.height\n\t\tconst x = (e.clientX - rect.left) * scaleX\n\t\tconst y = (e.clientY - rect.top) * scaleY\n\t\tconst adjustedX = x / OVERLAY_DPR\n\t\tconst adjustedY = y / OVERLAY_DPR\n\n\t\treturn (\n\t\t\tadjustedX >= currentRect.x &&\n\t\t\tadjustedX <= currentRect.x + currentRect.width &&\n\t\t\tadjustedY >= currentRect.y &&\n\t\t\tadjustedY <= currentRect.y + currentRect.height\n\t\t)\n\t}\n\n\tconst handleLockIconClick = (state: States) => {\n\t\tif (state.kind === \"focused\") {\n\t\t\tStore.inspectState.value = {\n\t\t\t\tkind: \"inspecting\",\n\t\t\t\thoveredDomElement: state.focusedDomElement,\n\t\t\t}\n\t\t}\n\t}\n\n\tconst handleElementClick = (e: MouseEvent) => {\n\t\tconst clickableElements = [\n\t\t\t\"react-devtool-inspect-element\",\n\t\t\t\"react-devtool-power\",\n\t\t]\n\t\t// avoid capturing the synthetic event sent back to the toolbar, we don't want to block click events on it ever\n\t\tif (\n\t\t\te.target instanceof HTMLElement &&\n\t\t\tclickableElements.includes(e.target.id)\n\t\t) {\n\t\t\treturn\n\t\t}\n\n\t\tconst tagName = refLastHoveredElement.current?.tagName\n\t\tif (tagName && nonVisualTags.has(tagName)) {\n\t\t\treturn\n\t\t}\n\n\t\te.preventDefault()\n\t\te.stopPropagation()\n\n\t\tconst element =\n\t\t\trefLastHoveredElement.current ??\n\t\t\tdocument.elementFromPoint(e.clientX, e.clientY)\n\t\tif (!element) return\n\n\t\tconst clickedEl = e.composedPath().at(0)\n\n\t\tif (\n\t\t\tclickedEl instanceof HTMLElement &&\n\t\t\tclickableElements.includes(clickedEl.id)\n\t\t) {\n\t\t\tconst syntheticEvent = new MouseEvent(e.type, e)\n\t\t\t// @ts-ignore - this allows to know to not re-process this event when this event handler captures it\n\t\t\tsyntheticEvent.__reactDevtoolSyntheticEvent = true\n\t\t\tclickedEl.dispatchEvent(syntheticEvent)\n\t\t\treturn\n\t\t}\n\t\tconst { parentCompositeFiber } = getCompositeComponentFromElement(\n\t\t\telement as Element,\n\t\t)\n\t\tif (!parentCompositeFiber) return\n\n\t\tconst componentElement = findComponentDOMNode(parentCompositeFiber)\n\n\t\tif (!componentElement) {\n\t\t\trefLastHoveredElement.current = null\n\t\t\tStore.inspectState.value = {\n\t\t\t\tkind: \"inspect-off\",\n\t\t\t}\n\t\t\treturn\n\t\t}\n\n\t\tStore.inspectState.value = {\n\t\t\tkind: \"focused\",\n\t\t\tfocusedDomElement: componentElement,\n\t\t\tfiber: parentCompositeFiber,\n\t\t}\n\t}\n\n\tconst handleClick = (e: MouseEvent) => {\n\t\t// @ts-ignore - metadata added to toolbar button events we create and dispatch\n\t\tif (e.__reactDevtoolSyntheticEvent) {\n\t\t\treturn\n\t\t}\n\n\t\tconst state = Store.inspectState.peek()\n\t\tconst canvas = refCanvas.current\n\t\tif (!canvas || !refEventCatcher.current) return\n\n\t\tif (isClickInLockIcon(e, canvas)) {\n\t\t\te.preventDefault()\n\t\t\te.stopPropagation()\n\t\t\thandleLockIconClick(state)\n\t\t\treturn\n\t\t}\n\n\t\tif (state.kind === \"inspecting\") {\n\t\t\thandleElementClick(e)\n\t\t}\n\t}\n\n\tconst handleKeyDown = (e: KeyboardEvent) => {\n\t\tif (e.key !== \"Escape\") return\n\n\t\tconst state = Store.inspectState.peek()\n\t\tconst canvas = refCanvas.current\n\t\tif (!canvas) return\n\n\t\tif (document.activeElement?.id === \"react-devtool-root\") {\n\t\t\treturn\n\t\t}\n\n\t\tsignalWidgetViews.value = {\n\t\t\tview: \"none\",\n\t\t}\n\n\t\tif (state.kind === \"focused\" || state.kind === \"inspecting\") {\n\t\t\te.preventDefault()\n\t\t\te.stopPropagation()\n\n\t\t\tswitch (state.kind) {\n\t\t\t\tcase \"focused\": {\n\t\t\t\t\tstartFadeIn()\n\t\t\t\t\trefCurrentRect.current = null\n\t\t\t\t\trefLastHoveredElement.current = state.focusedDomElement\n\t\t\t\t\tStore.inspectState.value = {\n\t\t\t\t\t\tkind: \"inspecting\",\n\t\t\t\t\t\thoveredDomElement: state.focusedDomElement,\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\tcase \"inspecting\": {\n\t\t\t\t\tstartFadeOut(() => {\n\t\t\t\t\t\tsignalIsSettingsOpen.value = false\n\t\t\t\t\t\tStore.inspectState.value = {\n\t\t\t\t\t\t\tkind: \"inspect-off\",\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tconst handleStateChange = (\n\t\tstate: States,\n\t\tcanvas: HTMLCanvasElement,\n\t\tctx: CanvasRenderingContext2D,\n\t) => {\n\t\trefCleanupMap.current.get(state.kind)?.()\n\n\t\tif (refEventCatcher.current) {\n\t\t\tif (state.kind !== \"inspecting\") {\n\t\t\t\trefEventCatcher.current.style.pointerEvents = \"none\"\n\t\t\t}\n\t\t}\n\n\t\tif (refRafId.current) {\n\t\t\tcancelAnimationFrame(refRafId.current)\n\t\t}\n\n\t\tlet unsubReport: (() => void) | undefined\n\n\t\tswitch (state.kind) {\n\t\t\tcase \"inspect-off\":\n\t\t\t\tstartFadeOut()\n\t\t\t\treturn\n\n\t\t\tcase \"inspecting\":\n\t\t\t\tdrawHoverOverlay(state.hoveredDomElement, canvas, ctx, \"inspecting\")\n\t\t\t\tbreak\n\n\t\t\tcase \"focused\":\n\t\t\t\tif (!state.focusedDomElement) return\n\n\t\t\t\tif (refLastHoveredElement.current !== state.focusedDomElement) {\n\t\t\t\t\trefLastHoveredElement.current = state.focusedDomElement\n\t\t\t\t}\n\n\t\t\t\tsignalWidgetViews.value = {\n\t\t\t\t\tview: \"inspector\",\n\t\t\t\t}\n\n\t\t\t\tdrawHoverOverlay(state.focusedDomElement, canvas, ctx, \"locked\")\n\n\t\t\t\tunsubReport = Store.lastReportTime.subscribe(() => {\n\t\t\t\t\tif (refRafId.current && refCurrentRect.current) {\n\t\t\t\t\t\tconst { parentCompositeFiber } = getCompositeComponentFromElement(\n\t\t\t\t\t\t\tstate.focusedDomElement,\n\t\t\t\t\t\t)\n\t\t\t\t\t\tif (parentCompositeFiber) {\n\t\t\t\t\t\t\tdrawHoverOverlay(state.focusedDomElement, canvas, ctx, \"locked\")\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tif (unsubReport) {\n\t\t\t\t\trefCleanupMap.current.set(state.kind, unsubReport)\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t}\n\t}\n\n\tconst updateCanvasSize = (\n\t\tcanvas: HTMLCanvasElement,\n\t\tctx: CanvasRenderingContext2D,\n\t) => {\n\t\tconst rect = canvas.getBoundingClientRect()\n\t\tcanvas.width = rect.width * OVERLAY_DPR\n\t\tcanvas.height = rect.height * OVERLAY_DPR\n\t\tctx.scale(OVERLAY_DPR, OVERLAY_DPR)\n\t\tctx.save()\n\t}\n\n\tconst handleResizeOrScroll = () => {\n\t\tconst state = Store.inspectState.peek()\n\t\tconst canvas = refCanvas.current\n\t\tif (!canvas) return\n\t\tconst ctx = canvas?.getContext(\"2d\")\n\t\tif (!ctx) return\n\n\t\tcancelAnimationFrame(refRafId.current)\n\t\tclearTimeout(refTimeout.current)\n\n\t\tupdateCanvasSize(canvas, ctx)\n\t\trefCurrentRect.current = null\n\n\t\tif (state.kind === \"focused\" && state.focusedDomElement) {\n\t\t\tdrawHoverOverlay(state.focusedDomElement, canvas, ctx, \"locked\")\n\t\t} else if (state.kind === \"inspecting\" && state.hoveredDomElement) {\n\t\t\tdrawHoverOverlay(state.hoveredDomElement, canvas, ctx, \"inspecting\")\n\t\t}\n\t}\n\n\tconst handlePointerDown = (e: PointerEvent) => {\n\t\tconst state = Store.inspectState.peek()\n\t\tconst canvas = refCanvas.current\n\t\tif (!canvas) return\n\n\t\tif (\n\t\t\tstate.kind === \"inspecting\" ||\n\t\t\tisClickInLockIcon(e as unknown as MouseEvent, canvas)\n\t\t) {\n\t\t\te.preventDefault()\n\t\t\te.stopPropagation()\n\t\t\te.stopImmediatePropagation()\n\t\t}\n\t}\n\n\t// biome-ignore lint/correctness/useExhaustiveDependencies: no deps\n\tuseEffect(() => {\n\t\tconst canvas = refCanvas.current\n\t\tif (!canvas) return\n\t\tconst ctx = canvas?.getContext(\"2d\")\n\t\tif (!ctx) return\n\n\t\tupdateCanvasSize(canvas, ctx)\n\n\t\tconst unSubState = Store.inspectState.subscribe((state) => {\n\t\t\thandleStateChange(state, canvas, ctx)\n\t\t})\n\n\t\twindow.addEventListener(\"scroll\", handleResizeOrScroll, { passive: true })\n\t\twindow.addEventListener(\"resize\", handleResizeOrScroll, { passive: true })\n\t\tdocument.addEventListener(\"pointermove\", handlePointerMove, {\n\t\t\tpassive: true,\n\t\t\tcapture: true,\n\t\t})\n\t\tdocument.addEventListener(\"pointerdown\", handlePointerDown, {\n\t\t\tcapture: true,\n\t\t})\n\t\tdocument.addEventListener(\"click\", handleClick, { capture: true })\n\t\tdocument.addEventListener(\"keydown\", handleKeyDown, { capture: true })\n\n\t\treturn () => {\n\t\t\tunsubscribeAll()\n\t\t\tunSubState()\n\t\t\twindow.removeEventListener(\"scroll\", handleResizeOrScroll)\n\t\t\twindow.removeEventListener(\"resize\", handleResizeOrScroll)\n\t\t\tdocument.removeEventListener(\"pointermove\", handlePointerMove, {\n\t\t\t\tcapture: true,\n\t\t\t})\n\t\t\tdocument.removeEventListener(\"click\", handleClick, { capture: true })\n\t\t\tdocument.removeEventListener(\"pointerdown\", handlePointerDown, {\n\t\t\t\tcapture: true,\n\t\t\t})\n\t\t\tdocument.removeEventListener(\"keydown\", handleKeyDown, { capture: true })\n\n\t\t\tif (refRafId.current) {\n\t\t\t\tcancelAnimationFrame(refRafId.current)\n\t\t\t}\n\t\t\tclearTimeout(refTimeout.current)\n\t\t}\n\t}, [])\n\n\treturn (\n\t\t<>\n\t\t\t<div\n\t\t\t\tref={refEventCatcher}\n\t\t\t\tclassName={cn(\"fixed top-0 left-0 w-screen h-screen\", \"z-[214748365]\")}\n\t\t\t\t// DO NOT DO NOT DO NOT REMOVE THE STYLE IT WILL CAUSE MASSIVE PERFORMANCE ISSUES https://x.com/RobKnight__/status/1897524145157439558\n\t\t\t\tstyle={{\n\t\t\t\t\tpointerEvents: \"none\",\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<canvas\n\t\t\t\tref={refCanvas}\n\t\t\t\tdir=\"ltr\"\n\t\t\t\tclassName={cn(\n\t\t\t\t\t\"react-devtool-inspector-overlay\",\n\t\t\t\t\t\"fixed top-0 left-0 w-screen h-screen\",\n\t\t\t\t\t\"pointer-events-none\",\n\t\t\t\t\t\"z-[214748367]\",\n\t\t\t\t)}\n\t\t\t/>\n\t\t</>\n\t)\n}\n","import { MIN_SIZE, SAFE_AREA } from \"../constants\"\nimport type { Corner, Position, ResizeHandleProps, Size } from \"./types\"\n\nclass WindowDimensions {\n\tmaxWidth: number\n\tmaxHeight: number\n\n\tconstructor(\n\t\tpublic width: number,\n\t\tpublic height: number,\n\t) {\n\t\tthis.maxWidth = width - SAFE_AREA * 2\n\t\tthis.maxHeight = height - SAFE_AREA * 2\n\t}\n\n\trightEdge(width: number): number {\n\t\treturn this.width - width - SAFE_AREA\n\t}\n\n\tbottomEdge(height: number): number {\n\t\treturn this.height - height - SAFE_AREA\n\t}\n\n\tisFullWidth(width: number): boolean {\n\t\treturn width >= this.maxWidth\n\t}\n\n\tisFullHeight(height: number): boolean {\n\t\treturn height >= this.maxHeight\n\t}\n}\n\nlet cachedWindowDimensions: WindowDimensions | undefined\n\nexport const getWindowDimensions = () => {\n\tconst currentWidth = window.innerWidth\n\tconst currentHeight = window.innerHeight\n\n\tif (\n\t\tcachedWindowDimensions &&\n\t\tcachedWindowDimensions.width === currentWidth &&\n\t\tcachedWindowDimensions.height === currentHeight\n\t) {\n\t\treturn cachedWindowDimensions\n\t}\n\n\tcachedWindowDimensions = new WindowDimensions(currentWidth, currentHeight)\n\n\treturn cachedWindowDimensions\n}\n\nexport const getOppositeCorner = (\n\tposition: ResizeHandleProps[\"position\"],\n\tcurrentCorner: Corner,\n\tisFullScreen: boolean,\n\tisFullWidth?: boolean,\n\tisFullHeight?: boolean,\n): Corner => {\n\t// For full screen mode\n\tif (isFullScreen) {\n\t\tif (position === \"top-left\") return \"bottom-right\"\n\t\tif (position === \"top-right\") return \"bottom-left\"\n\t\tif (position === \"bottom-left\") return \"top-right\"\n\t\tif (position === \"bottom-right\") return \"top-left\"\n\n\t\tconst [vertical, horizontal] = currentCorner.split(\"-\")\n\t\tif (position === \"left\") return `${vertical}-right` as Corner\n\t\tif (position === \"right\") return `${vertical}-left` as Corner\n\t\tif (position === \"top\") return `bottom-${horizontal}` as Corner\n\t\tif (position === \"bottom\") return `top-${horizontal}` as Corner\n\t}\n\n\t// For full width mode\n\tif (isFullWidth) {\n\t\tif (position === \"left\")\n\t\t\treturn `${currentCorner.split(\"-\")[0]}-right` as Corner\n\t\tif (position === \"right\")\n\t\t\treturn `${currentCorner.split(\"-\")[0]}-left` as Corner\n\t}\n\n\t// For full height mode\n\tif (isFullHeight) {\n\t\tif (position === \"top\")\n\t\t\treturn `bottom-${currentCorner.split(\"-\")[1]}` as Corner\n\t\tif (position === \"bottom\")\n\t\t\treturn `top-${currentCorner.split(\"-\")[1]}` as Corner\n\t}\n\n\treturn currentCorner\n}\n\nexport const calculatePosition = (\n\tcorner: Corner,\n\twidth: number,\n\theight: number,\n): Position => {\n\tconst isRTL = getComputedStyle(document.body).direction === \"rtl\"\n\n\tconst windowWidth = window.innerWidth\n\tconst windowHeight = window.innerHeight\n\n\t// Check if widget is minimized\n\tconst isMinimized = width === MIN_SIZE.width\n\n\t// Only bound dimensions if minimized\n\tconst effectiveWidth = isMinimized\n\t\t? width\n\t\t: Math.min(width, windowWidth - SAFE_AREA * 2)\n\tconst effectiveHeight = isMinimized\n\t\t? height\n\t\t: Math.min(height, windowHeight - SAFE_AREA * 2)\n\n\t// Calculate base positions\n\tlet x: number\n\tlet y: number\n\n\tconst leftBound = SAFE_AREA\n\tconst rightBound = windowWidth - effectiveWidth - SAFE_AREA\n\tconst topBound = SAFE_AREA\n\tconst bottomBound = windowHeight - effectiveHeight - SAFE_AREA\n\n\tswitch (corner) {\n\t\tcase \"top-right\":\n\t\t\tx = isRTL ? -leftBound : rightBound\n\t\t\ty = topBound\n\t\t\tbreak\n\t\tcase \"bottom-right\":\n\t\t\tx = isRTL ? -leftBound : rightBound\n\t\t\ty = bottomBound\n\t\t\tbreak\n\t\tcase \"bottom-left\":\n\t\t\tx = isRTL ? -rightBound : leftBound\n\t\t\ty = bottomBound\n\t\t\tbreak\n\t\tcase \"top-left\":\n\t\t\tx = isRTL ? -rightBound : leftBound\n\t\t\ty = topBound\n\t\t\tbreak\n\t\tdefault:\n\t\t\tx = leftBound\n\t\t\ty = topBound\n\t\t\tbreak\n\t}\n\n\t// Only ensure positions are within bounds if minimized\n\tif (isMinimized) {\n\t\tif (isRTL) {\n\t\t\t// For RTL\n\t\t\tx = Math.min(-leftBound, Math.max(x, -rightBound))\n\t\t} else {\n\t\t\t// For LTR\n\t\t\tx = Math.max(leftBound, Math.min(x, rightBound))\n\t\t}\n\t\ty = Math.max(topBound, Math.min(y, bottomBound))\n\t}\n\n\treturn { x, y }\n}\n\nconst positionMatchesCorner = (\n\tposition: ResizeHandleProps[\"position\"],\n\tcorner: Corner,\n): boolean => {\n\tconst [vertical, horizontal] = corner.split(\"-\")\n\treturn position !== vertical && position !== horizontal\n}\n\nexport const getHandleVisibility = (\n\tposition: ResizeHandleProps[\"position\"],\n\tcorner: Corner,\n\tisFullWidth: boolean,\n\tisFullHeight: boolean,\n): boolean => {\n\tif (isFullWidth && isFullHeight) {\n\t\treturn true\n\t}\n\n\t// Normal state\n\tif (!isFullWidth && !isFullHeight) {\n\t\treturn positionMatchesCorner(position, corner)\n\t}\n\n\t// Full width state\n\tif (isFullWidth) {\n\t\treturn position !== corner.split(\"-\")[0]\n\t}\n\n\t// Full height state\n\tif (isFullHeight) {\n\t\treturn position !== corner.split(\"-\")[1]\n\t}\n\n\treturn false\n}\n\nexport const calculateBoundedSize = (\n\tcurrentSize: number,\n\tdelta: number,\n\tisWidth: boolean,\n): number => {\n\tconst min = isWidth ? MIN_SIZE.width : MIN_SIZE.initialHeight\n\tconst max = isWidth\n\t\t? getWindowDimensions().maxWidth\n\t\t: getWindowDimensions().maxHeight\n\n\tconst newSize = currentSize + delta\n\treturn Math.min(Math.max(min, newSize), max)\n}\n\nexport const calculateNewSizeAndPosition = (\n\tposition: ResizeHandleProps[\"position\"],\n\tinitialSize: Size,\n\tinitialPosition: Position,\n\tdeltaX: number,\n\tdeltaY: number,\n): { newSize: Size; newPosition: Position } => {\n\tconst isRTL = getComputedStyle(document.body).direction === \"rtl\"\n\n\tconst maxWidth = window.innerWidth - SAFE_AREA * 2\n\tconst maxHeight = window.innerHeight - SAFE_AREA * 2\n\n\tlet newWidth = initialSize.width\n\tlet newHeight = initialSize.height\n\tlet newX = initialPosition.x\n\tlet newY = initialPosition.y\n\n\t// horizontal resize for RTL\n\tif (isRTL && position.includes(\"right\")) {\n\t\t// Check if we have enough space on the right\n\t\tconst availableWidth = -initialPosition.x + initialSize.width - SAFE_AREA\n\t\tconst proposedWidth = Math.min(initialSize.width + deltaX, availableWidth)\n\t\tnewWidth = Math.min(maxWidth, Math.max(MIN_SIZE.width, proposedWidth))\n\t\tnewX = initialPosition.x + (newWidth - initialSize.width)\n\t}\n\tif (isRTL && position.includes(\"left\")) {\n\t\t// Check if we have enough space on the left\n\t\tconst availableWidth = window.innerWidth - initialPosition.x - SAFE_AREA\n\t\tconst proposedWidth = Math.min(initialSize.width - deltaX, availableWidth)\n\t\tnewWidth = Math.min(maxWidth, Math.max(MIN_SIZE.width, proposedWidth))\n\t}\n\t// horizontal resize for LTR\n\tif (!isRTL && position.includes(\"right\")) {\n\t\t// Check if we have enough space on the right\n\t\tconst availableWidth = window.innerWidth - initialPosition.x - SAFE_AREA\n\t\tconst proposedWidth = Math.min(initialSize.width + deltaX, availableWidth)\n\t\tnewWidth = Math.min(maxWidth, Math.max(MIN_SIZE.width, proposedWidth))\n\t}\n\tif (!isRTL && position.includes(\"left\")) {\n\t\t// Check if we have enough space on the left\n\t\tconst availableWidth = initialPosition.x + initialSize.width - SAFE_AREA\n\t\tconst proposedWidth = Math.min(initialSize.width - deltaX, availableWidth)\n\t\tnewWidth = Math.min(maxWidth, Math.max(MIN_SIZE.width, proposedWidth))\n\t\tnewX = initialPosition.x - (newWidth - initialSize.width)\n\t}\n\n\t// vertical resize\n\tif (position.includes(\"bottom\")) {\n\t\t// Check if we have enough space at the bottom\n\t\tconst availableHeight = window.innerHeight - initialPosition.y - SAFE_AREA\n\t\tconst proposedHeight = Math.min(\n\t\t\tinitialSize.height + deltaY,\n\t\t\tavailableHeight,\n\t\t)\n\t\tnewHeight = Math.min(\n\t\t\tmaxHeight,\n\t\t\tMath.max(MIN_SIZE.initialHeight, proposedHeight),\n\t\t)\n\t}\n\tif (position.includes(\"top\")) {\n\t\t// Check if we have enough space at the top\n\t\tconst availableHeight = initialPosition.y + initialSize.height - SAFE_AREA\n\t\tconst proposedHeight = Math.min(\n\t\t\tinitialSize.height - deltaY,\n\t\t\tavailableHeight,\n\t\t)\n\t\tnewHeight = Math.min(\n\t\t\tmaxHeight,\n\t\t\tMath.max(MIN_SIZE.initialHeight, proposedHeight),\n\t\t)\n\t\tnewY = initialPosition.y - (newHeight - initialSize.height)\n\t}\n\n\tconst leftBound = SAFE_AREA\n\tconst rightBound = window.innerWidth - SAFE_AREA - newWidth\n\tconst topBound = SAFE_AREA\n\tconst bottomBound = window.innerHeight - SAFE_AREA - newHeight\n\n\t// Ensure position stays within bounds\n\tif (isRTL) {\n\t\t// for RTL\n\t\tnewX = Math.min(-leftBound, Math.max(newX, -rightBound))\n\t} else {\n\t\t// for LTR\n\t\tnewX = Math.max(leftBound, Math.min(newX, rightBound))\n\t}\n\n\tnewY = Math.max(topBound, Math.min(newY, bottomBound))\n\n\treturn {\n\t\tnewSize: { width: newWidth, height: newHeight },\n\t\tnewPosition: { x: newX, y: newY },\n\t}\n}\n\nexport const getClosestCorner = (position: Position): Corner => {\n\tconst windowDims = getWindowDimensions()\n\n\tconst distances: Record<Corner, number> = {\n\t\t\"top-left\": Math.hypot(position.x, position.y),\n\t\t\"top-right\": Math.hypot(windowDims.maxWidth - position.x, position.y),\n\t\t\"bottom-left\": Math.hypot(position.x, windowDims.maxHeight - position.y),\n\t\t\"bottom-right\": Math.hypot(\n\t\t\twindowDims.maxWidth - position.x,\n\t\t\twindowDims.maxHeight - position.y,\n\t\t),\n\t}\n\n\tlet closest: Corner = \"top-left\"\n\n\tfor (const key in distances) {\n\t\tif (distances[key as Corner] < distances[closest]) {\n\t\t\tclosest = key as Corner\n\t\t}\n\t}\n\n\treturn closest\n}\n\n// Helper to determine best corner based on cursor position, widget size, and movement\nexport const getBestCorner = (\n\tmouseX: number,\n\tmouseY: number,\n\tinitialMouseX?: number,\n\tinitialMouseY?: number,\n\tthreshold = 100,\n): Corner => {\n\tconst deltaX = initialMouseX !== undefined ? mouseX - initialMouseX : 0\n\tconst deltaY = initialMouseY !== undefined ? mouseY - initialMouseY : 0\n\n\tconst windowCenterX = window.innerWidth / 2\n\tconst windowCenterY = window.innerHeight / 2\n\n\t// Determine movement direction\n\tconst movingRight = deltaX > threshold\n\tconst movingLeft = deltaX < -threshold\n\tconst movingDown = deltaY > threshold\n\tconst movingUp = deltaY < -threshold\n\n\t// If horizontal movement\n\tif (movingRight || movingLeft) {\n\t\tconst isBottom = mouseY > windowCenterY\n\t\treturn movingRight\n\t\t\t? isBottom\n\t\t\t\t? \"bottom-right\"\n\t\t\t\t: \"top-right\"\n\t\t\t: isBottom\n\t\t\t\t? \"bottom-left\"\n\t\t\t\t: \"top-left\"\n\t}\n\n\t// If vertical movement\n\tif (movingDown || movingUp) {\n\t\tconst isRight = mouseX > windowCenterX\n\t\treturn movingDown\n\t\t\t? isRight\n\t\t\t\t? \"bottom-right\"\n\t\t\t\t: \"bottom-left\"\n\t\t\t: isRight\n\t\t\t\t? \"top-right\"\n\t\t\t\t: \"top-left\"\n\t}\n\n\t// If no significant movement, use quadrant-based position\n\treturn mouseX > windowCenterX\n\t\t? mouseY > windowCenterY\n\t\t\t? \"bottom-right\"\n\t\t\t: \"top-right\"\n\t\t: mouseY > windowCenterY\n\t\t\t? \"bottom-left\"\n\t\t\t: \"top-left\"\n}\n","import type { JSX } from \"preact\"\nimport { useCallback, useEffect, useRef } from \"preact/hooks\"\nimport { Store } from \"~core/index\"\nimport { Icon } from \"~web/components/icon\"\nimport { LOCALSTORAGE_KEY, MIN_CONTAINER_WIDTH, MIN_SIZE } from \"~web/constants\"\nimport { signalRefWidget, signalWidget, signalWidgetViews } from \"~web/state\"\nimport { cn, saveLocalStorage } from \"~web/utils/helpers\"\nimport {\n\tcalculateNewSizeAndPosition,\n\tcalculatePosition,\n\tgetClosestCorner,\n\tgetHandleVisibility,\n\tgetOppositeCorner,\n\tgetWindowDimensions,\n} from \"./helpers\"\nimport type { Corner, ResizeHandleProps } from \"./types\"\n\nexport const ResizeHandle = ({ position }: ResizeHandleProps) => {\n\tconst refContainer = useRef<HTMLDivElement>(null)\n\n\tconst prevWidth = useRef<number | null>(null)\n\tconst prevHeight = useRef<number | null>(null)\n\tconst prevCorner = useRef<Corner | null>(null)\n\n\t// biome-ignore lint/correctness/useExhaustiveDependencies: no deps\n\tuseEffect(() => {\n\t\tconst container = refContainer.current\n\t\tif (!container) return\n\n\t\tconst updateVisibility = () => {\n\t\t\tcontainer.classList.remove(\"pointer-events-none\")\n\n\t\t\tconst isFocused = Store.inspectState.value.kind === \"focused\"\n\t\t\tconst shouldShow = signalWidgetViews.value.view !== \"none\"\n\t\t\tconst isVisible =\n\t\t\t\t(isFocused || shouldShow) &&\n\t\t\t\tgetHandleVisibility(\n\t\t\t\t\tposition,\n\t\t\t\t\tsignalWidget.value.corner,\n\t\t\t\t\tsignalWidget.value.dimensions.isFullWidth,\n\t\t\t\t\tsignalWidget.value.dimensions.isFullHeight,\n\t\t\t\t)\n\n\t\t\tif (isVisible) {\n\t\t\t\tcontainer.classList.remove(\"hidden\", \"pointer-events-none\", \"opacity-0\")\n\t\t\t} else {\n\t\t\t\tcontainer.classList.add(\"hidden\", \"pointer-events-none\", \"opacity-0\")\n\t\t\t}\n\t\t}\n\n\t\tconst unsubscribeSignalWidget = signalWidget.subscribe((state) => {\n\t\t\tif (\n\t\t\t\tprevWidth.current !== null &&\n\t\t\t\tprevHeight.current !== null &&\n\t\t\t\tprevCorner.current !== null &&\n\t\t\t\tstate.dimensions.width === prevWidth.current &&\n\t\t\t\tstate.dimensions.height === prevHeight.current &&\n\t\t\t\tstate.corner === prevCorner.current\n\t\t\t) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tupdateVisibility()\n\n\t\t\tprevWidth.current = state.dimensions.width\n\t\t\tprevHeight.current = state.dimensions.height\n\t\t\tprevCorner.current = state.corner\n\t\t})\n\n\t\tconst unsubscribeInspectState = Store.inspectState.subscribe(() => {\n\t\t\tupdateVisibility()\n\t\t})\n\n\t\treturn () => {\n\t\t\tunsubscribeSignalWidget()\n\t\t\tunsubscribeInspectState()\n\t\t\tprevWidth.current = null\n\t\t\tprevHeight.current = null\n\t\t\tprevCorner.current = null\n\t\t}\n\t}, [])\n\n\t// biome-ignore lint/correctness/useExhaustiveDependencies: no deps\n\tconst handleResize = useCallback(\n\t\t(e: JSX.TargetedPointerEvent<HTMLDivElement>) => {\n\t\t\te.preventDefault()\n\t\t\te.stopPropagation()\n\n\t\t\tconst widget = signalRefWidget.value\n\t\t\tif (!widget) return\n\n\t\t\tconst containerStyle = widget.style\n\t\t\tconst { dimensions } = signalWidget.value\n\t\t\tconst initialX = e.clientX\n\t\t\tconst initialY = e.clientY\n\n\t\t\tconst initialWidth = dimensions.width\n\t\t\tconst initialHeight = dimensions.height\n\t\t\tconst initialPosition = dimensions.position\n\n\t\t\tsignalWidget.value = {\n\t\t\t\t...signalWidget.value,\n\t\t\t\tdimensions: {\n\t\t\t\t\t...dimensions,\n\t\t\t\t\tisFullWidth: false,\n\t\t\t\t\tisFullHeight: false,\n\t\t\t\t\twidth: initialWidth,\n\t\t\t\t\theight: initialHeight,\n\t\t\t\t\tposition: initialPosition,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tlet rafId: number | null = null\n\n\t\t\tconst handlePointerMove = (e: PointerEvent) => {\n\t\t\t\tif (rafId) return\n\n\t\t\t\tcontainerStyle.transition = \"none\"\n\n\t\t\t\trafId = requestAnimationFrame(() => {\n\t\t\t\t\tconst { newSize, newPosition } = calculateNewSizeAndPosition(\n\t\t\t\t\t\tposition,\n\t\t\t\t\t\t{ width: initialWidth, height: initialHeight },\n\t\t\t\t\t\tinitialPosition,\n\t\t\t\t\t\te.clientX - initialX,\n\t\t\t\t\t\te.clientY - initialY,\n\t\t\t\t\t)\n\n\t\t\t\t\tcontainerStyle.transform = `translate3d(${newPosition.x}px, ${newPosition.y}px, 0)`\n\t\t\t\t\tcontainerStyle.width = `${newSize.width}px`\n\t\t\t\t\tcontainerStyle.height = `${newSize.height}px`\n\n\t\t\t\t\t// Adjust components tree width when widget is resized\n\t\t\t\t\tconst maxTreeWidth = Math.floor(\n\t\t\t\t\t\tnewSize.width - MIN_CONTAINER_WIDTH / 2,\n\t\t\t\t\t)\n\t\t\t\t\tconst currentTreeWidth = signalWidget.value.componentsTree.width\n\t\t\t\t\tconst newTreeWidth = Math.min(\n\t\t\t\t\t\tmaxTreeWidth,\n\t\t\t\t\t\tMath.max(MIN_CONTAINER_WIDTH, currentTreeWidth),\n\t\t\t\t\t)\n\n\t\t\t\t\tsignalWidget.value = {\n\t\t\t\t\t\t...signalWidget.value,\n\t\t\t\t\t\tdimensions: {\n\t\t\t\t\t\t\tisFullWidth: false,\n\t\t\t\t\t\t\tisFullHeight: false,\n\t\t\t\t\t\t\twidth: newSize.width,\n\t\t\t\t\t\t\theight: newSize.height,\n\t\t\t\t\t\t\tposition: newPosition,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcomponentsTree: {\n\t\t\t\t\t\t\t...signalWidget.value.componentsTree,\n\t\t\t\t\t\t\twidth: newTreeWidth,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\n\t\t\t\t\trafId = null\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst handlePointerUp = () => {\n\t\t\t\tif (rafId) {\n\t\t\t\t\tcancelAnimationFrame(rafId)\n\t\t\t\t\trafId = null\n\t\t\t\t}\n\t\t\t\tdocument.removeEventListener(\"pointermove\", handlePointerMove)\n\t\t\t\tdocument.removeEventListener(\"pointerup\", handlePointerUp)\n\n\t\t\t\tconst { dimensions, corner } = signalWidget.value\n\t\t\t\tconst windowDims = getWindowDimensions()\n\t\t\t\tconst isCurrentFullWidth = windowDims.isFullWidth(dimensions.width)\n\t\t\t\tconst isCurrentFullHeight = windowDims.isFullHeight(dimensions.height)\n\t\t\t\tconst isFullScreen = isCurrentFullWidth && isCurrentFullHeight\n\n\t\t\t\tlet newCorner = corner\n\t\t\t\tif (isFullScreen || isCurrentFullWidth || isCurrentFullHeight) {\n\t\t\t\t\tnewCorner = getClosestCorner(dimensions.position)\n\t\t\t\t}\n\n\t\t\t\tconst newPosition = calculatePosition(\n\t\t\t\t\tnewCorner,\n\t\t\t\t\tdimensions.width,\n\t\t\t\t\tdimensions.height,\n\t\t\t\t)\n\n\t\t\t\tconst onTransitionEnd = () => {\n\t\t\t\t\twidget.removeEventListener(\"transitionend\", onTransitionEnd)\n\t\t\t\t}\n\n\t\t\t\twidget.addEventListener(\"transitionend\", onTransitionEnd)\n\t\t\t\tcontainerStyle.transform = `translate3d(${newPosition.x}px, ${newPosition.y}px, 0)`\n\n\t\t\t\tsignalWidget.value = {\n\t\t\t\t\t...signalWidget.value,\n\t\t\t\t\tcorner: newCorner,\n\t\t\t\t\tdimensions: {\n\t\t\t\t\t\tisFullWidth: isCurrentFullWidth,\n\t\t\t\t\t\tisFullHeight: isCurrentFullHeight,\n\t\t\t\t\t\twidth: dimensions.width,\n\t\t\t\t\t\theight: dimensions.height,\n\t\t\t\t\t\tposition: newPosition,\n\t\t\t\t\t},\n\t\t\t\t\tlastDimensions: {\n\t\t\t\t\t\tisFullWidth: isCurrentFullWidth,\n\t\t\t\t\t\tisFullHeight: isCurrentFullHeight,\n\t\t\t\t\t\twidth: dimensions.width,\n\t\t\t\t\t\theight: dimensions.height,\n\t\t\t\t\t\tposition: newPosition,\n\t\t\t\t\t},\n\t\t\t\t}\n\n\t\t\t\tsaveLocalStorage(LOCALSTORAGE_KEY, {\n\t\t\t\t\tcorner: newCorner,\n\t\t\t\t\tdimensions: signalWidget.value.dimensions,\n\t\t\t\t\tlastDimensions: signalWidget.value.lastDimensions,\n\t\t\t\t\tcomponentsTree: signalWidget.value.componentsTree,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tdocument.addEventListener(\"pointermove\", handlePointerMove, {\n\t\t\t\tpassive: true,\n\t\t\t})\n\t\t\tdocument.addEventListener(\"pointerup\", handlePointerUp)\n\t\t},\n\t\t[],\n\t)\n\n\t// biome-ignore lint/correctness/useExhaustiveDependencies: no deps\n\tconst handleDoubleClick = useCallback(\n\t\t(e: JSX.TargetedMouseEvent<HTMLDivElement>) => {\n\t\t\te.preventDefault()\n\t\t\te.stopPropagation()\n\n\t\t\tconst widget = signalRefWidget.value\n\t\t\tif (!widget) return\n\n\t\t\tconst containerStyle = widget.style\n\t\t\tconst { dimensions, corner } = signalWidget.value\n\t\t\tconst windowDims = getWindowDimensions()\n\n\t\t\tconst isCurrentFullWidth = windowDims.isFullWidth(dimensions.width)\n\t\t\tconst isCurrentFullHeight = windowDims.isFullHeight(dimensions.height)\n\t\t\tconst isFullScreen = isCurrentFullWidth && isCurrentFullHeight\n\t\t\tconst isPartiallyMaximized =\n\t\t\t\t(isCurrentFullWidth || isCurrentFullHeight) && !isFullScreen\n\n\t\t\tlet newWidth = dimensions.width\n\t\t\tlet newHeight = dimensions.height\n\t\t\tconst newCorner = getOppositeCorner(\n\t\t\t\tposition,\n\t\t\t\tcorner,\n\t\t\t\tisFullScreen,\n\t\t\t\tisCurrentFullWidth,\n\t\t\t\tisCurrentFullHeight,\n\t\t\t)\n\n\t\t\tif (position === \"left\" || position === \"right\") {\n\t\t\t\tnewWidth = isCurrentFullWidth ? dimensions.width : windowDims.maxWidth\n\t\t\t\tif (isPartiallyMaximized) {\n\t\t\t\t\tnewWidth = isCurrentFullWidth ? MIN_SIZE.width : windowDims.maxWidth\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnewHeight = isCurrentFullHeight\n\t\t\t\t\t? dimensions.height\n\t\t\t\t\t: windowDims.maxHeight\n\t\t\t\tif (isPartiallyMaximized) {\n\t\t\t\t\tnewHeight = isCurrentFullHeight\n\t\t\t\t\t\t? MIN_SIZE.initialHeight\n\t\t\t\t\t\t: windowDims.maxHeight\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (isFullScreen) {\n\t\t\t\tif (position === \"left\" || position === \"right\") {\n\t\t\t\t\tnewWidth = MIN_SIZE.width\n\t\t\t\t} else {\n\t\t\t\t\tnewHeight = MIN_SIZE.initialHeight\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst newPosition = calculatePosition(newCorner, newWidth, newHeight)\n\t\t\tconst newDimensions = {\n\t\t\t\tisFullWidth: windowDims.isFullWidth(newWidth),\n\t\t\t\tisFullHeight: windowDims.isFullHeight(newHeight),\n\t\t\t\twidth: newWidth,\n\t\t\t\theight: newHeight,\n\t\t\t\tposition: newPosition,\n\t\t\t}\n\n\t\t\t// Adjust components tree width when widget is resized\n\t\t\tconst maxTreeWidth = Math.floor(newWidth - MIN_SIZE.width / 2)\n\t\t\tconst currentTreeWidth = signalWidget.value.componentsTree.width\n\t\t\tconst defaultWidth = Math.floor(newWidth * 0.3) // Use 30% of window width as default\n\n\t\t\tconst newTreeWidth = isCurrentFullWidth\n\t\t\t\t? MIN_CONTAINER_WIDTH\n\t\t\t\t: (position === \"left\" || position === \"right\") && !isCurrentFullWidth\n\t\t\t\t\t? Math.min(maxTreeWidth, Math.max(MIN_CONTAINER_WIDTH, defaultWidth))\n\t\t\t\t\t: Math.min(\n\t\t\t\t\t\t\tmaxTreeWidth,\n\t\t\t\t\t\t\tMath.max(MIN_CONTAINER_WIDTH, currentTreeWidth),\n\t\t\t\t\t\t)\n\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tsignalWidget.value = {\n\t\t\t\t\tcorner: newCorner,\n\t\t\t\t\tdimensions: newDimensions,\n\t\t\t\t\tlastDimensions: dimensions,\n\t\t\t\t\tcomponentsTree: {\n\t\t\t\t\t\t...signalWidget.value.componentsTree,\n\t\t\t\t\t\twidth: newTreeWidth,\n\t\t\t\t\t},\n\t\t\t\t}\n\n\t\t\t\tcontainerStyle.transition = \"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)\"\n\t\t\t\tcontainerStyle.width = `${newWidth}px`\n\t\t\t\tcontainerStyle.height = `${newHeight}px`\n\t\t\t\tcontainerStyle.transform = `translate3d(${newPosition.x}px, ${newPosition.y}px, 0)`\n\t\t\t})\n\n\t\t\tsaveLocalStorage(LOCALSTORAGE_KEY, {\n\t\t\t\tcorner: newCorner,\n\t\t\t\tdimensions: newDimensions,\n\t\t\t\tlastDimensions: dimensions,\n\t\t\t\tcomponentsTree: {\n\t\t\t\t\t...signalWidget.value.componentsTree,\n\t\t\t\t\twidth: newTreeWidth,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\t[],\n\t)\n\n\treturn (\n\t\t<div\n\t\t\tref={refContainer}\n\t\t\tonPointerDown={handleResize}\n\t\t\tonDblClick={handleDoubleClick}\n\t\t\tclassName={cn(\n\t\t\t\t\"absolute z-50\",\n\t\t\t\t\"flex items-center justify-center\",\n\t\t\t\t\"group\",\n\t\t\t\t\"transition-colors select-none\",\n\t\t\t\t\"peer\",\n\t\t\t\t{\n\t\t\t\t\t\"resize-left peer/left\": position === \"left\",\n\t\t\t\t\t\"resize-right peer/right z-10\": position === \"right\",\n\t\t\t\t\t\"resize-top peer/top\": position === \"top\",\n\t\t\t\t\t\"resize-bottom peer/bottom\": position === \"bottom\",\n\t\t\t\t},\n\t\t\t)}\n\t\t>\n\t\t\t<span className=\"resize-line-wrapper\">\n\t\t\t\t<span className=\"resize-line\">\n\t\t\t\t\t<Icon\n\t\t\t\t\t\tname=\"icon-ellipsis\"\n\t\t\t\t\t\tsize={18}\n\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\"text-neutral-400\",\n\t\t\t\t\t\t\t(position === \"left\" || position === \"right\") && \"rotate-90\",\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t</div>\n\t)\n}\n","import { createContext, type JSX } from \"preact\"\nimport { useCallback, useEffect, useRef, useState } from \"preact/hooks\"\nimport { Store, ReactDevtoolInternals } from \"~core/index\"\nimport {\n\tcn,\n\tsaveLocalStorage,\n\tremoveLocalStorage,\n\treadLocalStorage,\n} from \"~web/utils/helpers\"\nimport { Content } from \"~web/views\"\nimport { ScanOverlay } from \"~web/views/inspector/overlay\"\nimport {\n\tLOCALSTORAGE_KEY,\n\tLOCALSTORAGE_COLLAPSED_KEY,\n\tMIN_SIZE,\n\tSAFE_AREA,\n\tLOCALSTORAGE_LAST_VIEW_KEY,\n} from \"../constants\"\nimport {\n\tdefaultWidgetConfig,\n\tsignalRefWidget,\n\tsignalWidget,\n\tsignalWidgetViews,\n\tupdateDimensions,\n\ttype WidgetStates,\n} from \"../state\"\nimport {\n\tcalculateBoundedSize,\n\tcalculatePosition,\n\tgetBestCorner,\n} from \"./helpers\"\nimport { ResizeHandle } from \"./resize-handle\"\nimport { signalWidgetCollapsed } from \"~web/state\"\nimport { Icon } from \"~web/components/icon\"\nimport type { Corner } from \"./types\"\nimport type { CollapsedPosition } from \"./types\"\n\nconst COLLAPSED_SIZE = {\n\thorizontal: { width: 20, height: 48 },\n\tvertical: { width: 48, height: 20 },\n} as const\n\nexport const Widget = () => {\n\tconst refWidget = useRef<HTMLDivElement | null>(null)\n\tconst refShouldOpen = useRef<boolean>(false)\n\n\tconst refInitialMinimizedWidth = useRef<number>(0)\n\tconst refInitialMinimizedHeight = useRef<number>(0)\n\tconst refExpandingFromCollapsed = useRef<boolean>(false)\n\n\tconst updateWidgetPosition = useCallback((shouldSave = true) => {\n\t\tif (!refWidget.current) return\n\n\t\tconst { corner } = signalWidget.value\n\t\tlet newWidth: number\n\t\tlet newHeight: number\n\n\t\tif (signalWidgetCollapsed.value) {\n\t\t\tconst orientation =\n\t\t\t\tsignalWidgetCollapsed.value.orientation || \"horizontal\"\n\t\t\tconst size = COLLAPSED_SIZE[orientation]\n\t\t\tnewWidth = size.width\n\t\t\tnewHeight = size.height\n\t\t} else if (refShouldOpen.current) {\n\t\t\tconst lastDims = signalWidget.value.lastDimensions\n\t\t\tnewWidth = calculateBoundedSize(lastDims.width, 0, true)\n\t\t\tnewHeight = calculateBoundedSize(lastDims.height, 0, false)\n\n\t\t\tif (refExpandingFromCollapsed.current) {\n\t\t\t\trefExpandingFromCollapsed.current = false\n\t\t\t}\n\t\t} else {\n\t\t\tnewWidth = refInitialMinimizedWidth.current\n\t\t\tnewHeight = refInitialMinimizedHeight.current\n\t\t}\n\n\t\tconst newPosition = calculatePosition(corner, newWidth, newHeight)\n\n\t\t// When collapsed, override position so arrow is flush against the viewport edge.\n\t\tlet finalPosition = newPosition\n\t\tif (signalWidgetCollapsed.value) {\n\t\t\tconst { corner: collapsedCorner, orientation = \"horizontal\" } =\n\t\t\t\tsignalWidgetCollapsed.value\n\t\t\tconst size = COLLAPSED_SIZE[orientation]\n\n\t\t\tswitch (collapsedCorner) {\n\t\t\t\tcase \"top-left\":\n\t\t\t\t\tfinalPosition =\n\t\t\t\t\t\torientation === \"horizontal\"\n\t\t\t\t\t\t\t? { x: -1, y: SAFE_AREA }\n\t\t\t\t\t\t\t: { x: SAFE_AREA, y: -1 }\n\t\t\t\t\tbreak\n\t\t\t\tcase \"bottom-left\":\n\t\t\t\t\tfinalPosition =\n\t\t\t\t\t\torientation === \"horizontal\"\n\t\t\t\t\t\t\t? { x: -1, y: window.innerHeight - size.height - SAFE_AREA }\n\t\t\t\t\t\t\t: { x: SAFE_AREA, y: window.innerHeight - size.height + 1 }\n\t\t\t\t\tbreak\n\t\t\t\tcase \"top-right\":\n\t\t\t\t\tfinalPosition =\n\t\t\t\t\t\torientation === \"horizontal\"\n\t\t\t\t\t\t\t? { x: window.innerWidth - size.width + 1, y: SAFE_AREA }\n\t\t\t\t\t\t\t: { x: window.innerWidth - size.width - SAFE_AREA, y: -1 }\n\t\t\t\t\tbreak\n\t\t\t\tcase \"bottom-right\":\n\t\t\t\tdefault:\n\t\t\t\t\tfinalPosition =\n\t\t\t\t\t\torientation === \"horizontal\"\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\tx: window.innerWidth - size.width + 1,\n\t\t\t\t\t\t\t\t\ty: window.innerHeight - size.height - SAFE_AREA,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\tx: window.innerWidth - size.width - SAFE_AREA,\n\t\t\t\t\t\t\t\t\ty: window.innerHeight - size.height + 1,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\tconst isTooSmall =\n\t\t\tnewWidth < MIN_SIZE.width || newHeight < MIN_SIZE.initialHeight\n\t\tconst shouldPersist = shouldSave && !isTooSmall\n\n\t\tconst container = refWidget.current\n\t\tconst containerStyle = container.style\n\n\t\tlet rafId: number | null = null\n\t\tconst onTransitionEnd = () => {\n\t\t\tupdateDimensions()\n\t\t\tcontainer.removeEventListener(\"transitionend\", onTransitionEnd)\n\t\t\tif (rafId) {\n\t\t\t\tcancelAnimationFrame(rafId)\n\t\t\t\trafId = null\n\t\t\t}\n\t\t}\n\n\t\tcontainer.addEventListener(\"transitionend\", onTransitionEnd)\n\t\tcontainerStyle.transition = \"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)\"\n\n\t\trafId = requestAnimationFrame(() => {\n\t\t\tcontainerStyle.width = `${newWidth}px`\n\t\t\tcontainerStyle.height = `${newHeight}px`\n\t\t\tcontainerStyle.transform = `translate3d(${finalPosition.x}px, ${finalPosition.y}px, 0)`\n\t\t\trafId = null\n\t\t})\n\n\t\tconst newDimensions = {\n\t\t\tisFullWidth: newWidth >= window.innerWidth - SAFE_AREA * 2,\n\t\t\tisFullHeight: newHeight >= window.innerHeight - SAFE_AREA * 2,\n\t\t\twidth: newWidth,\n\t\t\theight: newHeight,\n\t\t\tposition: finalPosition,\n\t\t}\n\n\t\tsignalWidget.value = {\n\t\t\tcorner,\n\t\t\tdimensions: newDimensions,\n\t\t\tlastDimensions: refShouldOpen\n\t\t\t\t? signalWidget.value.lastDimensions\n\t\t\t\t: newWidth > refInitialMinimizedWidth.current\n\t\t\t\t\t? newDimensions\n\t\t\t\t\t: signalWidget.value.lastDimensions,\n\t\t\tcomponentsTree: signalWidget.value.componentsTree,\n\t\t}\n\n\t\tif (shouldPersist) {\n\t\t\tsaveLocalStorage(LOCALSTORAGE_KEY, {\n\t\t\t\tcorner: signalWidget.value.corner,\n\t\t\t\tdimensions: signalWidget.value.dimensions,\n\t\t\t\tlastDimensions: signalWidget.value.lastDimensions,\n\t\t\t\tcomponentsTree: signalWidget.value.componentsTree,\n\t\t\t})\n\t\t}\n\n\t\tupdateDimensions()\n\t}, [])\n\n\tconst handleDrag = useCallback(\n\t\t(e: JSX.TargetedPointerEvent<HTMLDivElement>) => {\n\t\t\te.preventDefault()\n\n\t\t\tif (\n\t\t\t\t!refWidget.current ||\n\t\t\t\t(e.target as HTMLElement).closest(\"button\") ||\n\t\t\t\t(e.target as HTMLElement).closest(\"input\") ||\n\t\t\t\t(e.target as HTMLElement).closest(\"select\")\n\t\t\t)\n\t\t\t\treturn\n\n\t\t\tconst container = refWidget.current\n\t\t\tconst containerStyle = container.style\n\t\t\tconst { dimensions } = signalWidget.value\n\n\t\t\tconst initialMouseX = e.clientX\n\t\t\tconst initialMouseY = e.clientY\n\n\t\t\tconst initialX = dimensions.position.x\n\t\t\tconst initialY = dimensions.position.y\n\n\t\t\tlet currentX = initialX\n\t\t\tlet currentY = initialY\n\t\t\tlet rafId: number | null = null\n\t\t\tlet hasMoved = false\n\t\t\tlet lastMouseX = initialMouseX\n\t\t\tlet lastMouseY = initialMouseY\n\n\t\t\tconst handlePointerMove = (e: globalThis.PointerEvent) => {\n\t\t\t\tif (rafId) return\n\n\t\t\t\thasMoved = true\n\t\t\t\tlastMouseX = e.clientX\n\t\t\t\tlastMouseY = e.clientY\n\n\t\t\t\trafId = requestAnimationFrame(() => {\n\t\t\t\t\tconst deltaX = lastMouseX - initialMouseX\n\t\t\t\t\tconst deltaY = lastMouseY - initialMouseY\n\n\t\t\t\t\tcurrentX = Number(initialX) + deltaX\n\t\t\t\t\tcurrentY = Number(initialY) + deltaY\n\n\t\t\t\t\t/* [CURSOR GENERATED] Anti-blur fix:\n\t\t\t\t\t * Changed from transition: 'all' and transform: translate() to:\n\t\t\t\t\t * 1. transition: none - Prevents interpolation blur during drag\n\t\t\t\t\t * 2. translate3d - Forces GPU acceleration for crisp text\n\t\t\t\t\t */\n\t\t\t\t\tcontainerStyle.transition = \"none\"\n\t\t\t\t\tcontainerStyle.transform = `translate3d(${currentX}px, ${currentY}px, 0)`\n\n\t\t\t\t\tconst widgetRight = currentX + dimensions.width\n\t\t\t\t\tconst widgetBottom = currentY + dimensions.height\n\n\t\t\t\t\tconst outsideLeft = Math.max(0, -currentX)\n\t\t\t\t\tconst outsideRight = Math.max(0, widgetRight - window.innerWidth)\n\t\t\t\t\tconst outsideTop = Math.max(0, -currentY)\n\t\t\t\t\tconst outsideBottom = Math.max(0, widgetBottom - window.innerHeight)\n\n\t\t\t\t\tconst horizontalOutside = Math.min(\n\t\t\t\t\t\tdimensions.width,\n\t\t\t\t\t\toutsideLeft + outsideRight,\n\t\t\t\t\t)\n\t\t\t\t\tconst verticalOutside = Math.min(\n\t\t\t\t\t\tdimensions.height,\n\t\t\t\t\t\toutsideTop + outsideBottom,\n\t\t\t\t\t)\n\t\t\t\t\tconst areaOutside =\n\t\t\t\t\t\thorizontalOutside * dimensions.height +\n\t\t\t\t\t\tverticalOutside * dimensions.width -\n\t\t\t\t\t\thorizontalOutside * verticalOutside\n\t\t\t\t\tconst totalArea = dimensions.width * dimensions.height\n\n\t\t\t\t\t// todo: delete this doesn't do anything\n\t\t\t\t\tlet shouldCollapse = areaOutside > totalArea * 0.35\n\n\t\t\t\t\tif (!shouldCollapse && ReactDevtoolInternals.options.value.showFPS) {\n\t\t\t\t\t\tconst fpsRight = currentX + dimensions.width\n\t\t\t\t\t\tconst fpsLeft = fpsRight - 100\n\n\t\t\t\t\t\tconst fpsFullyOutside =\n\t\t\t\t\t\t\tfpsRight <= 0 ||\n\t\t\t\t\t\t\tfpsLeft >= window.innerWidth ||\n\t\t\t\t\t\t\tcurrentY + dimensions.height <= 0 ||\n\t\t\t\t\t\t\tcurrentY >= window.innerHeight\n\n\t\t\t\t\t\tshouldCollapse = fpsFullyOutside\n\t\t\t\t\t}\n\n\t\t\t\t\tif (shouldCollapse) {\n\t\t\t\t\t\tconst widgetCenterX = currentX + dimensions.width / 2\n\t\t\t\t\t\tconst widgetCenterY = currentY + dimensions.height / 2\n\t\t\t\t\t\tconst screenCenterX = window.innerWidth / 2\n\t\t\t\t\t\tconst screenCenterY = window.innerHeight / 2\n\n\t\t\t\t\t\tlet targetCorner: Corner\n\t\t\t\t\t\tif (widgetCenterX < screenCenterX) {\n\t\t\t\t\t\t\ttargetCorner =\n\t\t\t\t\t\t\t\twidgetCenterY < screenCenterY ? \"top-left\" : \"bottom-left\"\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttargetCorner =\n\t\t\t\t\t\t\t\twidgetCenterY < screenCenterY ? \"top-right\" : \"bottom-right\"\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet orientation: \"horizontal\" | \"vertical\"\n\t\t\t\t\t\tconst horizontalOverflow = Math.max(outsideLeft, outsideRight)\n\t\t\t\t\t\tconst verticalOverflow = Math.max(outsideTop, outsideBottom)\n\n\t\t\t\t\t\torientation =\n\t\t\t\t\t\t\thorizontalOverflow > verticalOverflow ? \"horizontal\" : \"vertical\"\n\n\t\t\t\t\t\tsignalWidget.value = {\n\t\t\t\t\t\t\t...signalWidget.value,\n\t\t\t\t\t\t\tcorner: targetCorner,\n\t\t\t\t\t\t\tlastDimensions: {\n\t\t\t\t\t\t\t\t...dimensions,\n\t\t\t\t\t\t\t\tposition: calculatePosition(\n\t\t\t\t\t\t\t\t\ttargetCorner,\n\t\t\t\t\t\t\t\t\tdimensions.width,\n\t\t\t\t\t\t\t\t\tdimensions.height,\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst collapsedPosition: CollapsedPosition = {\n\t\t\t\t\t\t\tcorner: targetCorner,\n\t\t\t\t\t\t\torientation,\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsignalWidgetCollapsed.value = collapsedPosition\n\t\t\t\t\t\tsaveLocalStorage(LOCALSTORAGE_COLLAPSED_KEY, collapsedPosition)\n\t\t\t\t\t\tsaveLocalStorage(LOCALSTORAGE_KEY, signalWidget.value)\n\t\t\t\t\t\tupdateWidgetPosition(false)\n\n\t\t\t\t\t\tdocument.removeEventListener(\"pointermove\", handlePointerMove)\n\t\t\t\t\t\tdocument.removeEventListener(\"pointerup\", handlePointerEnd)\n\t\t\t\t\t\tif (rafId) {\n\t\t\t\t\t\t\tcancelAnimationFrame(rafId)\n\t\t\t\t\t\t\trafId = null\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\trafId = null\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst handlePointerEnd = () => {\n\t\t\t\tif (!container) return\n\n\t\t\t\tif (rafId) {\n\t\t\t\t\tcancelAnimationFrame(rafId)\n\t\t\t\t\trafId = null\n\t\t\t\t}\n\n\t\t\t\tdocument.removeEventListener(\"pointermove\", handlePointerMove)\n\t\t\t\tdocument.removeEventListener(\"pointerup\", handlePointerEnd)\n\n\t\t\t\t// Calculate total movement distance\n\t\t\t\tconst totalDeltaX = Math.abs(lastMouseX - initialMouseX)\n\t\t\t\tconst totalDeltaY = Math.abs(lastMouseY - initialMouseY)\n\t\t\t\tconst totalMovement = Math.sqrt(\n\t\t\t\t\ttotalDeltaX * totalDeltaX + totalDeltaY * totalDeltaY,\n\t\t\t\t)\n\n\t\t\t\t// Only consider it a move if we moved more than 60 pixels\n\t\t\t\tif (!hasMoved || totalMovement < 60) return\n\n\t\t\t\tconst newCorner = getBestCorner(\n\t\t\t\t\tlastMouseX,\n\t\t\t\t\tlastMouseY,\n\t\t\t\t\tinitialMouseX,\n\t\t\t\t\tinitialMouseY,\n\t\t\t\t\tStore.inspectState.value.kind === \"focused\" ? 80 : 40,\n\t\t\t\t)\n\n\t\t\t\tif (newCorner === signalWidget.value.corner) {\n\t\t\t\t\t/* [CURSOR GENERATED] Anti-blur fix:\n\t\t\t\t\t * Changed from transition: 'all' to transition: 'transform'\n\t\t\t\t\t * to prevent unnecessary property interpolation that was\n\t\t\t\t\t * causing text blur during animation\n\t\t\t\t\t */\n\t\t\t\t\tcontainerStyle.transition =\n\t\t\t\t\t\t\"transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)\"\n\t\t\t\t\tconst currentPosition = signalWidget.value.dimensions.position\n\t\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\t\tcontainerStyle.transform = `translate3d(${currentPosition.x}px, ${currentPosition.y}px, 0)`\n\t\t\t\t\t})\n\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tconst snappedPosition = calculatePosition(\n\t\t\t\t\tnewCorner,\n\t\t\t\t\tdimensions.width,\n\t\t\t\t\tdimensions.height,\n\t\t\t\t)\n\n\t\t\t\tif (currentX === initialX && currentY === initialY) return\n\n\t\t\t\tconst onTransitionEnd = () => {\n\t\t\t\t\tcontainerStyle.transition = \"none\"\n\t\t\t\t\tupdateDimensions()\n\t\t\t\t\tcontainer.removeEventListener(\"transitionend\", onTransitionEnd)\n\t\t\t\t\tif (rafId) {\n\t\t\t\t\t\tcancelAnimationFrame(rafId)\n\t\t\t\t\t\trafId = null\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcontainer.addEventListener(\"transitionend\", onTransitionEnd)\n\t\t\t\tcontainerStyle.transition =\n\t\t\t\t\t\"transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)\"\n\n\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\tcontainerStyle.transform = `translate3d(${snappedPosition.x}px, ${snappedPosition.y}px, 0)`\n\t\t\t\t})\n\n\t\t\t\tsignalWidget.value = {\n\t\t\t\t\tcorner: newCorner,\n\t\t\t\t\tdimensions: {\n\t\t\t\t\t\tisFullWidth: dimensions.isFullWidth,\n\t\t\t\t\t\tisFullHeight: dimensions.isFullHeight,\n\t\t\t\t\t\twidth: dimensions.width,\n\t\t\t\t\t\theight: dimensions.height,\n\t\t\t\t\t\tposition: snappedPosition,\n\t\t\t\t\t},\n\t\t\t\t\tlastDimensions: signalWidget.value.lastDimensions,\n\t\t\t\t\tcomponentsTree: signalWidget.value.componentsTree,\n\t\t\t\t}\n\n\t\t\t\tsaveLocalStorage(LOCALSTORAGE_KEY, {\n\t\t\t\t\tcorner: newCorner,\n\t\t\t\t\tdimensions: signalWidget.value.dimensions,\n\t\t\t\t\tlastDimensions: signalWidget.value.lastDimensions,\n\t\t\t\t\tcomponentsTree: signalWidget.value.componentsTree,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tdocument.addEventListener(\"pointermove\", handlePointerMove)\n\t\t\tdocument.addEventListener(\"pointerup\", handlePointerEnd)\n\t\t},\n\t\t[],\n\t)\n\n\tconst handleCollapsedDrag = useCallback(\n\t\t(e: JSX.TargetedPointerEvent<HTMLDivElement>) => {\n\t\t\te.preventDefault()\n\n\t\t\tif (!refWidget.current || !signalWidgetCollapsed.value) return\n\n\t\t\tconst { corner: collapsedCorner, orientation = \"horizontal\" } =\n\t\t\t\tsignalWidgetCollapsed.value\n\n\t\t\tconst initialMouseX = e.clientX\n\t\t\tconst initialMouseY = e.clientY\n\n\t\t\tlet rafId: number | null = null\n\t\t\tlet hasExpanded = false\n\n\t\t\tconst DRAG_THRESHOLD = 50\n\n\t\t\tconst handlePointerMove = (e: globalThis.PointerEvent) => {\n\t\t\t\tif (hasExpanded || rafId) return\n\n\t\t\t\tconst deltaX = e.clientX - initialMouseX\n\t\t\t\tconst deltaY = e.clientY - initialMouseY\n\n\t\t\t\tlet shouldExpand = false\n\n\t\t\t\tif (orientation === \"horizontal\") {\n\t\t\t\t\tif (collapsedCorner.endsWith(\"left\") && deltaX > DRAG_THRESHOLD) {\n\t\t\t\t\t\tshouldExpand = true\n\t\t\t\t\t} else if (\n\t\t\t\t\t\tcollapsedCorner.endsWith(\"right\") &&\n\t\t\t\t\t\tdeltaX < -DRAG_THRESHOLD\n\t\t\t\t\t) {\n\t\t\t\t\t\tshouldExpand = true\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (collapsedCorner.startsWith(\"top\") && deltaY > DRAG_THRESHOLD) {\n\t\t\t\t\t\tshouldExpand = true\n\t\t\t\t\t} else if (\n\t\t\t\t\t\tcollapsedCorner.startsWith(\"bottom\") &&\n\t\t\t\t\t\tdeltaY < -DRAG_THRESHOLD\n\t\t\t\t\t) {\n\t\t\t\t\t\tshouldExpand = true\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (shouldExpand) {\n\t\t\t\t\thasExpanded = true\n\n\t\t\t\t\tsignalWidgetCollapsed.value = null\n\t\t\t\t\tsaveLocalStorage(LOCALSTORAGE_COLLAPSED_KEY, null)\n\n\t\t\t\t\tif (refInitialMinimizedWidth.current === 0 && refWidget.current) {\n\t\t\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\t\t\tif (refWidget.current) {\n\t\t\t\t\t\t\t\trefWidget.current.style.width = \"min-content\"\n\t\t\t\t\t\t\t\tconst naturalWidth = refWidget.current.offsetWidth\n\t\t\t\t\t\t\t\trefInitialMinimizedWidth.current = naturalWidth || 300\n\n\t\t\t\t\t\t\t\tconst lastDims = signalWidget.value.lastDimensions\n\t\t\t\t\t\t\t\tconst targetWidth = calculateBoundedSize(\n\t\t\t\t\t\t\t\t\tlastDims.width,\n\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\tconst targetHeight = calculateBoundedSize(\n\t\t\t\t\t\t\t\t\tlastDims.height,\n\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t\tlet newX = e.clientX - targetWidth / 2\n\t\t\t\t\t\t\t\tlet newY = e.clientY - targetHeight / 2\n\n\t\t\t\t\t\t\t\tnewX = Math.max(\n\t\t\t\t\t\t\t\t\tSAFE_AREA,\n\t\t\t\t\t\t\t\t\tMath.min(newX, window.innerWidth - targetWidth - SAFE_AREA),\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\tnewY = Math.max(\n\t\t\t\t\t\t\t\t\tSAFE_AREA,\n\t\t\t\t\t\t\t\t\tMath.min(newY, window.innerHeight - targetHeight - SAFE_AREA),\n\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t\tsignalWidget.value = {\n\t\t\t\t\t\t\t\t\t...signalWidget.value,\n\t\t\t\t\t\t\t\t\tdimensions: {\n\t\t\t\t\t\t\t\t\t\t...signalWidget.value.dimensions,\n\t\t\t\t\t\t\t\t\t\tposition: { x: newX, y: newY },\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tupdateWidgetPosition(true)\n\n\t\t\t\t\t\t\t\tconst savedView = readLocalStorage<WidgetStates>(\n\t\t\t\t\t\t\t\t\tLOCALSTORAGE_LAST_VIEW_KEY,\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\tsignalWidgetViews.value = savedView || { view: \"none\" }\n\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tif (refWidget.current) {\n\t\t\t\t\t\t\t\t\t\tconst dragEvent = new PointerEvent(\"pointerdown\", {\n\t\t\t\t\t\t\t\t\t\t\tclientX: e.clientX,\n\t\t\t\t\t\t\t\t\t\t\tclientY: e.clientY,\n\t\t\t\t\t\t\t\t\t\t\tpointerId: e.pointerId,\n\t\t\t\t\t\t\t\t\t\t\tbubbles: true,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\trefWidget.current.dispatchEvent(dragEvent)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}, 100)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tupdateWidgetPosition(true)\n\t\t\t\t\t\tconst savedView = readLocalStorage<WidgetStates>(\n\t\t\t\t\t\t\tLOCALSTORAGE_LAST_VIEW_KEY,\n\t\t\t\t\t\t)\n\t\t\t\t\t\tsignalWidgetViews.value = savedView || { view: \"none\" }\n\t\t\t\t\t}\n\n\t\t\t\t\tdocument.removeEventListener(\"pointermove\", handlePointerMove)\n\t\t\t\t\tdocument.removeEventListener(\"pointerup\", handlePointerEnd)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst handlePointerEnd = () => {\n\t\t\t\tif (rafId) {\n\t\t\t\t\tcancelAnimationFrame(rafId)\n\t\t\t\t\trafId = null\n\t\t\t\t}\n\t\t\t\tdocument.removeEventListener(\"pointermove\", handlePointerMove)\n\t\t\t\tdocument.removeEventListener(\"pointerup\", handlePointerEnd)\n\t\t\t}\n\n\t\t\tdocument.addEventListener(\"pointermove\", handlePointerMove)\n\t\t\tdocument.addEventListener(\"pointerup\", handlePointerEnd)\n\t\t},\n\t\t[],\n\t)\n\n\t// biome-ignore lint/correctness/useExhaustiveDependencies: no deps\n\tuseEffect(() => {\n\t\tif (!refWidget.current) return\n\n\t\tremoveLocalStorage(LOCALSTORAGE_LAST_VIEW_KEY)\n\n\t\tif (!signalWidgetCollapsed.value) {\n\t\t\trefWidget.current.style.width = \"min-content\"\n\t\t\trefInitialMinimizedHeight.current = 36 // height of the header\n\t\t\trefInitialMinimizedWidth.current = refWidget.current.offsetWidth\n\t\t} else {\n\t\t\trefInitialMinimizedHeight.current = 36\n\t\t\trefInitialMinimizedWidth.current = 0\n\t\t}\n\n\t\trefWidget.current.style.maxWidth = `calc(100vw - ${SAFE_AREA * 2}px)`\n\t\trefWidget.current.style.maxHeight = `calc(100vh - ${SAFE_AREA * 2}px)`\n\n\t\tupdateWidgetPosition()\n\n\t\tif (\n\t\t\tStore.inspectState.value.kind !== \"focused\" &&\n\t\t\t!signalWidgetCollapsed.value &&\n\t\t\t!refExpandingFromCollapsed.current\n\t\t) {\n\t\t\tsignalWidget.value = {\n\t\t\t\t...signalWidget.value,\n\t\t\t\tdimensions: {\n\t\t\t\t\tisFullWidth: false,\n\t\t\t\t\tisFullHeight: false,\n\t\t\t\t\twidth: refInitialMinimizedWidth.current,\n\t\t\t\t\theight: refInitialMinimizedHeight.current,\n\t\t\t\t\tposition: signalWidget.value.dimensions.position,\n\t\t\t\t},\n\t\t\t}\n\t\t}\n\n\t\tsignalRefWidget.value = refWidget.current\n\n\t\tconst unsubscribeSignalWidget = signalWidget.subscribe((widget) => {\n\t\t\tif (!refWidget.current) return\n\n\t\t\tconst { x, y } = widget.dimensions.position\n\t\t\tconst { width, height } = widget.dimensions\n\t\t\tconst container = refWidget.current\n\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tcontainer.style.transform = `translate3d(${x}px, ${y}px, 0)`\n\t\t\t\tcontainer.style.width = `${width}px`\n\t\t\t\tcontainer.style.height = `${height}px`\n\t\t\t})\n\t\t})\n\n\t\tconst unsubscribeSignalWidgetViews = signalWidgetViews.subscribe(\n\t\t\t(state) => {\n\t\t\t\trefShouldOpen.current = state.view !== \"none\"\n\t\t\t\tupdateWidgetPosition()\n\n\t\t\t\tif (!signalWidgetCollapsed.value) {\n\t\t\t\t\tif (state.view !== \"none\") {\n\t\t\t\t\t\tsaveLocalStorage(LOCALSTORAGE_LAST_VIEW_KEY, state)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tremoveLocalStorage(LOCALSTORAGE_LAST_VIEW_KEY)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t)\n\n\t\tconst unsubscribeStoreInspectState = Store.inspectState.subscribe(\n\t\t\t(state) => {\n\t\t\t\trefShouldOpen.current = state.kind === \"focused\"\n\t\t\t\tupdateWidgetPosition()\n\t\t\t},\n\t\t)\n\n\t\tconst handleWindowResize = () => {\n\t\t\tupdateWidgetPosition(true)\n\t\t}\n\n\t\twindow.addEventListener(\"resize\", handleWindowResize, { passive: true })\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"resize\", handleWindowResize)\n\t\t\tunsubscribeSignalWidgetViews()\n\t\t\tunsubscribeStoreInspectState()\n\t\t\tunsubscribeSignalWidget()\n\n\t\t\tsaveLocalStorage(LOCALSTORAGE_KEY, {\n\t\t\t\t...defaultWidgetConfig,\n\t\t\t\tcorner: signalWidget.value.corner,\n\t\t\t})\n\t\t}\n\t}, [])\n\n\t// i don't want to put the ref in state, so this is the solution to force context to propagate it\n\tconst [_, setTriggerRender] = useState(false)\n\tuseEffect(() => {\n\t\tsetTriggerRender(true)\n\t}, [])\n\n\tconst isCollapsed = signalWidgetCollapsed.value\n\n\tlet arrowRotationClass = \"\"\n\tif (isCollapsed) {\n\t\tconst { orientation = \"horizontal\", corner } = isCollapsed\n\t\tif (orientation === \"horizontal\") {\n\t\t\tarrowRotationClass = corner?.endsWith(\"right\") ? \"rotate-180\" : \"\"\n\t\t} else {\n\t\t\tarrowRotationClass = corner?.startsWith(\"bottom\")\n\t\t\t\t? \"-rotate-90\"\n\t\t\t\t: \"rotate-90\"\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ScanOverlay />\n\t\t\t<ToolbarElementContext.Provider value={refWidget.current}>\n\t\t\t\t<div\n\t\t\t\t\tid=\"react-devtool-toolbar\"\n\t\t\t\t\tdir=\"ltr\"\n\t\t\t\t\tref={refWidget}\n\t\t\t\t\tonPointerDown={!isCollapsed ? handleDrag : handleCollapsedDrag}\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"fixed inset-0\",\n\t\t\t\t\t\tisCollapsed\n\t\t\t\t\t\t\t? (() => {\n\t\t\t\t\t\t\t\t\tconst { orientation = \"horizontal\", corner } = isCollapsed\n\t\t\t\t\t\t\t\t\tif (orientation === \"horizontal\") {\n\t\t\t\t\t\t\t\t\t\treturn corner?.endsWith(\"right\")\n\t\t\t\t\t\t\t\t\t\t\t? \"rounded-tl-lg rounded-bl-lg shadow-lg\"\n\t\t\t\t\t\t\t\t\t\t\t: \"rounded-tr-lg rounded-br-lg shadow-lg\"\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn corner?.startsWith(\"bottom\")\n\t\t\t\t\t\t\t\t\t\t\t? \"rounded-tl-lg rounded-tr-lg shadow-lg\"\n\t\t\t\t\t\t\t\t\t\t\t: \"rounded-bl-lg rounded-br-lg shadow-lg\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})()\n\t\t\t\t\t\t\t: \"rounded-lg shadow-lg\",\n\t\t\t\t\t\t\"flex flex-col\",\n\t\t\t\t\t\t\"font-mono text-[13px]\",\n\t\t\t\t\t\t\"user-select-none\",\n\t\t\t\t\t\t\"opacity-0\",\n\t\t\t\t\t\tisCollapsed ? \"cursor-pointer\" : \"cursor-move\",\n\t\t\t\t\t\t\"z-[124124124124]\",\n\t\t\t\t\t\t\"animate-fade-in animation-duration-300 animation-delay-300\",\n\t\t\t\t\t\t\"will-change-transform\",\n\t\t\t\t\t\t\"[touch-action:none]\",\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{/* this entire feature is vibe coded don't think too hard about the code its probably very non coherent */}\n\t\t\t\t\t{isCollapsed ? (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsignalWidgetCollapsed.value = null\n\t\t\t\t\t\t\t\tsaveLocalStorage(LOCALSTORAGE_COLLAPSED_KEY, null)\n\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\trefInitialMinimizedWidth.current === 0 &&\n\t\t\t\t\t\t\t\t\trefWidget.current\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\t\t\t\t\t\tif (refWidget.current) {\n\t\t\t\t\t\t\t\t\t\t\trefWidget.current.style.width = \"min-content\"\n\t\t\t\t\t\t\t\t\t\t\tconst naturalWidth = refWidget.current.offsetWidth\n\t\t\t\t\t\t\t\t\t\t\trefInitialMinimizedWidth.current = naturalWidth || 300\n\t\t\t\t\t\t\t\t\t\t\tupdateWidgetPosition(true)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tconst savedView = readLocalStorage<WidgetStates>(\n\t\t\t\t\t\t\t\t\tLOCALSTORAGE_LAST_VIEW_KEY,\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\tsignalWidgetViews.value = savedView || { view: \"none\" }\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"flex items-center justify-center w-full h-full text-white\"\n\t\t\t\t\t\t\ttitle=\"Expand toolbar\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\tname=\"icon-chevron-right\"\n\t\t\t\t\t\t\t\tsize={16}\n\t\t\t\t\t\t\t\tclassName={cn(\"transition-transform\", arrowRotationClass)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<ResizeHandle position=\"top\" />\n\t\t\t\t\t\t\t<ResizeHandle position=\"bottom\" />\n\t\t\t\t\t\t\t<ResizeHandle position=\"left\" />\n\t\t\t\t\t\t\t<ResizeHandle position=\"right\" />\n\t\t\t\t\t\t\t<Content />\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</ToolbarElementContext.Provider>\n\t\t</>\n\t)\n}\n\nconst ToolbarElementContext = createContext<HTMLElement | null>(null)\n","export const SvgSprite = () => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" style=\"display: none;\">\n\t\t\t<title>React Devtool Icons</title>\n\t\t\t<symbol\n\t\t\t\tid=\"icon-inspect\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t>\n\t\t\t\t<title>Inspect</title>\n\t\t\t\t<path d=\"M12.034 12.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.943l-3.444 1.068a1 1 0 0 0-.66.66l-1.067 3.443a.5.5 0 0 1-.943.033z\" />\n\t\t\t\t<path d=\"M5 3a2 2 0 0 0-2 2\" />\n\t\t\t\t<path d=\"M19 3a2 2 0 0 1 2 2\" />\n\t\t\t\t<path d=\"M5 21a2 2 0 0 1-2-2\" />\n\t\t\t\t<path d=\"M9 3h1\" />\n\t\t\t\t<path d=\"M9 21h2\" />\n\t\t\t\t<path d=\"M14 3h1\" />\n\t\t\t\t<path d=\"M3 9v1\" />\n\t\t\t\t<path d=\"M21 9v2\" />\n\t\t\t\t<path d=\"M3 14v1\" />\n\t\t\t</symbol>\n\n\t\t\t<symbol\n\t\t\t\tid=\"icon-focus\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t>\n\t\t\t\t<title>Focus</title>\n\t\t\t\t<path d=\"M12.034 12.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.943l-3.444 1.068a1 1 0 0 0-.66.66l-1.067 3.443a.5.5 0 0 1-.943.033z\" />\n\t\t\t\t<path d=\"M21 11V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6\" />\n\t\t\t</symbol>\n\n\t\t\t<symbol\n\t\t\t\tid=\"icon-next\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t>\n\t\t\t\t<title>Next</title>\n\t\t\t\t<path d=\"M6 9h6V5l7 7-7 7v-4H6V9z\" />\n\t\t\t</symbol>\n\n\t\t\t<symbol\n\t\t\t\tid=\"icon-previous\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t>\n\t\t\t\t<title>Previous</title>\n\t\t\t\t<path d=\"M18 15h-6v4l-7-7 7-7v4h6v6z\" />\n\t\t\t</symbol>\n\n\t\t\t<symbol\n\t\t\t\tid=\"icon-close\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t>\n\t\t\t\t<title>Close</title>\n\t\t\t\t<line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\n\t\t\t\t<line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\n\t\t\t</symbol>\n\n\t\t\t<symbol\n\t\t\t\tid=\"icon-replay\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t>\n\t\t\t\t<title>Replay</title>\n\t\t\t\t<path d=\"M3 7V5a2 2 0 0 1 2-2h2\" />\n\t\t\t\t<path d=\"M17 3h2a2 2 0 0 1 2 2v2\" />\n\t\t\t\t<path d=\"M21 17v2a2 2 0 0 1-2 2h-2\" />\n\t\t\t\t<path d=\"M7 21H5a2 2 0 0 1-2-2v-2\" />\n\t\t\t\t<circle cx=\"12\" cy=\"12\" r=\"1\" />\n\t\t\t\t<path d=\"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0\" />\n\t\t\t</symbol>\n\n\t\t\t<symbol\n\t\t\t\tid=\"icon-ellipsis\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke=\"currentColor\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t>\n\t\t\t\t<title>Ellipsis</title>\n\t\t\t\t<circle cx=\"12\" cy=\"12\" r=\"1\" />\n\t\t\t\t<circle cx=\"19\" cy=\"12\" r=\"1\" />\n\t\t\t\t<circle cx=\"5\" cy=\"12\" r=\"1\" />\n\t\t\t</symbol>\n\n\t\t\t<symbol\n\t\t\t\tid=\"icon-copy\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke=\"currentColor\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t>\n\t\t\t\t<title>Copy</title>\n\t\t\t\t<rect width=\"14\" height=\"14\" x=\"8\" y=\"8\" rx=\"2\" ry=\"2\" />\n\t\t\t\t<path d=\"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2\" />\n\t\t\t</symbol>\n\n\t\t\t<symbol\n\t\t\t\tid=\"icon-check\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke=\"currentColor\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t>\n\t\t\t\t<title>Check</title>\n\t\t\t\t<path d=\"M20 6 9 17l-5-5\" />\n\t\t\t</symbol>\n\n\t\t\t<symbol\n\t\t\t\tid=\"icon-chevron-right\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke=\"currentColor\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t>\n\t\t\t\t<title>Chevron Right</title>\n\t\t\t\t<path d=\"m9 18 6-6-6-6\" />\n\t\t\t</symbol>\n\n\t\t\t<symbol\n\t\t\t\tid=\"icon-settings\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke=\"currentColor\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t>\n\t\t\t\t<title>Settings</title>\n\t\t\t\t<path d=\"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\" />\n\t\t\t\t<circle cx=\"12\" cy=\"12\" r=\"3\" />\n\t\t\t</symbol>\n\n\t\t\t<symbol id=\"icon-flame\" viewBox=\"0 0 24 24\">\n\t\t\t\t<title>Flame</title>\n\t\t\t\t<path d=\"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z\" />\n\t\t\t</symbol>\n\n\t\t\t<symbol\n\t\t\t\tid=\"icon-function\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke=\"currentColor\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t>\n\t\t\t\t<title>Function</title>\n\t\t\t\t<rect width=\"18\" height=\"18\" x=\"3\" y=\"3\" rx=\"2\" ry=\"2\" />\n\t\t\t\t<path d=\"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3\" />\n\t\t\t\t<path d=\"M9 11.2h5.7\" />\n\t\t\t</symbol>\n\n\t\t\t<symbol\n\t\t\t\tid=\"icon-triangle-alert\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke=\"currentColor\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t>\n\t\t\t\t<title>Alert</title>\n\t\t\t\t<path d=\"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3\" />\n\t\t\t\t<path d=\"M12 9v4\" />\n\t\t\t\t<path d=\"M12 17h.01\" />\n\t\t\t</symbol>\n\n\t\t\t<symbol\n\t\t\t\tid=\"icon-gallery-horizontal-end\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke=\"currentColor\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t>\n\t\t\t\t<title>Gallery</title>\n\t\t\t\t<path d=\"M2 7v10\" />\n\t\t\t\t<path d=\"M6 5v14\" />\n\t\t\t\t<rect width=\"12\" height=\"18\" x=\"10\" y=\"3\" rx=\"2\" />\n\t\t\t</symbol>\n\n\t\t\t<symbol\n\t\t\t\tid=\"icon-search\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke=\"currentColor\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t>\n\t\t\t\t<title>Search</title>\n\t\t\t\t<circle cx=\"11\" cy=\"11\" r=\"8\" />\n\t\t\t\t<line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\" />\n\t\t\t</symbol>\n\n\t\t\t<symbol\n\t\t\t\tid=\"icon-lock\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke=\"currentColor\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t>\n\t\t\t\t<title>Lock</title>\n\t\t\t\t<rect width=\"18\" height=\"11\" x=\"3\" y=\"11\" rx=\"2\" ry=\"2\" />\n\t\t\t\t<path d=\"M7 11V7a5 5 0 0 1 10 0v4\" />\n\t\t\t</symbol>\n\n\t\t\t<symbol\n\t\t\t\tid=\"icon-lock-open\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke=\"currentColor\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t>\n\t\t\t\t<title>Lock Open</title>\n\t\t\t\t<rect width=\"18\" height=\"11\" x=\"3\" y=\"11\" rx=\"2\" ry=\"2\" />\n\t\t\t\t<path d=\"M7 11V7a5 5 0 0 1 9.9-1\" />\n\t\t\t</symbol>\n\n\t\t\t<symbol\n\t\t\t\tid=\"icon-sanil\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke=\"currentColor\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t>\n\t\t\t\t<title>Snail</title>\n\t\t\t\t<path d=\"M2 13a6 6 0 1 0 12 0 4 4 0 1 0-8 0 2 2 0 0 0 4 0\" />\n\t\t\t\t<circle cx=\"10\" cy=\"13\" r=\"8\" />\n\t\t\t\t<path d=\"M2 21h12c4.4 0 8-3.6 8-8V7a2 2 0 1 0-4 0v6\" />\n\t\t\t\t<path d=\"M18 3 19.1 5.2\" />\n\t\t\t</symbol>\n\t\t</svg>\n\t)\n}\n","import { Component, render } from \"preact\"\nimport { Icon } from \"./components/icon\"\nimport { Widget } from \"./widget\"\nimport { SvgSprite } from \"./components/svg-sprite\"\n\nclass ToolbarErrorBoundary extends Component {\n\tstate: { hasError: boolean; error: Error | null } = {\n\t\thasError: false,\n\t\terror: null,\n\t}\n\n\tstatic getDerivedStateFromError(error: Error) {\n\t\tconsole.log(error)\n\t\treturn { hasError: true, error }\n\t}\n\n\thandleReset = () => {\n\t\tthis.setState({ hasError: false, error: null })\n\t}\n\n\trender() {\n\t\tif (this.state.hasError) {\n\t\t\treturn (\n\t\t\t\t<div className=\"fixed bottom-4 right-4 z-[124124124124]\">\n\t\t\t\t\t<div className=\"p-3 bg-black rounded-lg shadow-lg w-80\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2 text-red-400 text-sm font-medium\">\n\t\t\t\t\t\t\t<Icon name=\"icon-flame\" className=\"text-red-500\" size={14} />\n\t\t\t\t\t\t\tReact Devtool ran into a problem\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"p-2 bg-black rounded font-mono text-xs text-red-300 mb-3 break-words\">\n\t\t\t\t\t\t\t{this.state.error?.message || JSON.stringify(this.state.error)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={this.handleReset}\n\t\t\t\t\t\t\tclassName=\"px-3 py-1.5 bg-red-500 hover:bg-red-600 text-white rounded text-xs font-medium transition-colors flex items-center justify-center gap-1.5\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tRestart\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\n\t\treturn this.props.children\n\t}\n}\n\nexport const createToolbar = (root: ShadowRoot): HTMLElement => {\n\tconst container = document.createElement(\"div\")\n\tcontainer.id = \"react-devtool-toolbar-root\"\n\twindow.__REACT_DEVTOOL_TOOLBAR_CONTAINER__ = container\n\troot.appendChild(container)\n\n\trender(\n\t\t<ToolbarErrorBoundary>\n\t\t\t<>\n\t\t\t\t<SvgSprite />\n\t\t\t\t<Widget />\n\t\t\t</>\n\t\t</ToolbarErrorBoundary>,\n\t\tcontainer,\n\t)\n\n\tconst originalRemove = container.remove.bind(container)\n\n\tcontainer.remove = () => {\n\t\twindow.__REACT_DEVTOOL_TOOLBAR_CONTAINER__ = undefined\n\n\t\tif (container.hasChildNodes()) {\n\t\t\t// Double render(null) is needed to fully unmount Preact components.\n\t\t\t// The first call initiates unmounting, while the second ensures\n\t\t\t// cleanup of internal VNode references and event listeners.\n\t\t\trender(null, container)\n\t\t\trender(null, container)\n\t\t}\n\n\t\toriginalRemove()\n\t}\n\n\treturn container\n}\n","@import \"tailwindcss\";\n@config \"../tailwind.config.mjs\";\n\n@layer base {\n}\n@theme {\n\t--color-primary: #23272f;\n\t--color-primary-dark: #f6f7f9;\n\t--color-secondary: #404756;\n\t--color-secondary-dark: #ebecf0;\n\t--color-tertiary: #5e687e;\n\t--color-tertiary-dark: #99a1b3;\n\t--color-link: #087ea4;\n\t--color-link-dark: #58c4dc;\n\t--color-syntax: #ebecf0;\n\t--color-wash: #ffffff;\n\t--color-wash-dark: #23272f;\n\t--color-card: #f6f7f9;\n\t--color-card-dark: #343a46;\n\t--color-highlight: #e6f7ff;\n\t--color-highlight-dark: rgba(88, 175, 223, 0.1);\n\t--color-border: #ebecf0;\n\t--color-border-dark: #343a46;\n\t--color-secondary-button: #ebecf0;\n\t--color-secondary-button-dark: #404756;\n\t--color-brand: #087ea4;\n\t--color-brand-dark: #58c4dc;\n\n\t/* Gray */\n\t--color-gray-95: #16181d;\n\t--color-gray-90: #23272f;\n\t--color-gray-80: #343a46;\n\t--color-gray-70: #404756;\n\t--color-gray-60: #4e5769;\n\t--color-gray-50: #5e687e;\n\t--color-gray-40: #78839b;\n\t--color-gray-30: #99a1b3;\n\t--color-gray-20: #bcc1cd;\n\t--color-gray-15: #d0d3dc;\n\t--color-gray-10: #ebecf0;\n\t--color-gray-5: #f6f7f9;\n\n\t/* Blue */\n\t--color-blue-80: #043849;\n\t--color-blue-60: #045975;\n\t--color-blue-50: #087ea4;\n\t--color-blue-40: #149eca;\n\t--color-blue-30: #58c4dc;\n\t--color-blue-20: #abe2ed;\n\t--color-blue-10: #e6f7ff;\n\t--color-blue-5: #e6f6fa;\n\n\t/* Yellow */\n\t--color-yellow-60: #b65700;\n\t--color-yellow-50: #c76a15;\n\t--color-yellow-40: #db7d27;\n\t--color-yellow-30: #fabd62;\n\t--color-yellow-20: #fcdeb0;\n\t--color-yellow-10: #fde7c7;\n\t--color-yellow-5: #fef5e7;\n\n\t/* Purple */\n\t--color-purple-60: #2b3491;\n\t--color-purple-50: #575fb7;\n\t--color-purple-40: #6b75db;\n\t--color-purple-30: #8891ec;\n\t--color-purple-20: #c3c8f5;\n\t--color-purple-10: #e7e9fb;\n\t--color-purple-5: #f3f4fd;\n\n\t/* Green */\n\t--color-green-60: #2b6e62;\n\t--color-green-50: #388f7f;\n\t--color-green-40: #44ac99;\n\t--color-green-30: #7fccbf;\n\t--color-green-20: #abded5;\n\t--color-green-10: #e5f5f2;\n\t--color-green-5: #f4fbf9;\n\n\t/* Red */\n\t--color-red-60: #712d28;\n\t--color-red-50: #a6423a;\n\t--color-red-40: #c1554d;\n\t--color-red-30: #d07d77;\n\t--color-red-20: #e5b7b3;\n\t--color-red-10: #f2dbd9;\n\t--color-red-5: #faf1f0;\n\n\t--font-display:\n\t\t\"Optimistic Display\", -apple-system, BlinkMacSystemFont, \"Segoe UI\",\n\t\t\"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\",\n\t\t\"Helvetica Neue\", sans-serif;\n\t--font-text:\n\t\t\"Optimistic Text\", -apple-system, ui-sans-serif, system-ui, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;\n\t--font-mono:\n\t\tSFMono-Regular, \"SF Mono\", ui-monospace, Consolas, \"Liberation Mono\", Menlo,\n\t\tmonospace;\n}\n\n* {\n\toutline: none !important;\n\ttext-rendering: optimizeLegibility;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tbackface-visibility: hidden;\n\n\t/* WebKit (Chrome, Safari, Edge) specific scrollbar styles */\n\t&::-webkit-scrollbar {\n\t\twidth: 6px;\n\t\theight: 6px;\n\t}\n\n\t&::-webkit-scrollbar-track {\n\t\tborder-radius: 10px;\n\t\tbackground: transparent;\n\t}\n\n\t&::-webkit-scrollbar-thumb {\n\t\tborder-radius: 10px;\n\t\tbackground: rgba(255, 255, 255, 0.3);\n\t}\n\n\t&::-webkit-scrollbar-thumb:hover {\n\t\tbackground: rgba(255, 255, 255, 0.4);\n\t}\n\n\t&::-webkit-scrollbar-corner {\n\t\tbackground: transparent;\n\t}\n}\n\n@-moz-document url-prefix() {\n\t* {\n\t\tscrollbar-width: thin;\n\t\tscrollbar-color: rgba(255, 255, 255, 0.4) transparent;\n\t\tscrollbar-width: 6px;\n\t}\n}\n\nbutton {\n\t@apply hover:bg-none;\n\t@apply outline-none;\n\t@apply border-none;\n\t@apply transition-colors ease-linear;\n\t@apply cursor-pointer;\n}\n\ninput {\n\t@apply outline-none;\n\t@apply border-none;\n\t@apply bg-none bg-transparent;\n\t@apply outline-none;\n\t@apply placeholder:text-neutral-500 placeholder:italic placeholder:text-xs;\n\t@apply placeholder-shown:truncate;\n}\n\nhr {\n\t@apply border-none;\n\t@apply h-px;\n\t@apply bg-neutral-700;\n\t@apply my-2;\n\t@apply opacity-60;\n}\n\nsvg {\n\t/* @apply w-auto h-auto; */\n\t@apply pointer-events-none;\n}\n\n/*\n  Using CSS content with data attributes is more performant than:\n  1. React re-renders with JSX text content\n  2. Direct DOM manipulation methods:\n     - element.textContent (creates/updates text nodes, triggers repaint)\n     - element.innerText (triggers reflow by computing styles & layout)\n     - element.innerHTML (heavy parsing, triggers reflow, security risks)\n  3. Multiple data attributes with complex CSS concatenation\n\n  This approach:\n  - Avoids React reconciliation\n  - Uses browser's native CSS engine (optimized content updates)\n  - Minimizes main thread work\n  - Reduces DOM operations\n  - Avoids forced reflows (layout recalculation)\n  - Only triggers necessary repaints\n  - Keeps pseudo-element updates in render layer\n*/\n.with-data-text {\n\toverflow: hidden;\n\t&::before {\n\t\tcontent: attr(data-text);\n\t\t@apply block;\n\t\t@apply truncate;\n\t}\n}\n\n#react-devtool-toolbar {\n\t@apply fixed left-0 top-0;\n\t@apply flex flex-col;\n\t@apply shadow-lg;\n\t@apply font-mono text-[13px] text-white;\n\t@apply bg-wash-dark;\n\t@apply select-none;\n\t@apply cursor-move;\n\t@apply opacity-0;\n\t@apply z-[2147483678];\n\t@apply animate-fade-in animation-duration-300 animation-delay-300;\n\t@apply shadow-[0_4px_12px_rgba(0,0,0,0.2)];\n\t@apply place-self-start;\n\n\t/* [CURSOR GENERATED] Anti-blur fixes:\n   * We removed will-change-transform and replaced it with these properties\n   * because will-change was causing stacking context issues and inconsistent\n   * text rendering. The new properties work together to force proper\n   * GPU acceleration without z-index side effects:\n   */\n\ttransform: translate3d(0, 0, 0); /* Forces GPU acceleration without causing stacking issues */\n\tbackface-visibility: hidden; /* Prevents blurry text during transforms */\n\tperspective: 1000; /* Creates proper 3D context for crisp text */\n\t-webkit-transform-style: preserve-3d; /* Ensures consistent text rendering across browsers */\n\ttransform-style: preserve-3d;\n}\n\n.button {\n\t&:hover {\n\t\tbackground: rgba(255, 255, 255, 0.1);\n\t}\n\n\t&:active {\n\t\tbackground: rgba(255, 255, 255, 0.15);\n\t}\n}\n\n.resize-line-wrapper {\n\t@apply absolute;\n\t@apply overflow-hidden;\n}\n\n.resize-line {\n\t@apply absolute inset-0;\n\t@apply overflow-hidden;\n\t@apply bg-black;\n\t@apply transition-all;\n\n\tsvg {\n\t\t@apply absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2;\n\t}\n}\n\n.resize-right,\n.resize-left {\n\t@apply inset-y-0;\n\t@apply w-6;\n\t@apply cursor-ew-resize;\n\n\t.resize-line-wrapper {\n\t\t@apply inset-y-0;\n\t\t@apply w-1/2;\n\t}\n\n\t&:hover {\n\t\t.resize-line {\n\t\t\t@apply translate-x-0;\n\t\t}\n\t}\n}\n.resize-right {\n\t@apply right-0;\n\t@apply translate-x-1/2;\n\n\t.resize-line-wrapper {\n\t\t@apply right-0;\n\t}\n\t.resize-line {\n\t\t@apply rounded-r-lg;\n\t\t@apply -translate-x-full;\n\t}\n}\n\n.resize-left {\n\t@apply left-0;\n\t@apply -translate-x-1/2;\n\n\t.resize-line-wrapper {\n\t\t@apply left-0;\n\t}\n\t.resize-line {\n\t\t@apply rounded-l-lg;\n\t\t@apply translate-x-full;\n\t}\n}\n\n.resize-top,\n.resize-bottom {\n\t@apply inset-x-0;\n\t@apply h-6;\n\t@apply cursor-ns-resize;\n\n\t.resize-line-wrapper {\n\t\t@apply inset-x-0;\n\t\t@apply h-1/2;\n\t}\n\n\t&:hover {\n\t\t.resize-line {\n\t\t\t@apply translate-y-0;\n\t\t}\n\t}\n}\n.resize-top {\n\t@apply top-0;\n\t@apply -translate-y-1/2;\n\n\t.resize-line-wrapper {\n\t\t@apply top-0;\n\t}\n\t.resize-line {\n\t\t@apply rounded-t-lg;\n\t\t@apply translate-y-full;\n\t}\n}\n\n.resize-bottom {\n\t@apply bottom-0;\n\t@apply translate-y-1/2;\n\n\t.resize-line-wrapper {\n\t\t@apply bottom-0;\n\t}\n\t.resize-line {\n\t\t@apply rounded-b-lg;\n\t\t@apply -translate-y-full;\n\t}\n}\n\n.react-devtool-header {\n\t@apply flex items-center gap-x-2;\n\t@apply pl-3 pr-2;\n\t@apply min-h-9;\n\t@apply border-b-1 border-[#222];\n\t@apply whitespace-nowrap overflow-hidden;\n}\n\n.react-devtool-replay-button,\n.react-devtool-close-button {\n\t@apply flex items-center;\n\t@apply p-1;\n\t@apply min-w-fit;\n\t@apply rounded;\n\t@apply transition-all duration-300;\n}\n\n.react-devtool-replay-button {\n\t@apply relative;\n\t@apply overflow-hidden;\n\t@apply !bg-purple-500/50;\n\n\t&:hover {\n\t\t@apply bg-purple-500/25;\n\t}\n\n\t&.disabled {\n\t\t@apply opacity-50;\n\t\t@apply pointer-events-none;\n\t}\n\n\t&:before {\n\t\tcontent: \"\";\n\t\t@apply absolute;\n\t\t@apply inset-0;\n\t\t@apply -translate-x-full;\n\t\tanimation: shimmer 2s infinite;\n\t\tbackground: linear-gradient(\n\t\t\tto right,\n\t\t\ttransparent,\n\t\t\trgba(142, 97, 227, 0.3),\n\t\t\ttransparent\n\t\t);\n\t}\n}\n\n.react-devtool-close-button {\n\t@apply bg-white/10;\n\n\t&:hover {\n\t\t@apply bg-white/15;\n\t}\n}\n\n/* @keyframes shimmer {\n  100% {\n    @apply translate-x-full;\n  }\n} */\n\n.react-section-header {\n\t@apply sticky z-100;\n\t@apply flex items-center gap-x-2;\n\t/* @apply px-3; */\n\t@apply w-full h-7;\n\t@apply text-[#888] truncate;\n\t@apply bg-[#0a0a0a] border-b-1 border-[#222];\n}\n\n.react-devtool-section {\n\t@apply flex flex-col;\n\t@apply px-2;\n\t@apply text-[#888];\n\t@apply before:content-[attr(data-section)] before:text-gray-500;\n\t@apply text-xs;\n\n\t> .react-devtool-property {\n\t\t@apply -ml-3.5;\n\t}\n}\n\n.react-devtool-property {\n\t@apply relative;\n\t@apply flex flex-col;\n\t@apply pl-8;\n\t@apply border-l-1 border-transparent;\n\t@apply overflow-hidden;\n}\n\n.react-devtool-property-content {\n\t@apply flex-1 flex flex-col;\n\t@apply min-h-7;\n\t@apply max-w-full;\n\t@apply overflow-hidden;\n}\n\n.react-devtool-string {\n\tcolor: #9ecbff;\n}\n\n.react-devtool-number {\n\tcolor: #79c7ff;\n}\n\n.react-devtool-boolean {\n\tcolor: #56b6c2;\n}\n\n.react-devtool-key {\n\t@apply w-fit max-w-60;\n\t@apply text-white whitespace-nowrap;\n}\n\n.react-devtool-input {\n\t@apply text-white;\n\t@apply bg-black;\n}\n\n/* @keyframes blink {\n  from {\n    @apply opacity-100;\n  }\n  to {\n    @apply opacity-0;\n  }\n} */\n\n.react-devtool-arrow {\n\t@apply absolute top-0 left-7;\n\t@apply flex items-center justify-center;\n\t@apply cursor-pointer;\n\t@apply w-6 h-7;\n\t@apply -translate-x-full;\n\t@apply z-10;\n\n\t> svg {\n\t\t@apply transition-transform;\n\t}\n}\n\n.react-devtool-expandable {\n\t@apply grid grid-rows-[0fr];\n\t@apply transition-all duration-75;\n\n\t&.react-devtool-expanded {\n\t\t@apply grid-rows-[1fr];\n\t\t@apply duration-100;\n\t}\n}\n\n.react-devtool-nested {\n\t@apply relative;\n\t@apply overflow-hidden;\n\n\t&:before {\n\t\tcontent: \"\";\n\t\t@apply absolute top-0 left-0;\n\t\t@apply w-[1px] h-full;\n\t\t@apply bg-gray-500/30;\n\t}\n}\n\n.react-devtool-settings {\n\t@apply absolute inset-0;\n\t@apply flex flex-col gap-4;\n\t@apply py-2 px-4;\n\t@apply text-[#888];\n\n\t> div {\n\t\t@apply flex items-center justify-between;\n\t\t@apply transition-colors duration-300;\n\t}\n}\n\n.react-devtool-preview-line {\n\t@apply relative;\n\t@apply flex items-center min-h-7 gap-x-2;\n}\n\n.react-devtool-flash-overlay {\n\t@apply absolute inset-0;\n\t@apply opacity-0;\n\t@apply z-50;\n\t@apply pointer-events-none;\n\t@apply transition-opacity;\n\t@apply mix-blend-multiply;\n\t@apply bg-brand-dark text-secondary;\n}\n\n.react-devtool-toggle {\n\t@apply relative;\n\t@apply inline-flex;\n\t@apply w-10 h-6;\n\n\tinput {\n\t\t@apply absolute inset-0;\n\t\t@apply opacity-0 z-20;\n\t\t@apply cursor-pointer;\n\t\t@apply w-full h-full;\n\t}\n\n\tinput:checked {\n\t\t+ div {\n\t\t\t@apply bg-[#5f3f9a];\n\n\t\t\t&::before {\n\t\t\t\t@apply translate-x-full;\n\t\t\t\t@apply left-auto;\n\t\t\t\t@apply border-[#5f3f9a];\n\t\t\t}\n\t\t}\n\t}\n\n\t> div {\n\t\t@apply absolute inset-1;\n\t\t@apply bg-neutral-700;\n\t\t@apply rounded-full;\n\t\t@apply pointer-events-none;\n\t\t@apply transition-colors duration-300;\n\n\t\t&:before {\n\t\t\t--tw-translate-x: 0px;\n\t\t\t@apply content-[''];\n\t\t\t@apply absolute top-1/2 left-0;\n\t\t\t@apply -translate-y-1/2;\n\t\t\t@apply w-4 h-4;\n\t\t\t@apply bg-white;\n\t\t\t@apply border-2 border-neutral-700;\n\t\t\t@apply rounded-full;\n\t\t\t@apply shadow-sm;\n\t\t\t@apply transition-all duration-300;\n\t\t}\n\t}\n}\n\n.react-devtool-flash-active {\n\t@apply opacity-40;\n\t@apply transition-opacity duration-300;\n}\n\n.react-devtool-inspector-overlay {\n\t@apply flex flex-col;\n\t@apply opacity-0;\n\t@apply transition-opacity duration-300;\n\n\t&.fade-out {\n\t\t@apply opacity-0;\n\t}\n\n\t&.fade-in {\n\t\t@apply opacity-100;\n\t}\n}\n\n.react-devtool-what-changed {\n\tul {\n\t\t@apply list-disc;\n\t\t@apply pl-4;\n\t}\n\n\tli {\n\t\t@apply whitespace-nowrap;\n\t\t> div {\n\t\t\t@apply flex items-center justify-between gap-x-2;\n\t\t}\n\t}\n}\n\n.count-badge {\n\t@apply flex gap-x-2 items-center;\n\t@apply px-1.5 py-0.5;\n\t@apply text-[#a855f7] text-xs font-medium tabular-nums rounded-[4px] origin-center;\n\t@apply bg-[#a855f7]/10;\n\t@apply origin-center;\n\t@apply transition-all duration-300 delay-150;\n}\n\n.count-flash {\n\t@apply animate-count-flash;\n}\n\n.count-flash-white {\n\t@apply animate-count-flash-shake !delay-500;\n}\n\n.change-scope {\n\t@apply flex items-center gap-x-1;\n\t@apply text-[#666];\n\t@apply text-xs;\n\t@apply font-mono;\n\n\t> div {\n\t\t@apply px-1.5 py-0.5;\n\t\t@apply text-xs font-medium tabular-nums rounded-[4px] origin-center;\n\t\t@apply origin-center;\n\t\t@apply transition-all duration-300 delay-150;\n\n\t\t&[data-flash=\"true\"] {\n\t\t\t/* @apply bg-[#a855f7]/10 text-[#a855f7]; */\n\t\t\t@apply bg-[#a855f7]/10 text-[#a855f7];\n\t\t}\n\t}\n}\n\n.react-devtool-slider {\n\t@apply relative;\n\t@apply min-h-6;\n\n\t> input {\n\t\t@apply absolute inset-0;\n\t\t@apply opacity-0;\n\t}\n\n\t&:before {\n\t\t@apply content-[''];\n\t\t@apply absolute inset-x-0 top-1/2 -translate-y-1/2;\n\t\t@apply h-1.5;\n\t\t@apply bg-[#8e61e3]/40;\n\t\t@apply rounded-lg;\n\t\t@apply pointer-events-none;\n\t}\n\n\t&:after {\n\t\t@apply content-[''];\n\t\t@apply absolute inset-x-0 -inset-y-2;\n\t\t@apply -z-10;\n\t}\n\n\tspan {\n\t\t@apply absolute left-0 top-1/2 -translate-y-1/2;\n\t\t@apply w-2.5 h-2.5;\n\t\t@apply rounded-lg;\n\t\t@apply bg-[#8e61e3];\n\t\t@apply pointer-events-none;\n\t\t@apply transition-transform duration-75;\n\t}\n}\n\n.resize-v-line {\n\t@apply flex items-center justify-center;\n\t@apply min-w-1 max-w-1;\n\t@apply w-full h-full;\n\t@apply transition-colors;\n\n\t&:hover,\n\t&:active {\n\t\t> span {\n\t\t\t@apply bg-[#222];\n\t\t}\n\n\t\tsvg {\n\t\t\t@apply opacity-100;\n\t\t}\n\t}\n\n\t&::before {\n\t\t@apply content-[\"\"];\n\t\t@apply absolute inset-0 left-1/2 -translate-x-1/2;\n\t\t@apply w-[1px];\n\t\t@apply bg-[#222];\n\t\t@apply transition-colors;\n\t}\n\n\t> span {\n\t\t@apply absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2;\n\t\t@apply w-1.5 h-4.5;\n\t\t@apply rounded;\n\t\t@apply transition-colors;\n\t}\n\n\tsvg {\n\t\t@apply absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2;\n\t\t@apply text-neutral-400 rotate-90;\n\t\t@apply opacity-0;\n\t\t@apply transition-opacity;\n\t\t@apply z-50;\n\t}\n}\n\n.tree-node-search-highlight {\n\t@apply truncate;\n\n\tspan {\n\t\t@apply py-[1px];\n\t\t@apply font-medium bg-yellow-300 text-black rounded-sm;\n\t}\n\n\t.single {\n\t\t@apply px-[2px] mr-[1px];\n\t}\n\n\t.regex {\n\t\t@apply px-[2px];\n\t}\n\n\t.start {\n\t\t@apply rounded-l-sm ml-[1px];\n\t}\n\n\t.end {\n\t\t@apply rounded-r-sm mr-[1px];\n\t}\n\n\t.middle {\n\t\t@apply rounded-sm mx-[1px];\n\t}\n}\n\n.react-devtool-toolbar-notification {\n\t@apply absolute inset-x-0;\n\t@apply flex items-center gap-x-2;\n\t@apply p-1 pl-2 text-[10px];\n\t@apply text-neutral-300;\n\t@apply bg-black/90;\n\t@apply transition-transform;\n\n\t&:before {\n\t\t@apply content-[''];\n\t\t@apply absolute inset-x-0;\n\t\t@apply bg-black;\n\t\t@apply h-2;\n\t}\n\n\t&.position-top {\n\t\t@apply top-full -translate-y-full;\n\t\t@apply rounded-b-lg;\n\n\t\t&::before {\n\t\t\t@apply top-0 -translate-y-full;\n\t\t}\n\t}\n\n\t&.position-bottom {\n\t\t@apply bottom-full translate-y-full;\n\t\t@apply rounded-t-lg;\n\n\t\t&::before {\n\t\t\t@apply bottom-0 translate-y-full;\n\t\t}\n\t}\n\n\t&.is-open {\n\t\t@apply translate-y-0;\n\t}\n}\n\n.react-devtool-header-item {\n\t@apply absolute inset-0 -translate-y-[200%];\n\t@apply transition-transform duration-300;\n\n\t&.is-visible {\n\t\t@apply translate-y-0;\n\t}\n}\n\n.react-devtool-components-tree:has(.resize-v-line:hover, .resize-v-line:active)\n\t.tree {\n\toverflow: hidden;\n}\n\n.react-devtool-expandable {\n\tdisplay: grid;\n\tgrid-template-rows: 0fr;\n\t@apply overflow-hidden;\n\t@apply transition-all duration-75;\n\ttransition-timing-function: ease-out;\n\n\t> * {\n\t\tmin-height: 0;\n\t}\n\n\t&.react-devtool-expanded {\n\t\tgrid-template-rows: 1fr;\n\t\ttransition-duration: 100ms;\n\t}\n}\n\n/* View Transitions for smooth tab switching */\n@view-transition {\n\tnavigation: auto;\n}\n\n::view-transition-old(tab-content),\n::view-transition-new(tab-content) {\n\tanimation-duration: 0.2s;\n\tanimation-timing-function: ease-in-out;\n}\n\n::view-transition-old(tab-content) {\n\tanimation-name: slide-out;\n}\n\n::view-transition-new(tab-content) {\n\tanimation-name: slide-in;\n}\n\n@keyframes slide-out {\n\tfrom {\n\t\topacity: 1;\n\t\ttransform: translateX(0);\n\t}\n\tto {\n\t\topacity: 0;\n\t\ttransform: translateX(-20px);\n\t}\n}\n\n@keyframes slide-in {\n\tfrom {\n\t\topacity: 0;\n\t\ttransform: translateX(20px);\n\t}\n\tto {\n\t\topacity: 1;\n\t\ttransform: translateX(0);\n\t}\n}\n","import { IS_CLIENT } from \"~web/utils/constants\"\nimport { onIdle } from \"~web/utils/helpers\"\nimport { isSSR } from \"./constants\"\nimport { Device, type Session } from \"./types\"\n\ninterface NetworkInformation {\n\tconnection?: {\n\t\teffectiveType?: string\n\t}\n}\n\ninterface ExtendedNavigator extends Navigator {\n\tdeviceMemory?: number\n}\n\nconst MOBILE_PATTERN =\n\t/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i\n\nconst TABLET_PATTERN = /iPad|Tablet/i\n\nconst getDeviceType = () => {\n\tconst userAgent = navigator.userAgent\n\n\tif (MOBILE_PATTERN.test(userAgent)) {\n\t\treturn Device.MOBILE\n\t}\n\tif (TABLET_PATTERN.test(userAgent)) {\n\t\treturn Device.TABLET\n\t}\n\treturn Device.DESKTOP\n}\n\n/**\n * Measure layout time\n */\nconst doubleRAF = (callback: (...args: unknown[]) => void) => {\n\treturn requestAnimationFrame(requestAnimationFrame.bind(window, callback))\n}\n\nconst generateId = () => {\n\tconst alphabet =\n\t\t\"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict\"\n\tlet id = \"\"\n\tconst randomValues = crypto.getRandomValues(new Uint8Array(21))\n\tfor (let i = 0; i < 21; i++) {\n\t\tid += alphabet[63 & randomValues[i]]\n\t}\n\treturn id\n}\n\n/**\n * @see https://deviceandbrowserinfo.com/learning_zone/articles/webgl_renderer_values\n */\nconst getGpuRenderer = () => {\n\tif (!(\"chrome\" in window)) return \"\" // Prevent WEBGL_debug_renderer_info deprecation warnings in firefox\n\tconst gl = document\n\t\t.createElement(\"canvas\")\n\n\t\t// Get the specs for the fastest GPU available. This helps provide a better\n\t\t// picture of the device's capabilities.\n\t\t.getContext(\"webgl\", { powerPreference: \"high-performance\" })\n\tif (!gl) return \"\"\n\tconst ext = gl.getExtension(\"WEBGL_debug_renderer_info\")\n\treturn ext ? gl.getParameter(ext.UNMASKED_RENDERER_WEBGL) : \"\"\n}\n\n/**\n * Session is a loose way to fingerprint / identify a session.\n *\n * Modified from @palette.dev/browser:\n * @see https://gist.github.com/aidenybai/473689493f2d5d01bbc52e2da5950b45#file-palette-dev-browser-dist-palette-dev-mjs-L554\n * DO NOT CALL THIS EVERYTIME\n */\nlet cachedSession: Session\nexport const getSession = async ({\n\tcommit = null,\n\tbranch = null,\n}: {\n\tcommit?: string | null\n\tbranch?: string | null\n}) => {\n\tif (isSSR()) return null\n\tif (cachedSession) {\n\t\treturn cachedSession\n\t}\n\tconst id = generateId()\n\tconst url = window.location.toString()\n\t/**\n\t * WiFi connection strength\n\t *\n\t * Potential outputs: slow-2g, 2g, 3g, 4g\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/NetworkInformation/effectiveType\n\t */\n\tconst connection = (navigator as NetworkInformation).connection\n\tconst wifi = connection?.effectiveType ?? null\n\t/**\n\t * Number of CPU threads\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/Navigator/hardwareConcurrency\n\t */\n\tconst cpu = navigator.hardwareConcurrency\n\t/**\n\t * Device memory (GiB)\n\t *\n\t * Potential outputs: 0.25, 0.5, 1, 2, 4, 8\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/Navigator/deviceMemory\n\t */\n\tconst mem = (navigator as ExtendedNavigator).deviceMemory ?? 0\n\n\tconst gpuRendererPromise = new Promise<string | null>((resolve) => {\n\t\tonIdle(() => {\n\t\t\tresolve(getGpuRenderer())\n\t\t})\n\t})\n\n\tconst session = {\n\t\tid,\n\t\turl,\n\t\troute: null,\n\t\tdevice: getDeviceType(),\n\t\twifi: wifi ?? \"\",\n\t\tcpu,\n\t\tmem,\n\t\tgpu: await gpuRendererPromise,\n\t\tagent: navigator.userAgent,\n\t\tcommit,\n\t\tbranch,\n\t\tversion: \"\",\n\t}\n\tcachedSession = session\n\treturn session\n}\n\nexport const not_globally_unique_generateId = () => {\n\tif (!IS_CLIENT) {\n\t\treturn \"0\"\n\t}\n\n\t// @ts-expect-error\n\tif (window.reactDevtoolIdCounter === undefined) {\n\t\t// @ts-expect-error\n\t\twindow.reactDevtoolIdCounter = 0\n\t}\n\t// @ts-expect-error\n\treturn `${++window.reactDevtoolIdCounter}`\n}\n","import type { Fiber } from \"bippy\"\nconst getChildrenFromFiberLL = (fiber: Fiber) => {\n\tconst children: Array<Fiber> = []\n\n\tlet curr: typeof fiber.child = fiber.child\n\n\twhile (curr) {\n\t\tchildren.push(curr)\n\n\t\tcurr = curr.sibling\n\t}\n\n\treturn children\n}\n\ntype Node = Map<\n\tFiber,\n\t{\n\t\tchildren: Array<Fiber>\n\t\tparent: Fiber | null\n\t\tisRoot: boolean\n\t\tisSVG: boolean\n\t}\n>\n\nexport const createChildrenAdjacencyList = (root: Fiber, limit: number) => {\n\tconst tree: Node = new Map([])\n\n\tconst queue: Array<[node: Fiber, parent: Fiber | null]> = []\n\tconst visited = new Set<Fiber>()\n\n\tqueue.push([root, root.return])\n\tlet traversed = 1\n\n\twhile (queue.length) {\n\t\tif (traversed >= limit) {\n\t\t\treturn tree\n\t\t}\n\t\t// biome-ignore lint/style/noNonNullAssertion: invariant\n\t\tconst [node, parent] = queue.pop()!\n\t\tconst children = getChildrenFromFiberLL(node)\n\n\t\ttree.set(node, {\n\t\t\tchildren: [],\n\t\t\tparent,\n\t\t\tisRoot: node === root,\n\t\t\tisSVG: node.type === \"svg\",\n\t\t})\n\n\t\tfor (const child of children) {\n\t\t\ttraversed += 1\n\t\t\t// this isn't needed since the fiber tree is a TREE, not a graph, but it makes me feel safer\n\t\t\tif (visited.has(child)) {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tvisited.add(child)\n\t\t\ttree.get(node)?.children.push(child)\n\t\t\tqueue.push([child, node])\n\t\t}\n\t}\n\treturn tree\n}\n\n// FIX ME THIS IS PRODUCTION INVARIANT LOL\n// function devInvariant(\n//   condition: unknown,\n//   message?: string | (() => string),\n// ): asserts condition {\n//   if (condition) {\n//     return;\n//   }\n\n//   if (isProduction) {\n//     throw new Error(prefix);\n//   }\n\n//   const provided: string | undefined =\n//     typeof message === 'function' ? message() : message;\n\n//   const value: string = provided ? `${prefix}: ${provided}` : prefix;\n//   throw new Error(value);\n// }\n\nconst THROW_INVARIANTS = false\n\nexport const invariantError = (message: string | undefined) => {\n\tif (THROW_INVARIANTS) {\n\t\tthrow new Error(message)\n\t}\n}\n\nexport const iife = <T>(fn: () => T): T => fn()\n\nexport class BoundedArray<T> extends Array<T> {\n\tconstructor(private capacity: number = 25) {\n\t\tsuper()\n\t}\n\n\tpush(...items: T[]): number {\n\t\tconst result = super.push(...items)\n\t\twhile (this.length > this.capacity) {\n\t\t\tthis.shift()\n\t\t}\n\t\treturn result\n\t}\n\t// do not couple capacity with a default param, it must be explicit\n\tstatic fromArray<T>(array: Array<T>, capacity: number) {\n\t\tconst arr = new BoundedArray<T>(capacity)\n\t\tarr.push(...array)\n\t\treturn arr\n\t}\n}\n","import { BoundedArray } from \"~core/notifications/performance-utils\"\nimport type { CompletedInteraction } from \"./performance\"\n\ntype Subscriber<T> = (data: T) => void\n\nclass Store<T> {\n\tprivate subscribers: Set<Subscriber<T>> = new Set()\n\tprivate currentValue: T\n\n\tconstructor(initialValue: T) {\n\t\tthis.currentValue = initialValue\n\t}\n\n\tsubscribe(subscriber: Subscriber<T>): () => void {\n\t\tthis.subscribers.add(subscriber)\n\n\t\tsubscriber(this.currentValue)\n\n\t\treturn () => {\n\t\t\tthis.subscribers.delete(subscriber)\n\t\t}\n\t}\n\n\tsetState(data: T) {\n\t\tthis.currentValue = data\n\t\tthis.subscribers.forEach((subscriber) => subscriber(data))\n\t}\n\n\tgetCurrentState(): T {\n\t\treturn this.currentValue\n\t}\n}\nexport const MAX_INTERACTION_BATCH = 150\nexport const interactionStore = new Store<BoundedArray<CompletedInteraction>>(\n\tnew BoundedArray(MAX_INTERACTION_BATCH),\n)\n","import { BoundedArray } from \"./performance-utils\"\nimport type { PerformanceEntryChannelEvent } from \"./performance\"\n\ntype UnSubscribe = () => void\ntype Callback<T> = (item: T) => void\ntype Updater<T> = (state: BoundedArray<T>) => BoundedArray<T>\ntype ChanelName = string\n\ntype PerformanceEntryChannelsType<T> = {\n\tsubscribe: (to: ChanelName, cb: Callback<T>) => UnSubscribe\n\tpublish: (\n\t\titem: T,\n\t\tto: ChanelName,\n\t\tdropFirst: boolean,\n\t\tcreateIfNoChannel: boolean,\n\t) => void\n\tchannels: Record<\n\t\tChanelName,\n\t\t{ callbacks: BoundedArray<Callback<T>>; state: BoundedArray<T> }\n\t>\n\tgetAvailableChannels: () => BoundedArray<string>\n\tupdateChannelState: (\n\t\tchannel: ChanelName,\n\t\tupdater: Updater<T>,\n\t\tcreateIfNoChannel: boolean,\n\t) => void\n}\n\nexport const MAX_CHANNEL_SIZE = 50\n// a set of entities communicate to each other through channels\n// the state in the channel is persisted until the receiving end consumes it\n// multiple subscribes to the same channel will likely lead to unintended behavior if the subscribers are separate entities\nclass PerformanceEntryChannels<T> implements PerformanceEntryChannelsType<T> {\n\tchannels: PerformanceEntryChannelsType<T>[\"channels\"] = {}\n\tpublish(item: T, to: ChanelName, createIfNoChannel = true) {\n\t\tconst existingChannel = this.channels[to]\n\t\tif (!existingChannel) {\n\t\t\tif (!createIfNoChannel) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.channels[to] = {\n\t\t\t\tcallbacks: new BoundedArray<Callback<T>>(MAX_CHANNEL_SIZE),\n\t\t\t\tstate: new BoundedArray<T>(MAX_CHANNEL_SIZE),\n\t\t\t}\n\t\t\tthis.channels[to].state.push(item)\n\t\t\treturn\n\t\t}\n\n\t\texistingChannel.state.push(item)\n\t\texistingChannel.callbacks.forEach((cb) => cb(item))\n\t}\n\n\tgetAvailableChannels() {\n\t\treturn BoundedArray.fromArray(Object.keys(this.channels), MAX_CHANNEL_SIZE)\n\t}\n\tsubscribe(to: ChanelName, cb: Callback<T>, dropFirst: boolean = false) {\n\t\tconst defer = () => {\n\t\t\tif (!dropFirst) {\n\t\t\t\tthis.channels[to].state.forEach((item) => {\n\t\t\t\t\tcb(item)\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn () => {\n\t\t\t\tconst filtered = this.channels[to].callbacks.filter(\n\t\t\t\t\t(subscribed) => subscribed !== cb,\n\t\t\t\t)\n\t\t\t\tthis.channels[to].callbacks = BoundedArray.fromArray(\n\t\t\t\t\tfiltered,\n\t\t\t\t\tMAX_CHANNEL_SIZE,\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t\tconst existing = this.channels[to]\n\t\tif (!existing) {\n\t\t\tthis.channels[to] = {\n\t\t\t\tcallbacks: new BoundedArray<Callback<T>>(MAX_CHANNEL_SIZE),\n\t\t\t\tstate: new BoundedArray<T>(MAX_CHANNEL_SIZE),\n\t\t\t}\n\t\t\tthis.channels[to].callbacks.push(cb)\n\t\t\treturn defer()\n\t\t}\n\n\t\texisting.callbacks.push(cb)\n\t\treturn defer()\n\t}\n\tupdateChannelState(\n\t\tchannel: ChanelName,\n\t\tupdater: Updater<T>,\n\t\tcreateIfNoChannel = true,\n\t) {\n\t\tconst existingChannel = this.channels[channel]\n\t\tif (!existingChannel) {\n\t\t\tif (!createIfNoChannel) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst state = new BoundedArray<T>(MAX_CHANNEL_SIZE)\n\t\t\tconst newChannel = {\n\t\t\t\tcallbacks: new BoundedArray<Callback<T>>(MAX_CHANNEL_SIZE),\n\t\t\t\tstate,\n\t\t\t}\n\n\t\t\tthis.channels[channel] = newChannel\n\t\t\tnewChannel.state = updater(state)\n\t\t\treturn\n\t\t}\n\n\t\texistingChannel.state = updater(existingChannel.state)\n\t}\n\n\tgetChannelState(channel: ChanelName) {\n\t\treturn this.channels[channel].state ?? new BoundedArray<T>(MAX_CHANNEL_SIZE)\n\t}\n}\n// todo: discriminated union the events when we start using multiple channels\n// we used to use multiple channels, but now we only use 1. This is still a useful abstraction incase we ever need more channels again\nexport const performanceEntryChannels =\n\tnew PerformanceEntryChannels<PerformanceEntryChannelEvent>()\n","import { type Fiber, getDisplayName } from \"bippy\"\nimport { getCompositeComponentFromElement } from \"~web/views/inspector/utils\"\nimport { Store } from \"~core/index\"\nimport type {\n\tPerformanceInteraction,\n\tPerformanceInteractionEntry,\n} from \"./types\"\n\ninterface PathFilters {\n\tskipProviders: boolean\n\tskipHocs: boolean\n\tskipContainers: boolean\n\tskipMinified: boolean\n\tskipUtilities: boolean\n\tskipBoundaries: boolean\n}\n\nconst DEFAULT_FILTERS: PathFilters = {\n\tskipProviders: true,\n\tskipHocs: true,\n\tskipContainers: true,\n\tskipMinified: true,\n\tskipUtilities: true,\n\tskipBoundaries: true,\n}\n\nconst FILTER_PATTERNS = {\n\tproviders: [/Provider$/, /^Provider$/, /^Context$/],\n\thocs: [/^with[A-Z]/, /^forward(?:Ref)?$/i, /^Forward(?:Ref)?\\(/],\n\tcontainers: [/^(?:App)?Container$/, /^Root$/, /^ReactDev/],\n\tutilities: [\n\t\t/^Fragment$/,\n\t\t/^Suspense$/,\n\t\t/^ErrorBoundary$/,\n\t\t/^Portal$/,\n\t\t/^Consumer$/,\n\t\t/^Layout$/,\n\t\t/^Router/,\n\t\t/^Hydration/,\n\t],\n\tboundaries: [/^Boundary$/, /Boundary$/, /^Provider$/, /Provider$/],\n}\n\nconst shouldIncludeInPath = (\n\tname: string,\n\tfilters: PathFilters = DEFAULT_FILTERS,\n): boolean => {\n\tconst patternsToCheck: Array<RegExp> = []\n\tif (filters.skipProviders) patternsToCheck.push(...FILTER_PATTERNS.providers)\n\tif (filters.skipHocs) patternsToCheck.push(...FILTER_PATTERNS.hocs)\n\tif (filters.skipContainers)\n\t\tpatternsToCheck.push(...FILTER_PATTERNS.containers)\n\tif (filters.skipUtilities) patternsToCheck.push(...FILTER_PATTERNS.utilities)\n\tif (filters.skipBoundaries)\n\t\tpatternsToCheck.push(...FILTER_PATTERNS.boundaries)\n\treturn !patternsToCheck.some((pattern) => pattern.test(name))\n}\n\nconst minifiedPatterns = [\n\t/^[a-z]$/, // Single lowercase letter\n\t/^[a-z][0-9]$/, // Lowercase letter followed by number\n\t/^_+$/, // Just underscores\n\t/^[A-Za-z][_$]$/, // Letter followed by underscore or dollar\n\t/^[a-z]{1,2}$/, // 1-2 lowercase letters\n]\n\nconst isMinified = (name: string): boolean => {\n\tfor (let i = 0; i < minifiedPatterns.length; i++) {\n\t\tif (minifiedPatterns[i].test(name)) return true\n\t}\n\n\tconst hasNoVowels = !/[aeiou]/i.test(name)\n\tconst hasMostlyNumbers = (name.match(/\\d/g)?.length ?? 0) > name.length / 2\n\tconst isSingleWordLowerCase = /^[a-z]+$/.test(name)\n\tconst hasRandomLookingChars = /[$_]{2,}/.test(name)\n\n\t// If more than 2 of the following are true, we consider the name minified\n\treturn (\n\t\tNumber(hasNoVowels) +\n\t\t\tNumber(hasMostlyNumbers) +\n\t\t\tNumber(isSingleWordLowerCase) +\n\t\t\tNumber(hasRandomLookingChars) >=\n\t\t2\n\t)\n}\n\nexport const getInteractionPath = (\n\tinitialFiber: Fiber | null,\n\tfilters: PathFilters = DEFAULT_FILTERS,\n): Array<string> => {\n\tif (!initialFiber) return []\n\n\tconst currentName = getDisplayName(initialFiber.type)\n\tif (!currentName) return []\n\n\tconst stack: string[] = []\n\tlet fiber = initialFiber\n\twhile (fiber.return) {\n\t\tconst name = getCleanComponentName(fiber.type)\n\t\tif (\n\t\t\tname &&\n\t\t\t!isMinified(name) &&\n\t\t\tshouldIncludeInPath(name, filters) &&\n\t\t\tname.toLowerCase() !== name\n\t\t) {\n\t\t\tstack.push(name)\n\t\t}\n\t\tfiber = fiber.return\n\t}\n\tconst fullPath = new Array<string>(stack.length)\n\tfor (let i = 0; i < stack.length; i++) {\n\t\tfullPath[i] = stack[stack.length - i - 1]\n\t}\n\treturn fullPath\n}\n\nlet currentMouseOver: Element\n\ninterface FiberType {\n\tdisplayName?: string\n\tname?: string\n\t[key: string]: unknown\n}\n\nconst getCleanComponentName = (component: FiberType): string => {\n\tconst name = getDisplayName(component)\n\tif (!name) return \"\"\n\n\treturn name.replace(\n\t\t/^(?:Memo|Forward(?:Ref)?|With.*?)\\((?<inner>.*?)\\)$/,\n\t\t\"$<inner>\",\n\t)\n}\n\n// For future use, normalization of paths happens on server side now using path property of interaction\n// const _normalizePath = (path: Array<string>): string => {\n// \tconst cleaned = path.filter(Boolean);\n// \tconst deduped = cleaned.filter((name, i) => name !== cleaned[i - 1]);\n// \treturn deduped.join('.');\n// };\n\nconst handleMouseover = (event: Event) => {\n\tif (!(event.target instanceof Element)) return\n\tcurrentMouseOver = event.target\n}\n\nconst getFirstNamedAncestorCompositeFiber = (element: Element) => {\n\tlet curr: Element | null = element\n\tlet parentCompositeFiber: Fiber | null = null\n\twhile (!parentCompositeFiber && curr.parentElement) {\n\t\tcurr = curr.parentElement\n\n\t\tconst fiber = getCompositeComponentFromElement(curr).parentCompositeFiber\n\n\t\tif (!fiber) {\n\t\t\tcontinue\n\t\t}\n\t\tif (getDisplayName(fiber.type)) {\n\t\t\tparentCompositeFiber = fiber\n\t\t}\n\t}\n\treturn parentCompositeFiber\n}\n\n// fixme: compress me if this stays here for bad interaction time checks\nlet lastVisibilityHiddenAt: number | \"never-hidden\" = \"never-hidden\"\n\nconst onVisibilityChange = () => {\n\tif (document.hidden) {\n\t\tlastVisibilityHiddenAt = Date.now()\n\t}\n}\n\nconst trackVisibilityChange = () => {\n\tdocument.removeEventListener(\"visibilitychange\", onVisibilityChange)\n\tdocument.addEventListener(\"visibilitychange\", onVisibilityChange)\n}\n\n// todo: update monitoring api to expose filters for component names\nfunction initPerformanceMonitoring(options?: Partial<PathFilters>) {\n\tconst filters = { ...DEFAULT_FILTERS, ...options }\n\tconst monitor = Store.monitor.value\n\tif (!monitor) return\n\n\tdocument.addEventListener(\"mouseover\", handleMouseover)\n\tconst disconnectPerformanceListener = setupPerformanceListener((entry) => {\n\t\tconst target =\n\t\t\tentry.target ?? (entry.type === \"pointer\" ? currentMouseOver : null)\n\t\tif (!target) {\n\t\t\t// most likely an invariant that we should log if its violated\n\t\t\treturn\n\t\t}\n\t\tconst parentCompositeFiber = getFirstNamedAncestorCompositeFiber(target)\n\t\tif (!parentCompositeFiber) {\n\t\t\treturn\n\t\t}\n\t\tconst displayName = getDisplayName(parentCompositeFiber.type)\n\t\tif (!displayName || isMinified(displayName)) {\n\t\t\t// invariant, we know its named based on getFirstNamedAncestorCompositeFiber implementation\n\t\t\treturn\n\t\t}\n\n\t\tconst path = getInteractionPath(parentCompositeFiber, filters)\n\n\t\tmonitor.interactions.push({\n\t\t\tcomponentName: displayName,\n\t\t\tcomponentPath: path,\n\t\t\tperformanceEntry: entry,\n\t\t\tcomponents: new Map(),\n\t\t\turl: window.location.toString(),\n\t\t\troute:\n\t\t\t\tStore.monitor.value?.route ?? new URL(window.location.href).pathname,\n\t\t\tcommit: Store.monitor.value?.commit ?? null,\n\t\t\tbranch: Store.monitor.value?.branch ?? null,\n\t\t\tuniqueInteractionId: entry.id,\n\t\t})\n\t})\n\n\treturn () => {\n\t\tdisconnectPerformanceListener()\n\t\tdocument.removeEventListener(\"mouseover\", handleMouseover)\n\t}\n}\n\nconst POINTER_EVENTS = new Set([\"pointerdown\", \"pointerup\", \"click\"])\nconst KEYBOARD_EVENTS = new Set([\"keydown\", \"keyup\"])\n\nconst getInteractionType = (\n\teventName: string,\n): \"pointer\" | \"keyboard\" | null => {\n\tif (POINTER_EVENTS.has(eventName)) {\n\t\treturn \"pointer\"\n\t}\n\tif (KEYBOARD_EVENTS.has(eventName)) {\n\t\treturn \"keyboard\"\n\t}\n\treturn null\n}\n\nconst setupPerformanceListener = (\n\tonEntry: (interaction: PerformanceInteraction) => void,\n) => {\n\ttrackVisibilityChange()\n\tconst longestInteractionMap = new Map<string, PerformanceInteraction>()\n\tconst interactionTargetMap = new Map<string, Element>()\n\n\tconst processInteractionEntry = (entry: PerformanceInteractionEntry) => {\n\t\tif (!(entry.interactionId || entry.entryType === \"first-input\")) return\n\n\t\tif (\n\t\t\tentry.interactionId &&\n\t\t\tentry.target &&\n\t\t\t!interactionTargetMap.has(entry.interactionId)\n\t\t) {\n\t\t\tinteractionTargetMap.set(entry.interactionId, entry.target)\n\t\t}\n\n\t\tconst existingInteraction = longestInteractionMap.get(entry.interactionId)\n\n\t\tif (existingInteraction) {\n\t\t\tif (entry.duration > existingInteraction.latency) {\n\t\t\t\texistingInteraction.entries = [entry]\n\t\t\t\texistingInteraction.latency = entry.duration\n\t\t\t} else if (\n\t\t\t\tentry.duration === existingInteraction.latency &&\n\t\t\t\tentry.startTime === existingInteraction.entries[0].startTime\n\t\t\t) {\n\t\t\t\texistingInteraction.entries.push(entry)\n\t\t\t}\n\t\t} else {\n\t\t\tconst interactionType = getInteractionType(entry.name)\n\t\t\tif (!interactionType) return\n\n\t\t\tconst interaction: PerformanceInteraction = {\n\t\t\t\tid: entry.interactionId,\n\t\t\t\tlatency: entry.duration,\n\t\t\t\tentries: [entry],\n\t\t\t\ttarget: entry.target,\n\t\t\t\ttype: interactionType,\n\t\t\t\tstartTime: entry.startTime,\n\t\t\t\tprocessingStart: entry.processingStart,\n\t\t\t\tprocessingEnd: entry.processingEnd,\n\t\t\t\tduration: entry.duration,\n\t\t\t\tinputDelay: entry.processingStart - entry.startTime,\n\t\t\t\tprocessingDuration: entry.processingEnd - entry.processingStart,\n\t\t\t\tpresentationDelay:\n\t\t\t\t\tentry.duration - (entry.processingEnd - entry.startTime),\n\t\t\t\ttimestamp: Date.now(),\n\t\t\t\ttimeSinceTabInactive:\n\t\t\t\t\tlastVisibilityHiddenAt === \"never-hidden\"\n\t\t\t\t\t\t? \"never-hidden\"\n\t\t\t\t\t\t: Date.now() - lastVisibilityHiddenAt,\n\t\t\t\tvisibilityState: document.visibilityState,\n\t\t\t\ttimeOrigin: performance.timeOrigin,\n\t\t\t\treferrer: document.referrer,\n\t\t\t}\n\t\t\tlongestInteractionMap.set(interaction.id, interaction)\n\n\t\t\tonEntry(interaction)\n\t\t}\n\t}\n\n\tconst po = new PerformanceObserver((list) => {\n\t\tconst entries = list.getEntries()\n\t\tfor (let i = 0, len = entries.length; i < len; i++) {\n\t\t\tconst entry = entries[i]\n\t\t\tprocessInteractionEntry(entry as PerformanceInteractionEntry)\n\t\t}\n\t})\n\n\ttry {\n\t\tpo.observe({\n\t\t\ttype: \"event\",\n\t\t\tbuffered: true,\n\t\t\tdurationThreshold: 16,\n\t\t} as PerformanceObserverInit)\n\t\tpo.observe({\n\t\t\ttype: \"first-input\",\n\t\t\tbuffered: true,\n\t\t})\n\t} catch {\n\t\t/* Should collect error logs*/\n\t}\n\n\treturn po.disconnect.bind(po)\n}\n","import {\n\ttype Fiber,\n\tgetDisplayName,\n\tgetTimings,\n\thasMemoCache,\n\tisHostFiber,\n\ttraverseFiber,\n} from \"bippy\"\nimport { Store } from \"~core/index\"\n\nimport {\n\tBoundedArray,\n\tcreateChildrenAdjacencyList,\n\tinvariantError,\n} from \"~core/notifications/performance-utils\"\nimport {\n\ttype SectionData,\n\tcollectInspectorDataWithoutCounts,\n} from \"~web/views/inspector/timeline/utils\"\nimport {\n\tgetFiberFromElement,\n\tgetParentCompositeFiber,\n} from \"~web/views/inspector/utils\"\nimport { performanceEntryChannels } from \"./performance-store\"\nimport type {\n\tPerformanceInteraction,\n\tPerformanceInteractionEntry,\n} from \"./types\"\nimport { not_globally_unique_generateId } from \"~core/monitor/utils\"\nimport { getInteractionPath } from \"~core/monitor/performance\"\n\nconst getFirstNameFromAncestor = (\n\tfiber: Fiber,\n\taccept: (name: string) => boolean = () => true,\n) => {\n\tlet curr: Fiber | null = fiber\n\n\twhile (curr) {\n\t\tconst currName = getDisplayName(curr.type)\n\t\tif (currName && accept(currName)) {\n\t\t\treturn currName\n\t\t}\n\n\t\tcurr = curr.return\n\t}\n\treturn null\n}\n\nlet unsubscribeTrackVisibilityChange: (() => void) | undefined\n// fixme: compress me if this stays here for bad interaction time checks\nlet lastVisibilityHiddenAt: number | \"never-hidden\" = \"never-hidden\"\n\nconst trackVisibilityChange = () => {\n\tunsubscribeTrackVisibilityChange?.()\n\tconst onVisibilityChange = () => {\n\t\tif (document.hidden) {\n\t\t\tlastVisibilityHiddenAt = Date.now()\n\t\t}\n\t}\n\tdocument.addEventListener(\"visibilitychange\", onVisibilityChange)\n\n\tunsubscribeTrackVisibilityChange = () => {\n\t\tdocument.removeEventListener(\"visibilitychange\", onVisibilityChange)\n\t}\n}\nexport type FiberRenders = Record<\n\tstring,\n\t{\n\t\trenderCount: number\n\t\tparents: Set<string>\n\t\tselfTime: number\n\t\ttotalTime: number\n\t\thasMemoCache: boolean\n\t\twasFiberRenderMount: boolean\n\t\tnodeInfo: Array<{\n\t\t\tselfTime: number\n\t\t\telement: Element\n\t\t\tname: string\n\t\t}>\n\t\tchanges: ReturnType<typeof collectInspectorDataWithoutCounts>\n\t}\n>\n\n/**\n * we need to fix:\n * - if there's a tab switch during a task being tracked, then u disregard that task (i hope this doesn't make tab switches hard to debug that cause slowdowns, ug i suppose it probably would, right? Depends how the browser queues it but i suppose u can think of a scenario. It would be most optimal to subtract the timing but not sure how reliable that would be)\n * - we need to see why the tracking is just off\n * - we need to correctly implement the precise activation this time\n */\n\ntype InteractionStartStage = {\n\tkind: \"interaction-start\"\n\tinteractionType: \"pointer\" | \"keyboard\"\n\tinteractionUUID: string\n\tinteractionStartDetail: number\n\tblockingTimeStart: number\n\tcomponentPath: Array<string>\n\tcomponentName: string\n\tchildrenTree: Record<\n\t\tstring,\n\t\t{ children: Array<string>; firstNamedAncestor: string; isRoot: boolean }\n\t>\n\tfiberRenders: FiberRenders\n\tstopListeningForRenders: () => void\n}\n\ntype JSEndStage = Omit<InteractionStartStage, \"kind\"> & {\n\tkind: \"js-end-stage\"\n\tjsEndDetail: number\n}\n\ntype RAFStage = Omit<JSEndStage, \"kind\"> & {\n\tkind: \"raf-stage\"\n\trafStart: number\n}\n\nexport type TimeoutStage = Omit<RAFStage, \"kind\"> & {\n\tkind: \"timeout-stage\"\n\tcommitEnd: number\n\tblockingTimeEnd: number\n}\n\nexport type PerformanceEntryChannelEvent =\n\t| {\n\t\t\tkind: \"entry-received\"\n\t\t\tentry: PerformanceInteraction\n\t  }\n\t| {\n\t\t\tkind: \"auto-complete-race\"\n\t\t\tinteractionUUID: string\n\t\t\tdetailedTiming: TimeoutStage\n\t  }\n\nexport type CompletedInteraction = {\n\tdetailedTiming: TimeoutStage\n\tlatency: number\n\tcompletedAt: number\n\tflushNeeded: boolean\n}\n\ntype UnInitializedStage = {\n\tkind: \"uninitialized-stage\"\n\t// todo: no longer a uuid\n\tinteractionUUID: string\n\tinteractionType: \"pointer\" | \"keyboard\"\n}\n\ntype CurrentInteraction = {\n\tkind: \"pointer\" | \"keyboard\"\n\tinteractionUUID: string\n\tpointerUpStart: number\n\t// needed for when inputs that can be clicked and trigger on change (like checkboxes)\n\tclickChangeStart: number | null\n\tclickHandlerMicroTaskEnd: number | null\n\trafStart: number | null\n\tcommmitEnd: number | null\n\ttimeorigin: number\n\n\t// for now i don't trust performance now timing for UTC time...\n\tblockingTimeStart: number\n\tblockingTimeEnd: number | null\n\tfiberRenders: Map<\n\t\tstring,\n\t\t{\n\t\t\trenderCount: number\n\t\t\tparents: Set<string>\n\t\t\tselfTime: number\n\t\t}\n\t>\n\tcomponentPath: Array<string>\n\tcomponentName: string\n\tchildrenTree: Record<\n\t\tstring,\n\t\t{ children: Array<string>; firstNamedAncestor: string; isRoot: boolean }\n\t>\n}\n\nconst fastHash = (str: string): string => {\n\tlet hash = 0\n\tfor (let i = 0; i < str.length; i++) {\n\t\tconst char = str.charCodeAt(i)\n\t\thash = (hash << 5) - hash + char\n\t\thash = hash & hash // Convert to 32-bit integer\n\t}\n\treturn hash.toString(36)\n}\nconst getInteractionType = (\n\teventName: string,\n): \"pointer\" | \"keyboard\" | null => {\n\t// todo: track pointer down, but tends to not house expensive logic so not very high priority\n\tif ([\"pointerup\", \"click\"].includes(eventName)) {\n\t\treturn \"pointer\"\n\t}\n\tif (eventName.includes(\"key\")) {\n\t}\n\tif ([\"keydown\", \"keyup\"].includes(eventName)) {\n\t\treturn \"keyboard\"\n\t}\n\treturn null\n}\n// biome-ignore lint/suspicious/noExplicitAny: shut up biome\nconst getInteractionId = (interaction: any) => {\n\treturn `${interaction.performanceEntry.type}::${normalizePath(interaction.componentPath)}::${interaction.url}`\n}\nfunction normalizePath(path: string[]): string {\n\tconst cleaned = path.filter(Boolean)\n\n\tconst deduped = cleaned.filter((name, i) => name !== cleaned[i - 1])\n\n\treturn deduped.join(\".\")\n}\nlet onEntryAnimationId: number | null = null\nconst setupPerformanceListener = (\n\tonEntry: (interaction: PerformanceInteraction) => void,\n) => {\n\ttrackVisibilityChange()\n\tconst interactionMap = new Map<string, PerformanceInteraction>()\n\tconst interactionTargetMap = new Map<string, Element>()\n\n\tconst processInteractionEntry = (entry: PerformanceInteractionEntry) => {\n\t\tif (!entry.interactionId) return\n\n\t\tif (\n\t\t\tentry.interactionId &&\n\t\t\tentry.target &&\n\t\t\t!interactionTargetMap.has(entry.interactionId)\n\t\t) {\n\t\t\tinteractionTargetMap.set(entry.interactionId, entry.target)\n\t\t}\n\t\tif (entry.target) {\n\t\t\tlet current: Element | null = entry.target\n\t\t\twhile (current) {\n\t\t\t\tif (\n\t\t\t\t\tcurrent.id === \"react-devtool-toolbar-root\" ||\n\t\t\t\t\tcurrent.id === \"react-devtool-root\"\n\t\t\t\t) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tcurrent = current.parentElement\n\t\t\t}\n\t\t}\n\n\t\tconst existingInteraction = interactionMap.get(entry.interactionId)\n\n\t\tif (existingInteraction) {\n\t\t\tif (entry.duration > existingInteraction.latency) {\n\t\t\t\texistingInteraction.entries = [entry]\n\t\t\t\texistingInteraction.latency = entry.duration\n\t\t\t} else if (\n\t\t\t\tentry.duration === existingInteraction.latency &&\n\t\t\t\tentry.startTime === existingInteraction.entries[0].startTime\n\t\t\t) {\n\t\t\t\texistingInteraction.entries.push(entry)\n\t\t\t}\n\t\t} else {\n\t\t\tconst interactionType = getInteractionType(entry.name)\n\t\t\tif (!interactionType) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst interaction: PerformanceInteraction = {\n\t\t\t\tid: entry.interactionId,\n\t\t\t\tlatency: entry.duration,\n\t\t\t\tentries: [entry],\n\t\t\t\ttarget: entry.target,\n\t\t\t\ttype: interactionType,\n\t\t\t\tstartTime: entry.startTime,\n\t\t\t\tendTime: Date.now(),\n\t\t\t\tprocessingStart: entry.processingStart,\n\t\t\t\tprocessingEnd: entry.processingEnd,\n\t\t\t\tduration: entry.duration,\n\t\t\t\tinputDelay: entry.processingStart - entry.startTime,\n\t\t\t\tprocessingDuration: entry.processingEnd - entry.processingStart,\n\t\t\t\tpresentationDelay:\n\t\t\t\t\tentry.duration - (entry.processingEnd - entry.startTime),\n\t\t\t\t// componentPath:\n\t\t\t\ttimestamp: Date.now(),\n\t\t\t\ttimeSinceTabInactive:\n\t\t\t\t\tlastVisibilityHiddenAt === \"never-hidden\"\n\t\t\t\t\t\t? \"never-hidden\"\n\t\t\t\t\t\t: Date.now() - lastVisibilityHiddenAt,\n\t\t\t\tvisibilityState: document.visibilityState,\n\t\t\t\ttimeOrigin: performance.timeOrigin,\n\t\t\t\treferrer: document.referrer,\n\t\t\t}\n\t\t\t//\n\t\t\tinteractionMap.set(interaction.id, interaction)\n\n\t\t\t/**\n\t\t\t * This seems odd, but it gives us determinism that we will receive an entry AFTER our detailed timing collection\n\t\t\t * runs because browser semantics (raf(() => setTimeout) will always run before a doubleRaf)\n\t\t\t *\n\t\t\t * this also handles the case where multiple entries are dispatched for semantically the same interaction,\n\t\t\t * they will get merged into a single interaction, where the largest latency is recorded, which is what\n\t\t\t * we are interested in this application\n\t\t\t */\n\n\t\t\tif (!onEntryAnimationId) {\n\t\t\t\tonEntryAnimationId = requestAnimationFrame(() => {\n\t\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\t\t// biome-ignore lint/style/noNonNullAssertion: invariant\n\t\t\t\t\t\tonEntry(interactionMap.get(interaction.id)!)\n\t\t\t\t\t\tonEntryAnimationId = null\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tconst po = new PerformanceObserver((list) => {\n\t\tconst entries = list.getEntries()\n\t\tfor (let i = 0, len = entries.length; i < len; i++) {\n\t\t\tconst entry = entries[i]\n\t\t\tprocessInteractionEntry(entry as PerformanceInteractionEntry)\n\t\t}\n\t})\n\n\ttry {\n\t\tpo.observe({\n\t\t\ttype: \"event\",\n\t\t\tbuffered: true,\n\t\t\tdurationThreshold: 16,\n\t\t} as PerformanceObserverInit)\n\t\tpo.observe({\n\t\t\ttype: \"first-input\",\n\t\t\tbuffered: true,\n\t\t})\n\t} catch {\n\t\t/* Should collect error logs*/\n\t}\n\n\treturn () => po.disconnect()\n}\n\nexport const setupPerformancePublisher = () => {\n\treturn setupPerformanceListener((entry) => {\n\t\tperformanceEntryChannels.publish(\n\t\t\t{\n\t\t\t\tkind: \"entry-received\",\n\t\t\t\tentry,\n\t\t\t},\n\t\t\t\"recording\",\n\t\t)\n\t})\n}\n\n// we should actually only feed it the information it needs to complete so we can support safari\ntype Task = {\n\tcompleteInteraction: (\n\t\tentry: PerformanceEntryChannelEvent,\n\t) => CompletedInteraction\n\tstartDateTime: number\n\tendDateTime: number\n\ttype: \"keyboard\" | \"pointer\"\n\tinteractionUUID: string\n}\nconst MAX_INTERACTION_TASKS = 25\n\nlet tasks = new BoundedArray<Task>(MAX_INTERACTION_TASKS)\n\nconst getAssociatedDetailedTimingInteraction = (\n\tentry: PerformanceInteraction,\n\tactiveTasks: Array<Task>,\n) => {\n\tlet closestTask: Task | null = null\n\tfor (const task of activeTasks) {\n\t\tif (task.type !== entry.type) {\n\t\t\tcontinue\n\t\t}\n\n\t\tif (closestTask === null) {\n\t\t\tclosestTask = task\n\t\t\tcontinue\n\t\t}\n\n\t\tconst getAbsoluteDiff = (task: Task, entry: PerformanceInteraction) =>\n\t\t\tMath.abs(task.startDateTime) - (entry.startTime + entry.timeOrigin)\n\n\t\tif (getAbsoluteDiff(task, entry) < getAbsoluteDiff(closestTask, entry)) {\n\t\t\tclosestTask = task\n\t\t}\n\t}\n\n\treturn closestTask\n}\n\n// this would be cool if it listened for merge, so it had to be after\nexport const listenForPerformanceEntryInteractions = (\n\tonComplete: (completedInteraction: CompletedInteraction) => void,\n) => {\n\t// we make the assumption that the detailed timing will be ready before the performance timing\n\tconst unsubscribe = performanceEntryChannels.subscribe(\n\t\t\"recording\",\n\t\t(event) => {\n\t\t\tconst associatedDetailedInteraction =\n\t\t\t\tevent.kind === \"auto-complete-race\"\n\t\t\t\t\t? tasks.find((task) => task.interactionUUID === event.interactionUUID)\n\t\t\t\t\t: getAssociatedDetailedTimingInteraction(event.entry, tasks)\n\n\t\t\t// REMINDME: this likely means we clicked a non interactable thing but our handler still ran\n\t\t\t// so we shouldn't treat this as an invariant, but instead use it to verify if we clicked\n\t\t\t// something interactable\n\t\t\tif (!associatedDetailedInteraction) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst completedInteraction =\n\t\t\t\tassociatedDetailedInteraction.completeInteraction(event)\n\t\t\tonComplete(completedInteraction)\n\t\t},\n\t)\n\n\treturn unsubscribe\n}\n\ntype ShouldContinue = boolean\nconst trackDetailedTiming = ({\n\tonMicroTask,\n\tonRAF,\n\tonTimeout,\n\tabort,\n}: {\n\tonMicroTask: () => ShouldContinue\n\tonRAF: () => ShouldContinue\n\tonTimeout: () => void\n\tabort?: () => boolean\n}) => {\n\tqueueMicrotask(() => {\n\t\tif (abort?.() === true) {\n\t\t\treturn\n\t\t}\n\n\t\tif (!onMicroTask()) {\n\t\t\treturn\n\t\t}\n\t\trequestAnimationFrame(() => {\n\t\t\tif (abort?.() === true) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (!onRAF()) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (abort?.() === true) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tonTimeout()\n\t\t\t}, 0)\n\t\t})\n\t})\n}\n\nconst getTargetInteractionDetails = (target: Element) => {\n\tconst associatedFiber = getFiberFromElement(target)\n\tif (!associatedFiber) {\n\t\treturn\n\t}\n\n\t// TODO: if element is minified, squash upwards till first non minified ancestor, and set name as ChildOf(<parent-name>)\n\tlet componentName = associatedFiber\n\t\t? getDisplayName(associatedFiber?.type)\n\t\t: \"N/A\"\n\n\tif (!componentName) {\n\t\tcomponentName =\n\t\t\tgetFirstNameFromAncestor(associatedFiber, (name) => name.length > 2) ??\n\t\t\t\"N/A\"\n\t}\n\n\tif (!componentName) {\n\t\treturn\n\t}\n\n\tconst componentPath = getInteractionPath(associatedFiber)\n\n\treturn {\n\t\tcomponentPath,\n\t\tchildrenTree: {},\n\t\tcomponentName,\n\t\telementFiber: associatedFiber,\n\t}\n}\n\ntype LastInteractionRef = {\n\tcurrent: (\n\t\t| InteractionStartStage\n\t\t| JSEndStage\n\t\t| RAFStage\n\t\t| TimeoutStage\n\t\t| UnInitializedStage\n\t) & {\n\t\tstageStart: number\n\t}\n}\n\n/**\n *\n * handles tracking event timings for arbitrarily overlapping handlers with cancel logic\n */\nexport const setupDetailedPointerTimingListener = (\n\tkind: \"pointer\" | \"keyboard\",\n\toptions: {\n\t\tonStart?: (interactionUUID: string) => void\n\t\tonComplete?: (\n\t\t\tinteractionUUID: string,\n\t\t\tfinalInteraction: {\n\t\t\t\tdetailedTiming: TimeoutStage\n\t\t\t\tlatency: number\n\t\t\t\tcompletedAt: number\n\t\t\t\tflushNeeded: boolean\n\t\t\t},\n\t\t\tentry: PerformanceEntryChannelEvent,\n\t\t) => void\n\t\tonError?: (interactionUUID: string) => void\n\t},\n) => {\n\tlet instrumentationIdInControl: string | null = null\n\n\tconst getEvent = (\n\t\tinfo: { phase: \"start\" } | { phase: \"end\"; target: Element },\n\t) => {\n\t\tswitch (kind) {\n\t\t\tcase \"pointer\": {\n\t\t\t\tif (info.phase === \"start\") {\n\t\t\t\t\treturn \"pointerup\"\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tinfo.target instanceof HTMLInputElement ||\n\t\t\t\t\tinfo.target instanceof HTMLSelectElement\n\t\t\t\t) {\n\t\t\t\t\treturn \"change\"\n\t\t\t\t}\n\t\t\t\treturn \"click\"\n\t\t\t}\n\t\t\tcase \"keyboard\": {\n\t\t\t\tif (info.phase === \"start\") {\n\t\t\t\t\treturn \"keydown\"\n\t\t\t\t}\n\n\t\t\t\treturn \"change\"\n\t\t\t}\n\t\t}\n\t}\n\n\tconst lastInteractionRef: LastInteractionRef = {\n\t\tcurrent: {\n\t\t\tkind: \"uninitialized-stage\",\n\t\t\tinteractionUUID: not_globally_unique_generateId(), // the first interaction uses this\n\t\t\tstageStart: Date.now(),\n\t\t\tinteractionType: kind,\n\t\t},\n\t}\n\n\tconst onInteractionStart = (e: Event) => {\n\t\tconst path = e.composedPath()\n\t\tif (\n\t\t\tpath.some(\n\t\t\t\t(el) => el instanceof Element && el.id === \"react-devtool-toolbar-root\",\n\t\t\t)\n\t\t) {\n\t\t\treturn\n\t\t}\n\t\tif (Date.now() - lastInteractionRef.current.stageStart > 2000) {\n\t\t\tlastInteractionRef.current = {\n\t\t\t\tkind: \"uninitialized-stage\",\n\t\t\t\tinteractionUUID: not_globally_unique_generateId(),\n\t\t\t\tstageStart: Date.now(),\n\t\t\t\tinteractionType: kind,\n\t\t\t}\n\t\t}\n\n\t\tif (lastInteractionRef.current.kind !== \"uninitialized-stage\") {\n\t\t\treturn\n\t\t}\n\n\t\tconst pointerUpStart = performance.now()\n\n\t\toptions?.onStart?.(lastInteractionRef.current.interactionUUID)\n\t\tconst details = getTargetInteractionDetails(e.target as HTMLElement)\n\n\t\tif (!details) {\n\t\t\toptions?.onError?.(lastInteractionRef.current.interactionUUID)\n\t\t\treturn\n\t\t}\n\n\t\tconst fiberRenders: InteractionStartStage[\"fiberRenders\"] = {}\n\t\tconst stopListeningForRenders = listenForRenders(fiberRenders)\n\t\tlastInteractionRef.current = {\n\t\t\t...lastInteractionRef.current,\n\t\t\tinteractionType: kind,\n\t\t\tblockingTimeStart: Date.now(),\n\t\t\tchildrenTree: details.childrenTree,\n\t\t\tcomponentName: details.componentName,\n\t\t\tcomponentPath: details.componentPath,\n\t\t\tfiberRenders,\n\t\t\tkind: \"interaction-start\",\n\t\t\tinteractionStartDetail: pointerUpStart,\n\t\t\tstopListeningForRenders,\n\t\t}\n\n\t\tconst event = getEvent({ phase: \"end\", target: e.target as Element })\n\t\t// biome-ignore lint/suspicious/noExplicitAny: shut up biome\n\t\tdocument.addEventListener(event, onLastJS as any, {\n\t\t\tonce: true,\n\t\t})\n\n\t\t// this is an edge case where a click event is not fired after a pointerdown\n\t\t// im not sure why this happens, but it seems to only happen on non intractable elements\n\t\t// it causes the event handler to stay alive until a future interaction, which can break timing (looks super long)\n\t\t// or invariants (the start metadata was removed, so now its an end metadata with no start)\n\t\trequestAnimationFrame(() => {\n\t\t\t// biome-ignore lint/suspicious/noExplicitAny: shut up biome\n\t\t\tdocument.removeEventListener(event as any, onLastJS as any)\n\t\t})\n\t}\n\n\tdocument.addEventListener(\n\t\tgetEvent({ phase: \"start\" }),\n\t\t// biome-ignore lint/suspicious/noExplicitAny: shut up biome\n\t\tonInteractionStart as any,\n\t\t{\n\t\t\tcapture: true,\n\t\t},\n\t)\n\n\t/**\n\t *\n\t * TODO: IF WE DETECT RENDERS DURING THIS PERIOD WE CAN INCLUDE THAT IN THE RESULT AND THEN BACK THAT OUT OF COMPUTED STYLE TIME AND ADD IT BACK INTO JS TIME\n\t */\n\tconst onLastJS = (\n\t\te: { target: Element },\n\t\tinstrumentationId: string,\n\t\tabort: () => boolean,\n\t) => {\n\t\tif (\n\t\t\tlastInteractionRef.current.kind !== \"interaction-start\" &&\n\t\t\tinstrumentationId === instrumentationIdInControl\n\t\t) {\n\t\t\tif (kind === \"pointer\" && e.target instanceof HTMLSelectElement) {\n\t\t\t\tlastInteractionRef.current = {\n\t\t\t\t\tkind: \"uninitialized-stage\",\n\t\t\t\t\tinteractionUUID: not_globally_unique_generateId(),\n\t\t\t\t\tstageStart: Date.now(),\n\t\t\t\t\tinteractionType: kind,\n\t\t\t\t}\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\toptions?.onError?.(lastInteractionRef.current.interactionUUID)\n\t\t\tlastInteractionRef.current = {\n\t\t\t\tkind: \"uninitialized-stage\",\n\t\t\t\tinteractionUUID: not_globally_unique_generateId(),\n\t\t\t\tstageStart: Date.now(),\n\t\t\t\tinteractionType: kind,\n\t\t\t}\n\t\t\tinvariantError(\"pointer -> click\")\n\t\t\treturn\n\t\t}\n\n\t\tinstrumentationIdInControl = instrumentationId\n\n\t\ttrackDetailedTiming({\n\t\t\tabort,\n\t\t\tonMicroTask: () => {\n\t\t\t\tif (lastInteractionRef.current.kind === \"uninitialized-stage\") {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\n\t\t\t\tlastInteractionRef.current = {\n\t\t\t\t\t...lastInteractionRef.current,\n\t\t\t\t\tkind: \"js-end-stage\",\n\t\t\t\t\tjsEndDetail: performance.now(),\n\t\t\t\t}\n\t\t\t\treturn true\n\t\t\t},\n\t\t\tonRAF: () => {\n\t\t\t\tif (\n\t\t\t\t\tlastInteractionRef.current.kind !== \"js-end-stage\" &&\n\t\t\t\t\tlastInteractionRef.current.kind !== \"raf-stage\"\n\t\t\t\t) {\n\t\t\t\t\toptions?.onError?.(lastInteractionRef.current.interactionUUID)\n\t\t\t\t\tinvariantError(\"bad transition to raf\")\n\t\t\t\t\tlastInteractionRef.current = {\n\t\t\t\t\t\tkind: \"uninitialized-stage\",\n\t\t\t\t\t\tinteractionUUID: not_globally_unique_generateId(),\n\t\t\t\t\t\tstageStart: Date.now(),\n\t\t\t\t\t\tinteractionType: kind,\n\t\t\t\t\t}\n\t\t\t\t\treturn false\n\t\t\t\t}\n\n\t\t\t\tlastInteractionRef.current = {\n\t\t\t\t\t...lastInteractionRef.current,\n\t\t\t\t\tkind: \"raf-stage\",\n\t\t\t\t\trafStart: performance.now(),\n\t\t\t\t}\n\n\t\t\t\treturn true\n\t\t\t},\n\t\t\tonTimeout: () => {\n\t\t\t\tif (lastInteractionRef.current.kind !== \"raf-stage\") {\n\t\t\t\t\toptions?.onError?.(lastInteractionRef.current.interactionUUID)\n\t\t\t\t\tlastInteractionRef.current = {\n\t\t\t\t\t\tkind: \"uninitialized-stage\",\n\t\t\t\t\t\tinteractionUUID: not_globally_unique_generateId(),\n\t\t\t\t\t\tstageStart: Date.now(),\n\t\t\t\t\t\tinteractionType: kind,\n\t\t\t\t\t}\n\t\t\t\t\tinvariantError(\"raf->timeout\")\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tconst now = Date.now()\n\t\t\t\tconst timeoutStage: TimeoutStage = Object.freeze({\n\t\t\t\t\t...lastInteractionRef.current,\n\t\t\t\t\tkind: \"timeout-stage\",\n\t\t\t\t\tblockingTimeEnd: now,\n\t\t\t\t\tcommitEnd: performance.now(),\n\t\t\t\t})\n\n\t\t\t\tlastInteractionRef.current = {\n\t\t\t\t\tkind: \"uninitialized-stage\",\n\t\t\t\t\tinteractionUUID: not_globally_unique_generateId(),\n\t\t\t\t\tstageStart: now,\n\t\t\t\t\tinteractionType: kind,\n\t\t\t\t}\n\t\t\t\tlet completed = false\n\t\t\t\tconst completeInteraction = (event: PerformanceEntryChannelEvent) => {\n\t\t\t\t\tcompleted = true\n\n\t\t\t\t\tconst latency =\n\t\t\t\t\t\tevent.kind === \"auto-complete-race\"\n\t\t\t\t\t\t\t? event.detailedTiming.commitEnd -\n\t\t\t\t\t\t\t\tevent.detailedTiming.interactionStartDetail\n\t\t\t\t\t\t\t: event.entry.latency\n\t\t\t\t\tconst finalInteraction = {\n\t\t\t\t\t\tdetailedTiming: timeoutStage,\n\t\t\t\t\t\tlatency,\n\t\t\t\t\t\tcompletedAt: Date.now(),\n\t\t\t\t\t\tflushNeeded: true,\n\t\t\t\t\t}\n\n\t\t\t\t\toptions?.onComplete?.(\n\t\t\t\t\t\ttimeoutStage.interactionUUID,\n\t\t\t\t\t\tfinalInteraction,\n\t\t\t\t\t\tevent,\n\t\t\t\t\t)\n\t\t\t\t\tconst newTasks = tasks.filter(\n\t\t\t\t\t\t(task) => task.interactionUUID !== timeoutStage.interactionUUID,\n\t\t\t\t\t)\n\t\t\t\t\ttasks = BoundedArray.fromArray(newTasks, MAX_INTERACTION_TASKS)\n\n\t\t\t\t\treturn finalInteraction\n\t\t\t\t}\n\n\t\t\t\tconst task = {\n\t\t\t\t\tcompleteInteraction,\n\t\t\t\t\tendDateTime: Date.now(),\n\t\t\t\t\tstartDateTime: timeoutStage.blockingTimeStart,\n\t\t\t\t\ttype: kind,\n\t\t\t\t\tinteractionUUID: timeoutStage.interactionUUID,\n\t\t\t\t}\n\t\t\t\ttasks.push(task)\n\n\t\t\t\tif (!isPerformanceEventAvailable()) {\n\t\t\t\t\tconst newTasks = tasks.filter(\n\t\t\t\t\t\t(task) => task.interactionUUID !== timeoutStage.interactionUUID,\n\t\t\t\t\t)\n\t\t\t\t\ttasks = BoundedArray.fromArray(newTasks, MAX_INTERACTION_TASKS)\n\t\t\t\t\tcompleteInteraction({\n\t\t\t\t\t\tkind: \"auto-complete-race\",\n\t\t\t\t\t\t// redundant\n\t\t\t\t\t\tdetailedTiming: timeoutStage,\n\t\t\t\t\t\tinteractionUUID: timeoutStage.interactionUUID,\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tif (completed) {\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcompleteInteraction({\n\t\t\t\t\t\t\tkind: \"auto-complete-race\",\n\t\t\t\t\t\t\t// redundant\n\t\t\t\t\t\t\tdetailedTiming: timeoutStage,\n\t\t\t\t\t\t\tinteractionUUID: timeoutStage.interactionUUID,\n\t\t\t\t\t\t})\n\t\t\t\t\t\tconst newTasks = tasks.filter(\n\t\t\t\t\t\t\t(task) => task.interactionUUID !== timeoutStage.interactionUUID,\n\t\t\t\t\t\t)\n\t\t\t\t\t\ttasks = BoundedArray.fromArray(newTasks, MAX_INTERACTION_TASKS)\n\t\t\t\t\t\t// this means the max frame presentation delta we can observe is 300ms, but this should catch >99% of cases, the trade off is to not accidentally miss slowdowns if the user quickly clicked something else while this race was happening\n\t\t\t\t\t}, 1000)\n\t\t\t\t}\n\t\t\t},\n\t\t})\n\t}\n\n\tconst onKeyPress = (e: { target: Element }) => {\n\t\tconst id = not_globally_unique_generateId()\n\t\tonLastJS(e, id, () => id !== instrumentationIdInControl)\n\t}\n\n\tif (kind === \"keyboard\") {\n\t\t// biome-ignore lint/suspicious/noExplicitAny: shut up biome\n\t\tdocument.addEventListener(\"keypress\", onKeyPress as any)\n\t}\n\n\treturn () => {\n\t\tdocument.removeEventListener(\n\t\t\tgetEvent({ phase: \"start\" }),\n\t\t\t// biome-ignore lint/suspicious/noExplicitAny: shut up biome\n\t\t\tonInteractionStart as any,\n\t\t\t{\n\t\t\t\tcapture: true,\n\t\t\t},\n\t\t)\n\t\t// biome-ignore lint/suspicious/noExplicitAny: shut up biome\n\t\tdocument.removeEventListener(\"keypress\", onKeyPress as any)\n\t}\n}\n\n// unused, but will be soon for monitoring\nconst collectFiberSubtree = (\n\tfiber: Fiber,\n\tlimit: number,\n): Record<\n\tstring,\n\t{\n\t\tchildren: Array<string>\n\t\tfirstNamedAncestor: string\n\t\tisRoot: boolean\n\t\tisSvg: boolean\n\t}\n> => {\n\tconst adjacencyList = createChildrenAdjacencyList(fiber, limit).entries()\n\tconst fiberToNames = Array.from(adjacencyList).map(\n\t\t([fiber, { children, parent, isRoot, isSVG }]) => [\n\t\t\tgetDisplayName(fiber.type) ?? \"N/A\",\n\t\t\t{\n\t\t\t\tchildren: children.map((fiber) => getDisplayName(fiber.type) ?? \"N/A\"),\n\t\t\t\tfirstNamedAncestor: parent\n\t\t\t\t\t? (getFirstNameFromAncestor(parent) ?? \"No Parent\")\n\t\t\t\t\t: \"No Parent\",\n\t\t\t\tisRoot,\n\t\t\t\tisSVG,\n\t\t\t},\n\t\t],\n\t)\n\n\treturn Object.fromEntries(fiberToNames)\n}\n\nconst getHostFromFiber = (fiber: Fiber) => {\n\treturn traverseFiber(fiber, (node) => {\n\t\t// shouldn't be too slow\n\t\tif (isHostFiber(node)) {\n\t\t\treturn true\n\t\t}\n\t})?.stateNode\n}\n\nconst isPerformanceEventAvailable = () => {\n\treturn \"PerformanceEventTiming\" in globalThis\n}\n\nexport const listenForRenders = (\n\tfiberRenders: InteractionStartStage[\"fiberRenders\"],\n) => {\n\tconst listener = (fiber: Fiber) => {\n\t\tconst displayName = getDisplayName(fiber.type)\n\t\tif (!displayName) {\n\t\t\treturn\n\t\t}\n\t\tconst existing = fiberRenders[displayName]\n\t\tif (!existing) {\n\t\t\tconst parents = new Set<string>()\n\t\t\tconst res = fiber.return && getParentCompositeFiber(fiber.return)\n\t\t\tconst parentCompositeName = res && getDisplayName(res[0])\n\t\t\tif (parentCompositeName) {\n\t\t\t\tparents.add(parentCompositeName)\n\t\t\t}\n\t\t\tconst { selfTime, totalTime } = getTimings(fiber)\n\n\t\t\tconst newChanges = collectInspectorDataWithoutCounts(fiber)\n\t\t\tconst emptySection: SectionData = {\n\t\t\t\tcurrent: [],\n\t\t\t\tchanges: new Set<string | number>(),\n\t\t\t\tchangesCounts: new Map<string | number, number>(),\n\t\t\t}\n\t\t\tconst changes = {\n\t\t\t\tfiberProps: newChanges.fiberProps || emptySection,\n\t\t\t\tfiberState: newChanges.fiberState || emptySection,\n\t\t\t\tfiberContext: newChanges.fiberContext || emptySection,\n\t\t\t}\n\t\t\tfiberRenders[displayName] = {\n\t\t\t\trenderCount: 1,\n\t\t\t\thasMemoCache: hasMemoCache(fiber),\n\t\t\t\twasFiberRenderMount: wasFiberRenderMount(fiber),\n\t\t\t\tparents: parents,\n\t\t\t\tselfTime,\n\t\t\t\ttotalTime,\n\t\t\t\tnodeInfo: [\n\t\t\t\t\t{\n\t\t\t\t\t\telement: getHostFromFiber(fiber),\n\t\t\t\t\t\tname: getDisplayName(fiber.type) ?? \"Unknown\",\n\t\t\t\t\t\tselfTime: getTimings(fiber).selfTime,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tchanges,\n\t\t\t}\n\n\t\t\treturn\n\t\t}\n\t\tconst parentType = getParentCompositeFiber(fiber)?.[0]?.type\n\t\tif (parentType) {\n\t\t\tconst res = fiber.return && getParentCompositeFiber(fiber.return)\n\t\t\tconst parentCompositeName = res && getDisplayName(res[0])\n\t\t\tif (parentCompositeName) {\n\t\t\t\texisting.parents.add(parentCompositeName)\n\t\t\t}\n\t\t}\n\t\tconst { selfTime, totalTime } = getTimings(fiber)\n\n\t\tconst newChanges = collectInspectorDataWithoutCounts(fiber)\n\n\t\tif (!newChanges) return\n\n\t\tconst emptySection: SectionData = {\n\t\t\tcurrent: [],\n\t\t\tchanges: new Set<string | number>(),\n\t\t\tchangesCounts: new Map<string | number, number>(),\n\t\t}\n\n\t\texisting.wasFiberRenderMount =\n\t\t\texisting.wasFiberRenderMount || wasFiberRenderMount(fiber)\n\t\texisting.hasMemoCache = existing.hasMemoCache || hasMemoCache(fiber)\n\t\texisting.changes = {\n\t\t\tfiberProps: mergeSectionData(\n\t\t\t\texisting.changes?.fiberProps || emptySection,\n\t\t\t\tnewChanges.fiberProps || emptySection,\n\t\t\t),\n\t\t\tfiberState: mergeSectionData(\n\t\t\t\texisting.changes?.fiberState || emptySection,\n\t\t\t\tnewChanges.fiberState || emptySection,\n\t\t\t),\n\t\t\tfiberContext: mergeSectionData(\n\t\t\t\texisting.changes?.fiberContext || emptySection,\n\t\t\t\tnewChanges.fiberContext || emptySection,\n\t\t\t),\n\t\t}\n\n\t\texisting.renderCount += 1\n\t\texisting.selfTime += selfTime\n\t\texisting.totalTime += totalTime\n\t\texisting.nodeInfo.push({\n\t\t\telement: getHostFromFiber(fiber),\n\t\t\tname: getDisplayName(fiber.type) ?? \"Unknown\",\n\t\t\tselfTime: getTimings(fiber).selfTime,\n\t\t})\n\t}\n\tStore.interactionListeningForRenders = listener\n\n\treturn () => {\n\t\tif (Store.interactionListeningForRenders === listener) {\n\t\t\tStore.interactionListeningForRenders = null\n\t\t}\n\t}\n}\n\nconst mergeSectionData = (\n\texisting: SectionData,\n\tnewData: SectionData,\n): SectionData => {\n\tconst mergedSection: SectionData = {\n\t\tcurrent: [...existing.current],\n\t\tchanges: new Set<string | number>(),\n\t\tchangesCounts: new Map<string | number, number>(),\n\t}\n\n\tfor (const value of newData.current) {\n\t\tif (!mergedSection.current.some((item) => item.name === value.name)) {\n\t\t\tmergedSection.current.push(value)\n\t\t}\n\t}\n\n\tfor (const change of newData.changes) {\n\t\tif (typeof change === \"string\" || typeof change === \"number\") {\n\t\t\tmergedSection.changes.add(change)\n\t\t\tconst existingCount = existing.changesCounts.get(change) || 0\n\t\t\tconst newCount = newData.changesCounts.get(change) || 0\n\t\t\tmergedSection.changesCounts.set(change, existingCount + newCount)\n\t\t}\n\t}\n\n\treturn mergedSection\n}\n\nconst wasFiberRenderMount = (fiber: Fiber) => {\n\tif (!fiber.alternate) {\n\t\treturn true\n\t}\n\n\tconst prevFiber = fiber.alternate\n\n\tconst wasMounted =\n\t\tprevFiber &&\n\t\tprevFiber.memoizedState != null &&\n\t\tprevFiber.memoizedState.element != null &&\n\t\tprevFiber.memoizedState.isDehydrated !== true\n\n\tconst isMounted =\n\t\tfiber.memoizedState != null &&\n\t\tfiber.memoizedState.element != null &&\n\t\tfiber.memoizedState.isDehydrated !== true\n\n\treturn !wasMounted && isMounted\n}\n","/**\n * Adapted from zustand v5.0.3\n *\n * https://github.com/pmndrs/zustand\n *\n * Do not modify unless you know what you are doing\n */\ntype SetStateInternal<T> = {\n\t_(\n\t\tpartial: T | Partial<T> | { _(state: T): T | Partial<T> }[\"_\"],\n\t\treplace?: false,\n\t): void\n\t_(state: T | { _(state: T): T }[\"_\"], replace: true): void\n}[\"_\"]\n\ninterface StoreApi<T> {\n\tsetState: SetStateInternal<T>\n\tgetState: () => T\n\tgetInitialState: () => T\n\tsubscribe: {\n\t\t(listener: (state: T, prevState: T) => void): () => void\n\t\t<U>(\n\t\t\tselector: (state: T) => U,\n\t\t\tlistener: (selectedState: U, prevSelectedState: U) => void,\n\t\t): () => void\n\t}\n}\n\ntype Get<T, K, F> = K extends keyof T ? T[K] : F\n\ntype Mutate<S, Ms> = number extends Ms[\"length\" & keyof Ms]\n\t? S\n\t: Ms extends []\n\t\t? S\n\t\t: Ms extends [[infer Mi, infer Ma], ...infer Mrs]\n\t\t\t? Mutate<StoreMutators<S, Ma>[Mi & StoreMutatorIdentifier], Mrs>\n\t\t\t: never\n\ntype StateCreator<\n\tT,\n\tMis extends [StoreMutatorIdentifier, unknown][] = [],\n\tMos extends [StoreMutatorIdentifier, unknown][] = [],\n\tU = T,\n> = ((\n\tsetState: Get<Mutate<StoreApi<T>, Mis>, \"setState\", never>,\n\tgetState: Get<Mutate<StoreApi<T>, Mis>, \"getState\", never>,\n\tstore: Mutate<StoreApi<T>, Mis>,\n) => U) & { $$storeMutators?: Mos }\n\n// oxlint-disable-next-line no-unused-vars\ntype StoreMutators<S, A> = {}\ntype StoreMutatorIdentifier = keyof StoreMutators<unknown, unknown>\n\ntype CreateStore = {\n\t<T, Mos extends [StoreMutatorIdentifier, unknown][] = []>(\n\t\tinitializer: StateCreator<T, [], Mos>,\n\t): Mutate<StoreApi<T>, Mos>\n\n\t<T>(): <Mos extends [StoreMutatorIdentifier, unknown][] = []>(\n\t\tinitializer: StateCreator<T, [], Mos>,\n\t) => Mutate<StoreApi<T>, Mos>\n}\n\ntype CreateStoreImpl = <\n\tT,\n\tMos extends [StoreMutatorIdentifier, unknown][] = [],\n>(\n\tinitializer: StateCreator<T, [], Mos>,\n) => Mutate<StoreApi<T>, Mos>\n\nconst createStoreImpl: CreateStoreImpl = (createState) => {\n\ttype TState = ReturnType<typeof createState>\n\ttype Listener = (state: TState, prevState: TState) => void\n\tlet state: TState\n\tconst listeners: Set<Listener> = new Set()\n\n\tconst setState: StoreApi<TState>[\"setState\"] = (partial, replace) => {\n\t\tconst nextState =\n\t\t\ttypeof partial === \"function\"\n\t\t\t\t? (partial as (state: TState) => TState)(state)\n\t\t\t\t: partial\n\t\tif (!Object.is(nextState, state)) {\n\t\t\tconst previousState = state\n\t\t\tstate =\n\t\t\t\t(replace ?? (typeof nextState !== \"object\" || nextState === null))\n\t\t\t\t\t? (nextState as TState)\n\t\t\t\t\t: Object.assign({}, state, nextState)\n\t\t\tlisteners.forEach((listener) => listener(state, previousState))\n\t\t}\n\t}\n\n\tconst getState: StoreApi<TState>[\"getState\"] = () => state\n\n\tconst getInitialState: StoreApi<TState>[\"getInitialState\"] = () =>\n\t\tinitialState\n\n\tconst subscribe: StoreApi<TState>[\"subscribe\"] = (\n\t\tselectorOrListener:\n\t\t\t| ((state: TState, prevState: TState) => void)\n\t\t\t// biome-ignore lint/suspicious/noExplicitAny: <explanation>\n\t\t\t| ((state: TState) => any),\n\t\t// biome-ignore lint/suspicious/noExplicitAny: <explanation>\n\t\tlistener?: (selectedState: any, prevSelectedState: any) => void,\n\t) => {\n\t\t// biome-ignore lint/suspicious/noExplicitAny: <explanation>\n\t\tlet selector: ((state: TState) => any) | undefined\n\t\t// biome-ignore lint/suspicious/noExplicitAny: <explanation>\n\t\tlet actualListener: (state: any, prevState: any) => void\n\n\t\tif (listener) {\n\t\t\t// Selector subscription case\n\t\t\t// biome-ignore lint/suspicious/noExplicitAny: <explanation>\n\t\t\tselector = selectorOrListener as (state: TState) => any\n\t\t\tactualListener = listener\n\t\t} else {\n\t\t\t// Regular subscription case\n\t\t\tactualListener = selectorOrListener as (\n\t\t\t\tstate: TState,\n\t\t\t\tprevState: TState,\n\t\t\t) => void\n\t\t}\n\n\t\tlet currentSlice = selector ? selector(state) : undefined\n\n\t\tconst wrappedListener = (newState: TState, previousState: TState) => {\n\t\t\tif (selector) {\n\t\t\t\tconst nextSlice = selector(newState)\n\t\t\t\tconst prevSlice = selector(previousState)\n\t\t\t\tif (!Object.is(currentSlice, nextSlice)) {\n\t\t\t\t\tcurrentSlice = nextSlice\n\t\t\t\t\tactualListener(nextSlice, prevSlice)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tactualListener(newState, previousState)\n\t\t\t}\n\t\t}\n\n\t\tlisteners.add(wrappedListener)\n\t\t// Unsubscribe\n\t\treturn () => listeners.delete(wrappedListener)\n\t}\n\n\tconst api = { setState, getState, getInitialState, subscribe }\n\tconst initialState = (state = createState(setState, getState, api))\n\t// biome-ignore lint/suspicious/noExplicitAny: <explanation>\n\treturn api as any\n}\n\nexport const createStore = ((createState) =>\n\tcreateState ? createStoreImpl(createState) : createStoreImpl) as CreateStore\n","import { useSyncExternalStore } from \"preact/compat\"\nimport { not_globally_unique_generateId } from \"~core/monitor/utils\"\nimport { MAX_INTERACTION_BATCH, interactionStore } from \"./interaction-store\"\nimport {\n\ttype FiberRenders,\n\ttype PerformanceEntryChannelEvent,\n\ttype TimeoutStage,\n\tlistenForPerformanceEntryInteractions,\n\tlistenForRenders,\n\tsetupDetailedPointerTimingListener,\n\tsetupPerformancePublisher,\n} from \"./performance\"\nimport { MAX_CHANNEL_SIZE, performanceEntryChannels } from \"./performance-store\"\nimport { BoundedArray } from \"./performance-utils\"\nimport { createStore } from \"~web/utils/create-store\"\n\nlet profileListeners: Array<(interaction: FinalInteraction) => void> = []\n\ntype FinalInteraction = {\n\tdetailedTiming: TimeoutStage\n\tlatency: number\n\tcompletedAt: number\n}\n\nconst listenForProfile = (\n\tlistener: (interaction: FinalInteraction) => void,\n) => {\n\tprofileListeners.push(listener)\n\n\treturn () => {\n\t\tprofileListeners = profileListeners.filter(\n\t\t\t(existingListener) => existingListener !== listener,\n\t\t)\n\t}\n}\n\ntype NewInteractionStoreState = {\n\t/**\n\t * problem definition: we need to store bounds but how do we handle uninitialized bounds\n\t *\n\t * i guess what we said before, we just have one active bounds and that's all that matters chat\n\t */\n\n\tstartAt: number\n\tendAt: number\n}\n\nconst interactionStatusStore: {\n\tstate: NewInteractionStoreState | null\n\tlisteners: Array<(state: NewInteractionStoreState) => void>\n\taddListener: (cb: (state: NewInteractionStoreState) => void) => () => void\n} = {\n\tstate: null,\n\taddListener: (cb) => {\n\t\tinteractionStatusStore.listeners.push(cb)\n\t\treturn () => {\n\t\t\tinteractionStatusStore.listeners =\n\t\t\t\tinteractionStatusStore.listeners.filter((l) => l !== cb)\n\t\t}\n\t},\n\tlisteners: [],\n}\n\nlet accumulatedFiberRendersOverTask: null | FiberRenders = null\ntype InteractionEvent = {\n\tkind: \"interaction\"\n\tdata: {\n\t\tstartAt: number\n\t\tendAt: number\n\t\tmeta: {\n\t\t\tdetailedTiming: TimeoutStage\n\t\t\tlatency: number\n\t\t\tkind: PerformanceEntryChannelEvent[\"kind\"]\n\t\t}\n\t}\n}\n\ntype LongRenderPipeline = {\n\tkind: \"long-render\"\n\tdata: {\n\t\tstartAt: number\n\t\tendAt: number\n\t\tmeta: {\n\t\t\tlatency: number\n\t\t\tfiberRenders: FiberRenders\n\t\t\tfps: number\n\t\t}\n\t}\n}\n\ntype SlowdownEvent = (InteractionEvent | LongRenderPipeline) & {\n\tid: string\n}\n\ntype ToolbarEventStoreState = {\n\tstate: {\n\t\tevents: BoundedArray<SlowdownEvent>\n\t}\n\tactions: {\n\t\taddEvent: (event: SlowdownEvent) => void\n\t\taddListener: (listener: (event: SlowdownEvent) => void) => () => void\n\t\tclear: () => void\n\t}\n}\n\ntype DebugEvent = {\n\tkind: string\n\tat: number\n\tmeta?: unknown\n}\n\nconst EVENT_STORE_CAPACITY = 200\n\nconst toolbarEventStore = createStore<ToolbarEventStoreState>()((set, get) => {\n\tconst listeners = new Set<(event: SlowdownEvent) => void>()\n\n\treturn {\n\t\tstate: {\n\t\t\tevents: new BoundedArray(EVENT_STORE_CAPACITY),\n\t\t},\n\n\t\tactions: {\n\t\t\taddEvent: (event: SlowdownEvent) => {\n\t\t\t\tlisteners.forEach((listener) => listener(event))\n\n\t\t\t\tconst events = [...get().state.events, event]\n\t\t\t\tconst applyOverlapCheckToLongRenderEvent = (\n\t\t\t\t\tlongRenderEvent: LongRenderPipeline & { id: string },\n\t\t\t\t\tonOverlap: (overlapsWith: InteractionEvent & { id: string }) => void,\n\t\t\t\t) => {\n\t\t\t\t\tconst overlapsWith = events.find((event) => {\n\t\t\t\t\t\tif (event.kind === \"long-render\") {\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (event.id === longRenderEvent.id) {\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * |---x-----------x------ (interaction)\n\t\t\t\t\t\t * |x-----------x          (long-render)\n\t\t\t\t\t\t */\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlongRenderEvent.data.startAt <= event.data.startAt &&\n\t\t\t\t\t\t\tlongRenderEvent.data.endAt <= event.data.endAt &&\n\t\t\t\t\t\t\tlongRenderEvent.data.endAt >= event.data.startAt\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn true\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/**\n             * |x-----------x---- (interaction)\n             * |--x------------x  (long-render)\n             *\n\n             */\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tevent.data.startAt <= longRenderEvent.data.startAt &&\n\t\t\t\t\t\t\tevent.data.endAt >= longRenderEvent.data.startAt\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn true\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t *\n\t\t\t\t\t\t * |--x-------------x    (interaction)\n\t\t\t\t\t\t * |x------------------x (long-render)\n\t\t\t\t\t\t *\n\t\t\t\t\t\t */\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlongRenderEvent.data.startAt <= event.data.startAt &&\n\t\t\t\t\t\t\tlongRenderEvent.data.endAt >= event.data.endAt\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn true\n\t\t\t\t\t\t}\n\t\t\t\t\t}) as undefined | (InteractionEvent & { id: string }) // invariant: because we early check the typechecker does not know it must be the case that when it finds something, it will be an interaction it overlaps with\n\n\t\t\t\t\tif (overlapsWith) {\n\t\t\t\t\t\tonOverlap(overlapsWith)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst toRemove = new Set<string>()\n\n\t\t\t\tevents.forEach((event) => {\n\t\t\t\t\tif (event.kind === \"interaction\") return\n\t\t\t\t\tapplyOverlapCheckToLongRenderEvent(event, () => {\n\t\t\t\t\t\ttoRemove.add(event.id)\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\t\tconst withRemovedEvents = events.filter(\n\t\t\t\t\t(event) => !toRemove.has(event.id),\n\t\t\t\t)\n\n\t\t\t\tset(() => ({\n\t\t\t\t\tstate: {\n\t\t\t\t\t\tevents: BoundedArray.fromArray(\n\t\t\t\t\t\t\twithRemovedEvents,\n\t\t\t\t\t\t\tEVENT_STORE_CAPACITY,\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t}))\n\t\t\t},\n\n\t\t\taddListener: (listener: (event: SlowdownEvent) => void) => {\n\t\t\t\tlisteners.add(listener)\n\t\t\t\treturn () => {\n\t\t\t\t\tlisteners.delete(listener)\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tclear: () => {\n\t\t\t\tset({\n\t\t\t\t\tstate: {\n\t\t\t\t\t\tevents: new BoundedArray(EVENT_STORE_CAPACITY),\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t},\n\t\t},\n\t}\n})\n\nconst useToolbarEventLog = () => {\n\treturn useSyncExternalStore(\n\t\ttoolbarEventStore.subscribe,\n\t\ttoolbarEventStore.getState,\n\t)\n}\n\nlet taskDirtyAt: null | number = null\nlet taskDirtyOrigin: null | number = null\n\nlet previousTrackCurrentMouseOverElementCallback:\n\t| ((e: MouseEvent) => void)\n\t| null = null\n\nlet overToolbar: boolean | null\n\nconst trackCurrentMouseOverToolbar = () => {\n\tconst callback = (e: MouseEvent) => {\n\t\toverToolbar = e\n\t\t\t.composedPath()\n\t\t\t.map((path) => (path as Element).id)\n\t\t\t.filter(Boolean)\n\t\t\t.includes(\"react-devtool-toolbar\")\n\t}\n\n\tdocument.addEventListener(\"mouseover\", callback)\n\tpreviousTrackCurrentMouseOverElementCallback = callback\n\n\treturn () => {\n\t\tif (previousTrackCurrentMouseOverElementCallback) {\n\t\t\tdocument.removeEventListener(\n\t\t\t\t\"mouseover\",\n\t\t\t\tpreviousTrackCurrentMouseOverElementCallback,\n\t\t\t)\n\t\t}\n\t}\n}\n\n// stops long tasks b/c backgrounded from being reported\nconst startDirtyTaskTracking = () => {\n\tconst onVisibilityChange = () => {\n\t\ttaskDirtyAt = performance.now()\n\t\ttaskDirtyOrigin = performance.timeOrigin\n\t}\n\n\tdocument.addEventListener(\"visibilitychange\", onVisibilityChange)\n\n\treturn () => {\n\t\tdocument.removeEventListener(\"visibilitychange\", onVisibilityChange)\n\t}\n}\n\nconst HIGH_SEVERITY_FPS_DROP_TIME = 150\n\nlet framesDrawnInTheLastSecond: Array<number> = []\n\nfunction startLongPipelineTracking() {\n\tlet rafHandle: number\n\tlet timeoutHandle: ReturnType<typeof setTimeout>\n\n\tfunction measure() {\n\t\tlet unSub: (() => void) | null = null\n\t\taccumulatedFiberRendersOverTask = null\n\t\taccumulatedFiberRendersOverTask = {}\n\t\tunSub = listenForRenders(accumulatedFiberRendersOverTask)\n\t\tconst startOrigin = performance.timeOrigin\n\t\tconst startTime = performance.now()\n\t\trafHandle = requestAnimationFrame(() => {\n\t\t\t// very low overhead, on the order of dozens of microseconds to run\n\t\t\ttimeoutHandle = setTimeout(() => {\n\t\t\t\tconst endNow = performance.now()\n\t\t\t\tconst duration = endNow - startTime\n\t\t\t\tconst endOrigin = performance.timeOrigin\n\t\t\t\tframesDrawnInTheLastSecond.push(endNow + endOrigin)\n\n\t\t\t\tconst framesInTheLastSecond = framesDrawnInTheLastSecond.filter(\n\t\t\t\t\t(frameAt) => endNow + endOrigin - frameAt <= 1000,\n\t\t\t\t)\n\n\t\t\t\tconst fps = framesInTheLastSecond.length\n\t\t\t\tframesDrawnInTheLastSecond = framesInTheLastSecond\n\n\t\t\t\tconst taskConsideredDirty =\n\t\t\t\t\ttaskDirtyAt !== null && taskDirtyOrigin !== null\n\t\t\t\t\t\t? endNow + endOrigin - (taskDirtyOrigin + taskDirtyAt) < 100\n\t\t\t\t\t\t: null\n\t\t\t\t// not useful to report slowdowns caused by things like outlines (can get expensive not fully optimized)\n\t\t\t\tconst wasTaskInfluencedByToolbar = overToolbar !== null && overToolbar\n\n\t\t\t\tif (\n\t\t\t\t\tduration > HIGH_SEVERITY_FPS_DROP_TIME &&\n\t\t\t\t\t!taskConsideredDirty &&\n\t\t\t\t\tdocument.visibilityState === \"visible\" &&\n\t\t\t\t\t!wasTaskInfluencedByToolbar\n\t\t\t\t) {\n\t\t\t\t\tconst endAt = endOrigin + endNow\n\t\t\t\t\tconst startAt = startTime + startOrigin\n\n\t\t\t\t\ttoolbarEventStore.getState().actions.addEvent({\n\t\t\t\t\t\tkind: \"long-render\",\n\t\t\t\t\t\tid: not_globally_unique_generateId(),\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tendAt: endAt,\n\t\t\t\t\t\t\tstartAt: startAt,\n\t\t\t\t\t\t\tmeta: {\n\t\t\t\t\t\t\t\t// biome-ignore lint/style/noNonNullAssertion: invariant: this will exist by this point\n\t\t\t\t\t\t\t\tfiberRenders: accumulatedFiberRendersOverTask!,\n\t\t\t\t\t\t\t\tlatency: duration,\n\t\t\t\t\t\t\t\tfps,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\ttaskDirtyAt = null\n\t\t\t\ttaskDirtyOrigin = null\n\n\t\t\t\tunSub?.()\n\t\t\t\tmeasure()\n\t\t\t}, 0)\n\t\t})\n\t\treturn unSub\n\t}\n\n\tconst measureUnSub = measure()\n\n\treturn () => {\n\t\tmeasureUnSub()\n\t\tcancelAnimationFrame(rafHandle)\n\t\tclearTimeout(timeoutHandle)\n\t}\n}\nexport const startTimingTracking = () => {\n\tconst unSubPerformance = setupPerformancePublisher()\n\tconst unSubMouseOver = trackCurrentMouseOverToolbar()\n\tconst unSubDirtyTaskTracking = startDirtyTaskTracking()\n\tconst unSubLongPipelineTracking = startLongPipelineTracking()\n\n\tconst onComplete = async (\n\t\t_: string,\n\t\tfinalInteraction: FinalInteraction,\n\t\tevent: PerformanceEntryChannelEvent,\n\t) => {\n\t\ttoolbarEventStore.getState().actions.addEvent({\n\t\t\tkind: \"interaction\",\n\t\t\tid: not_globally_unique_generateId(),\n\t\t\tdata: {\n\t\t\t\tstartAt: finalInteraction.detailedTiming.blockingTimeStart,\n\t\t\t\tendAt: performance.now() + performance.timeOrigin,\n\t\t\t\tmeta: { ...finalInteraction, kind: event.kind }, // TODO, will need interaction specific metadata here\n\t\t\t},\n\t\t})\n\n\t\tconst existingCompletedInteractions =\n\t\t\tperformanceEntryChannels.getChannelState(\"recording\")\n\n\t\tfinalInteraction.detailedTiming.stopListeningForRenders()\n\n\t\tif (existingCompletedInteractions.length) {\n\t\t\t// then performance entry and our detailed timing handlers are out of sync, we disregard that entry\n\t\t\t// it may be possible the performance entry returned before detailed timing. If that's the case we should update\n\t\t\t// assumptions and deal with mapping the entry back to the detailed timing here\n\t\t\tperformanceEntryChannels.updateChannelState(\n\t\t\t\t\"recording\",\n\t\t\t\t() => new BoundedArray(MAX_CHANNEL_SIZE),\n\t\t\t)\n\t\t}\n\t}\n\tconst unSubDetailedPointerTiming = setupDetailedPointerTimingListener(\n\t\t\"pointer\",\n\t\t{\n\t\t\tonComplete,\n\t\t},\n\t)\n\tconst unSubDetailedKeyboardTiming = setupDetailedPointerTimingListener(\n\t\t\"keyboard\",\n\t\t{\n\t\t\tonComplete,\n\t\t},\n\t)\n\n\tconst unSubInteractions = listenForPerformanceEntryInteractions(\n\t\t(completedInteraction) => {\n\t\t\tinteractionStore.setState(\n\t\t\t\tBoundedArray.fromArray(\n\t\t\t\t\tinteractionStore.getCurrentState().concat(completedInteraction),\n\t\t\t\t\tMAX_INTERACTION_BATCH,\n\t\t\t\t),\n\t\t\t)\n\t\t},\n\t)\n\n\treturn () => {\n\t\tunSubMouseOver()\n\t\tunSubDirtyTaskTracking()\n\t\tunSubLongPipelineTracking()\n\t\tunSubPerformance()\n\t\tunSubDetailedPointerTiming()\n\t\tunSubInteractions()\n\t\tunSubDetailedKeyboardTiming()\n\t}\n}\n","import { signal } from \"@preact/signals\"\nimport { iife } from \"./performance-utils\"\n\ninterface HeatmapOverlay {\n\tboundingRect: DOMRect\n\tms: number\n\tname: string\n}\n\nlet highlightCanvas: HTMLCanvasElement | null = null\nlet highlightCtx: CanvasRenderingContext2D | null = null\n\nlet animationFrame: number | null = null\n\ntype TransitionHighlightState = {\n\tkind: \"transition\"\n\ttransitionTo: {\n\t\tname: string\n\t\trects: Array<DOMRect>\n\t\talpha: number\n\t}\n\tcurrent: {\n\t\tname: string\n\t\trects: Array<DOMRect>\n\t\talpha: number\n\t} | null\n}\ntype HighlightState =\n\t| TransitionHighlightState\n\t| {\n\t\t\tkind: \"move-out\"\n\t\t\tcurrent: {\n\t\t\t\tname: string\n\t\t\t\trects: Array<DOMRect>\n\t\t\t\talpha: number\n\t\t\t}\n\t  }\n\t| {\n\t\t\tkind: \"idle\"\n\t\t\tcurrent: {\n\t\t\t\tname: string\n\t\t\t\trects: Array<DOMRect>\n\t\t\t} | null\n\t  }\n\nconst HighlightStore = signal<HighlightState>({\n\tkind: \"idle\",\n\tcurrent: null,\n})\n\nlet currFrame: ReturnType<typeof requestAnimationFrame> | null = null\nconst drawHighlights = () => {\n\tif (currFrame) {\n\t\tcancelAnimationFrame(currFrame)\n\t}\n\tcurrFrame = requestAnimationFrame(() => {\n\t\tif (!highlightCanvas || !highlightCtx) {\n\t\t\treturn\n\t\t}\n\n\t\thighlightCtx.clearRect(0, 0, highlightCanvas.width, highlightCanvas.height)\n\n\t\tconst color = \"hsl(271, 76%, 53%)\"\n\t\tconst state = HighlightStore.value\n\t\tconst { alpha, current } = iife(() => {\n\t\t\tswitch (state.kind) {\n\t\t\t\tcase \"transition\": {\n\t\t\t\t\tconst current =\n\t\t\t\t\t\tstate.current?.alpha && state.current.alpha > 0\n\t\t\t\t\t\t\t? state.current\n\t\t\t\t\t\t\t: state.transitionTo\n\t\t\t\t\treturn {\n\t\t\t\t\t\talpha: current ? current.alpha : 0,\n\t\t\t\t\t\tcurrent,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcase \"move-out\": {\n\t\t\t\t\treturn { alpha: state.current?.alpha ?? 0, current: state.current }\n\t\t\t\t}\n\t\t\t\tcase \"idle\": {\n\t\t\t\t\treturn { alpha: 1, current: state.current }\n\t\t\t\t}\n\t\t\t}\n\t\t\t// exhaustive check\n\t\t\tstate satisfies never\n\t\t})\n\n\t\tcurrent?.rects.forEach((rect) => {\n\t\t\tif (!highlightCtx) {\n\t\t\t\t// typescript cant tell this closure is synchronous/non-escaping\n\t\t\t\treturn\n\t\t\t}\n\t\t\thighlightCtx.shadowColor = color\n\t\t\thighlightCtx.shadowBlur = 6\n\t\t\thighlightCtx.strokeStyle = color\n\t\t\thighlightCtx.lineWidth = 2\n\n\t\t\thighlightCtx.globalAlpha = alpha\n\n\t\t\thighlightCtx.beginPath()\n\t\t\thighlightCtx.rect(rect.left, rect.top, rect.width, rect.height)\n\t\t\thighlightCtx.stroke()\n\n\t\t\thighlightCtx.shadowBlur = 0\n\t\t\thighlightCtx.beginPath()\n\t\t\thighlightCtx.rect(rect.left, rect.top, rect.width, rect.height)\n\t\t\thighlightCtx.stroke()\n\t\t})\n\n\t\tswitch (state.kind) {\n\t\t\tcase \"move-out\": {\n\t\t\t\tif (state.current.alpha === 0) {\n\t\t\t\t\tHighlightStore.value = {\n\t\t\t\t\t\tkind: \"idle\",\n\t\t\t\t\t\tcurrent: null,\n\t\t\t\t\t}\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (state.current.alpha <= 0.01) {\n\t\t\t\t\tstate.current.alpha = 0\n\t\t\t\t}\n\t\t\t\tstate.current.alpha = Math.max(0, state.current.alpha - 0.03)\n\t\t\t\tdrawHighlights()\n\t\t\t\treturn\n\t\t\t}\n\t\t\tcase \"transition\": {\n\t\t\t\tif (state.current && state.current.alpha > 0) {\n\t\t\t\t\tstate.current.alpha = Math.max(0, state.current.alpha - 0.03)\n\t\t\t\t\tdrawHighlights()\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\t// invariant, state.current.alpha === 0\n\t\t\t\tif (state.transitionTo.alpha === 1) {\n\t\t\t\t\tHighlightStore.value = {\n\t\t\t\t\t\tkind: \"idle\",\n\t\t\t\t\t\tcurrent: state.transitionTo,\n\t\t\t\t\t}\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\t// intentionally linear\n\t\t\t\tstate.transitionTo.alpha = Math.min(state.transitionTo.alpha + 0.03, 1)\n\n\t\t\t\tdrawHighlights()\n\t\t\t}\n\t\t\tcase \"idle\": {\n\t\t\t\t// no-op\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\t})\n}\n\nlet handleResizeListener: (() => void) | null = null\nexport const createHighlightCanvas = (root: HTMLElement) => {\n\thighlightCanvas = document.createElement(\"canvas\")\n\thighlightCtx = highlightCanvas.getContext(\"2d\", { alpha: true })\n\tif (!highlightCtx) return null\n\n\tconst dpr = window.devicePixelRatio || 1\n\tconst { innerWidth, innerHeight } = window\n\n\thighlightCanvas.style.width = `${innerWidth}px`\n\thighlightCanvas.style.height = `${innerHeight}px`\n\thighlightCanvas.width = innerWidth * dpr\n\thighlightCanvas.height = innerHeight * dpr\n\thighlightCanvas.style.position = \"fixed\"\n\thighlightCanvas.style.left = \"0\"\n\thighlightCanvas.style.top = \"0\"\n\thighlightCanvas.style.pointerEvents = \"none\"\n\thighlightCanvas.style.zIndex = \"2147483600\"\n\n\thighlightCtx.scale(dpr, dpr)\n\n\troot.appendChild(highlightCanvas)\n\n\tif (handleResizeListener) {\n\t\twindow.removeEventListener(\"resize\", handleResizeListener)\n\t}\n\n\tconst handleResize = () => {\n\t\tif (!highlightCanvas || !highlightCtx) return\n\t\tconst dpr = window.devicePixelRatio || 1\n\t\tconst { innerWidth, innerHeight } = window\n\n\t\thighlightCanvas.style.width = `${innerWidth}px`\n\t\thighlightCanvas.style.height = `${innerHeight}px`\n\t\thighlightCanvas.width = innerWidth * dpr\n\t\thighlightCanvas.height = innerHeight * dpr\n\t\thighlightCtx.scale(dpr, dpr)\n\n\t\tdrawHighlights()\n\t}\n\thandleResizeListener = handleResize\n\n\twindow.addEventListener(\"resize\", handleResize)\n\n\tHighlightStore.subscribe(() => {\n\t\trequestAnimationFrame(() => {\n\t\t\tdrawHighlights()\n\t\t})\n\t})\n\n\treturn cleanup\n}\n\nfunction cleanup() {\n\tif (animationFrame) {\n\t\tcancelAnimationFrame(animationFrame)\n\t\tanimationFrame = null\n\t}\n\tif (highlightCanvas?.parentNode) {\n\t\thighlightCanvas.parentNode.removeChild(highlightCanvas)\n\t}\n\thighlightCanvas = null\n\thighlightCtx = null\n}\n","import { type Signal, signal } from \"@preact/signals\"\nimport {\n\ttype Fiber,\n\tdetectReactBuildType,\n\tgetRDTHook,\n\tisInstrumentationActive,\n} from \"bippy\"\nimport type { ComponentType } from \"preact\"\nimport type { ReactNode } from \"preact/compat\"\nimport type { RenderData } from \"~core/utils\"\nimport { createToolbar } from \"~web/toolbar\"\nimport { IS_CLIENT } from \"~web/utils/constants\"\nimport { readLocalStorage, saveLocalStorage } from \"~web/utils/helpers\"\nimport type { Outline } from \"~web/utils/outline\"\nimport type { States } from \"~web/views/inspector/utils\"\nimport styles from \"../../index.css?inline\"\nimport type {\n\tChangeReason,\n\tRender,\n\tcreateInstrumentation,\n} from \"./instrumentation\"\nimport type { InternalInteraction } from \"./monitor/types\"\nimport type { getSession } from \"./monitor/utils\"\nimport { startTimingTracking } from \"./notifications/event-tracking\"\nimport { createHighlightCanvas } from \"./notifications/outline-overlay\"\n\ndeclare global {\n\tinterface Window {\n\t\t__REACT_DEVTOOL_VERSION__?: string\n\t\t__REACT_DEVTOOL_STOP__?: () => void\n\t\t__REACT_DEVTOOL_TOOLBAR_CONTAINER__?: HTMLElement\n\t\treactDevtoolCleanupListeners?: () => void\n\t}\n}\n\nlet rootContainer: HTMLDivElement | null = null\nlet shadowRoot: ShadowRoot | null = null\n\n// Font loading function for shadow DOM compatibility\nconst loadOptimisticFonts = () => {\n\tif (!IS_CLIENT || document.getElementById(\"react-devtool-fonts\")) {\n\t\treturn // Fonts already loaded or not in client\n\t}\n\n\tconst fontCSS = `\n\t\t/* Arabic */\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Text';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Text_Arbc_W_Md.woff2') format('woff2');\n\t\t\tfont-weight: 500;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0600-06FF;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Text';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Text_Arbc_W_Bd.woff2') format('woff2');\n\t\t\tfont-weight: 700;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0600-06FF;\n\t\t}\n\n\t\t/* Cyrillic */\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Display';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Display_Cyrl_W_Md.woff2') format('woff2');\n\t\t\tfont-weight: 500;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0400-045F, U+2116;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Display';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Display_Cyrl_W_SBd.woff2') format('woff2');\n\t\t\tfont-weight: 600;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0400-045F, U+2116;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Display';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Display_Cyrl_W_Bd.woff2') format('woff2');\n\t\t\tfont-weight: 700;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0400-045F, U+2116;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Text';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Text_Cyrl_W_Rg.woff2') format('woff2');\n\t\t\tfont-weight: 400;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0400-045F, U+2116;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Text';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Text_Cyrl_W_Md.woff2') format('woff2');\n\t\t\tfont-weight: 500;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0400-045F, U+2116;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Text';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Text_Cyrl_W_Bd.woff2') format('woff2');\n\t\t\tfont-weight: 700;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0400-045F, U+2116;\n\t\t}\n\n\t\t/* Devanagari */\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Display';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Display_Deva_W_Md.woff2') format('woff2');\n\t\t\tfont-weight: 500;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0900-097F, U+1CD0-1CF6, U+1CF8-1CF9, U+200C-200D, U+20A8, U+20B9, U+25CC, U+A830-A839, U+A8E0-A8FB;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Display';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Display_Deva_W_SBd.woff2') format('woff2');\n\t\t\tfont-weight: 600;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0900-097F, U+1CD0-1CF6, U+1CF8-1CF9, U+200C-200D, U+20A8, U+20B9, U+25CC, U+A830-A839, U+A8E0-A8FB;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Display';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Display_Deva_W_Bd.woff2') format('woff2');\n\t\t\tfont-weight: 700;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0900-097F, U+1CD0-1CF6, U+1CF8-1CF9, U+200C-200D, U+20A8, U+20B9, U+25CC, U+A830-A839, U+A8E0-A8FB;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Text';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Text_Deva_W_Rg.woff2') format('woff2');\n\t\t\tfont-weight: 400;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0900-097F, U+1CD0-1CF6, U+1CF8-1CF9, U+200C-200D, U+20A8, U+20B9, U+25CC, U+A830-A839, U+A8E0-A8FB;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Text';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Text_Deva_W_Md.woff2') format('woff2');\n\t\t\tfont-weight: 500;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0900-097F, U+1CD0-1CF6, U+1CF8-1CF9, U+200C-200D, U+20A8, U+20B9, U+25CC, U+A830-A839, U+A8E0-A8FB;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Text';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Text_Deva_W_Bd.woff2') format('woff2');\n\t\t\tfont-weight: 700;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0900-097F, U+1CD0-1CF6, U+1CF8-1CF9, U+200C-200D, U+20A8, U+20B9, U+25CC, U+A830-A839, U+A8E0-A8FB;\n\t\t}\n\n\t\t/* Vietnamese */\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Display';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Display_Viet_W_Md.woff2') format('woff2');\n\t\t\tfont-weight: 500;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Display';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Display_Viet_W_SBd.woff2') format('woff2');\n\t\t\tfont-weight: 600;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Display';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Display_Viet_W_Bd.woff2') format('woff2');\n\t\t\tfont-weight: 700;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Text';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Text_Viet_W_Rg.woff2') format('woff2');\n\t\t\tfont-weight: 400;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Text';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Text_Viet_W_Md.woff2') format('woff2');\n\t\t\tfont-weight: 500;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Text';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Text_Viet_W_Bd.woff2') format('woff2');\n\t\t\tfont-weight: 700;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;\n\t\t}\n\n\t\t/* Latin Extended */\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Display';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Display_W_Md.woff2') format('woff2');\n\t\t\tfont-weight: 500;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Display';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Display_W_SBd.woff2') format('woff2');\n\t\t\tfont-weight: 600;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Display';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Display_W_Bd.woff2') format('woff2');\n\t\t\tfont-weight: 700;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Text';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Text_W_Rg.woff2') format('woff2');\n\t\t\tfont-weight: 400;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Text';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Text_W_Md.woff2') format('woff2');\n\t\t\tfont-weight: 500;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Text';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Text_W_Bd.woff2') format('woff2');\n\t\t\tfont-weight: 700;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\n\t\t}\n\n\t\t/* Latin */\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Display';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Display_W_Md.woff2') format('woff2');\n\t\t\tfont-weight: 500;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Display';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Display_W_SBd.woff2') format('woff2');\n\t\t\tfont-weight: 600;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Display';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Display_W_Bd.woff2') format('woff2');\n\t\t\tfont-weight: 700;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Text';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Text_W_Rg.woff2') format('woff2');\n\t\t\tfont-weight: 400;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Text';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Text_W_Md.woff2') format('woff2');\n\t\t\tfont-weight: 500;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n\t\t}\n\n\t\t@font-face {\n\t\t\tfont-family: 'Optimistic Text';\n\t\t\tsrc: url('https://react.dev/fonts/Optimistic_Text_W_Bd.woff2') format('woff2');\n\t\t\tfont-weight: 700;\n\t\t\tfont-style: normal;\n\t\t\tfont-display: swap;\n\t\t\tunicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n\t\t}\n\t`\n\n\tconst styleElement = document.createElement(\"style\")\n\tstyleElement.id = \"react-devtool-fonts\"\n\tstyleElement.textContent = fontCSS\n\tdocument.head.appendChild(styleElement)\n}\n\n// @TODO: @pivanov - add back in when options are implemented\n// const audioContext: AudioContext | null = null;\n\ninterface RootContainer {\n\trootContainer: HTMLDivElement\n\tshadowRoot: ShadowRoot\n}\n\nconst initRootContainer = (): RootContainer => {\n\tif (rootContainer && shadowRoot) {\n\t\treturn { rootContainer, shadowRoot }\n\t}\n\n\trootContainer = document.createElement(\"div\")\n\trootContainer.id = \"react-devtool-root\"\n\n\tshadowRoot = rootContainer.attachShadow({ mode: \"open\" })\n\n\tconst cssStyles = document.createElement(\"style\")\n\tcssStyles.textContent = styles\n\n\tshadowRoot.appendChild(cssStyles)\n\n\tdocument.documentElement.appendChild(rootContainer)\n\n\treturn { rootContainer, shadowRoot }\n}\n\n// export interface UnstableOptions {\n//   /**\n//    * Enable/disable scanning\n//    *\n//    * Please use the recommended way:\n//    * enabled: process.env.NODE_ENV === 'development',\n//    *\n//    * @default true\n//    */\n//   enabled?: boolean;\n\n//   /**\n//    * Force React Scan to run in production (not recommended)\n//    *\n//    * @default false\n//    */\n//   dangerouslyForceRunInProduction?: boolean;\n\n//   /**\n//    * Animation speed\n//    *\n//    * @default \"fast\"\n//    */\n//   animationSpeed?: 'slow' | 'fast' | 'off';\n\n//   /**\n//    * Smoothly animate the re-render outline when the element moves\n//    *\n//    * @default true\n//    */\n//   smoothlyAnimateOutlines?: boolean;\n\n//   /**\n//    * Show toolbar bar\n//    *\n//    * If you set this to true, and set {@link enabled} to false, the toolbar will still show, but scanning will be disabled.\n//    *\n//    * @default true\n//    */\n//   showToolbar?: boolean;\n// }\n\ninterface Options {\n\t/**\n\t * Enable/disable scanning\n\t *\n\t * Please use the recommended way:\n\t * enabled: process.env.NODE_ENV === 'development',\n\t *\n\t * @default true\n\t */\n\tenabled?: boolean\n\n\t/**\n\t * Force React Scan to run in production (not recommended)\n\t *\n\t * @default false\n\t */\n\tdangerouslyForceRunInProduction?: boolean\n\t/**\n\t * Log renders to the console\n\t *\n\t * WARNING: This can add significant overhead when the app re-renders frequently\n\t *\n\t * @default false\n\t */\n\tlog?: boolean\n\n\t/**\n\t * Show toolbar bar\n\t *\n\t * If you set this to true, and set {@link enabled} to false, the toolbar will still show, but scanning will be disabled.\n\t *\n\t * @default true\n\t */\n\tshowToolbar?: boolean\n\n\t/**\n\t * Animation speed\n\t *\n\t * @default \"fast\"\n\t */\n\tanimationSpeed?: \"slow\" | \"fast\" | \"off\"\n\n\t/**\n\t * Track unnecessary renders, and mark their outlines gray when detected\n\t *\n\t * An unnecessary render is defined as the component re-rendering with no change to the component's\n\t * corresponding dom subtree\n\t *\n\t *  @default false\n\t *  @warning tracking unnecessary renders can add meaningful overhead to react-scan\n\t */\n\ttrackUnnecessaryRenders?: boolean\n\n\t/**\n\t * Should the FPS meter show in the toolbar\n\t *\n\t *  @default true\n\t */\n\tshowFPS?: boolean\n\n\t/**\n\t * Should the number of slowdown notifications be shown in the toolbar\n\t *\n\t *  @default true\n\t */\n\tshowNotificationCount?: boolean\n\n\t/**\n\t * Allow React Scan to run inside iframes\n\t *\n\t * @default false\n\t */\n\tallowInIframe?: boolean\n\n\t/**\n\t * Should react scan log internal errors to the console.\n\t *\n\t * Useful if react scan is not behaving expected and you want to provide information to maintainers when submitting an issue https://github.com/aidenybai/react-scan/issues\n\t *\n\t *  @default false\n\t */\n\t_debug?: \"verbose\" | false\n\n\tonCommitStart?: () => void\n\tonRender?: (fiber: Fiber, renders: Array<Render>) => void\n\tonCommitFinish?: () => void\n\tonPaintStart?: (outlines: Array<Outline>) => void\n\tonPaintFinish?: (outlines: Array<Outline>) => void\n}\n\ninterface Monitor {\n\tpendingRequests: number\n\tinteractions: Array<InternalInteraction>\n\tsession: ReturnType<typeof getSession>\n\turl: string | null\n\troute: string | null\n\tapiKey: string | null\n\tcommit: string | null\n\tbranch: string | null\n}\n\ninterface StoreType {\n\tinspectState: Signal<States>\n\twasDetailsOpen: Signal<boolean>\n\tlastReportTime: Signal<number>\n\tisInIframe: Signal<boolean>\n\tmonitor: Signal<Monitor | null>\n\tfiberRoots: WeakSet<Fiber>\n\treportData: Map<number, RenderData>\n\tlegacyReportData: Map<string, RenderData>\n\tchangesListeners: Map<number, Array<ChangesListener>>\n\tinteractionListeningForRenders:\n\t\t| ((fiber: Fiber, renders: Array<Render>) => void)\n\t\t| null\n}\n\nexport type OutlineKey = `${string}-${string}`\n\ninterface Internals {\n\tinstrumentation: ReturnType<typeof createInstrumentation> | null\n\tcomponentAllowList: WeakMap<ComponentType<unknown>, Options> | null\n\toptions: Signal<Options>\n\tscheduledOutlines: Map<Fiber, Outline> // we clear t,his nearly immediately, so no concern of mem leak on the fiber\n\t// outlines at the same coordinates always get merged together, so we pre-compute the merge ahead of time when aggregating in activeOutlines\n\tactiveOutlines: Map<OutlineKey, Outline> // we re-use the outline object on the scheduled outline\n\tonRender: ((fiber: Fiber, renders: Array<Render>) => void) | null\n\tStore: StoreType\n\tversion: string\n\trunInAllEnvironments: boolean\n}\n\ntype FunctionalComponentStateChange = {\n\ttype: ChangeReason.FunctionalState\n\tvalue: unknown\n\tprevValue?: unknown\n\tcount?: number | undefined\n\tname: string\n}\ntype ClassComponentStateChange = {\n\ttype: ChangeReason.ClassState\n\tvalue: unknown\n\tprevValue?: unknown\n\tcount?: number | undefined\n\tname: \"state\"\n}\n\nexport type StateChange =\n\t| FunctionalComponentStateChange\n\t| ClassComponentStateChange\nexport type PropsChange = {\n\ttype: ChangeReason.Props\n\tname: string\n\tvalue: unknown\n\tprevValue?: unknown\n\tcount?: number | undefined\n}\nexport type ContextChange = {\n\ttype: ChangeReason.Context\n\tname: string\n\tvalue: unknown\n\tprevValue?: unknown\n\tcount?: number | undefined\n\tcontextType: number\n}\n\nexport type Change = StateChange | PropsChange | ContextChange\n\nexport type ChangesPayload = {\n\tpropsChanges: Array<PropsChange>\n\tstateChanges: Array<\n\t\tFunctionalComponentStateChange | ClassComponentStateChange\n\t>\n\tcontextChanges: Array<ContextChange>\n}\nexport type ChangesListener = (changes: ChangesPayload) => void\n\nexport const Store: StoreType = {\n\twasDetailsOpen: signal(true),\n\tisInIframe: signal(IS_CLIENT && window.self !== window.top),\n\tinspectState: signal<States>({\n\t\tkind: \"uninitialized\",\n\t}),\n\tmonitor: signal<Monitor | null>(null),\n\tfiberRoots: new Set<Fiber>(),\n\treportData: new Map<number, RenderData>(),\n\tlegacyReportData: new Map<string, RenderData>(),\n\tlastReportTime: signal(0),\n\tinteractionListeningForRenders: null,\n\tchangesListeners: new Map(),\n}\n\nexport const ReactDevtoolInternals: Internals = {\n\tinstrumentation: null,\n\tcomponentAllowList: null,\n\toptions: signal({\n\t\tenabled: true,\n\t\t// includeChildren: true,\n\t\t// playSound: false,\n\t\tlog: false,\n\t\tshowToolbar: true,\n\t\t// renderCountThreshold: 0,\n\t\t// report: undefined,\n\t\t// alwaysShowLabels: false,\n\t\tanimationSpeed: \"fast\",\n\t\tdangerouslyForceRunInProduction: false,\n\t\tshowFPS: true,\n\t\tshowNotificationCount: true,\n\t\tallowInIframe: false,\n\t\t// smoothlyAnimateOutlines: true,\n\t\t// trackUnnecessaryRenders: false,\n\t}),\n\trunInAllEnvironments: false,\n\tonRender: null,\n\tscheduledOutlines: new Map(),\n\tactiveOutlines: new Map(),\n\tStore,\n\tversion: \"0.0.1\",\n}\n\ntype LocalStorageOptions = Omit<\n\tOptions,\n\t| \"onCommitStart\"\n\t| \"onRender\"\n\t| \"onCommitFinish\"\n\t| \"onPaintStart\"\n\t| \"onPaintFinish\"\n>\n\nfunction isOptionKey(key: string): key is keyof Options {\n\treturn key in ReactDevtoolInternals.options.value\n}\n\nconst validateOptions = (options: Partial<Options>): Partial<Options> => {\n\tconst errors: Array<string> = []\n\tconst validOptions: Partial<Options> = {}\n\n\tfor (const key in options) {\n\t\tif (!isOptionKey(key)) continue\n\n\t\tconst value = options[key]\n\t\tswitch (key) {\n\t\t\tcase \"enabled\":\n\t\t\t// case 'includeChildren':\n\t\t\tcase \"log\":\n\t\t\tcase \"showToolbar\":\n\t\t\t// case 'report':\n\t\t\t// case 'alwaysShowLabels':\n\t\t\tcase \"showNotificationCount\":\n\t\t\tcase \"dangerouslyForceRunInProduction\":\n\t\t\tcase \"showFPS\":\n\t\t\tcase \"allowInIframe\":\n\t\t\t\tif (typeof value !== \"boolean\") {\n\t\t\t\t\terrors.push(`- ${key} must be a boolean. Got \"${value}\"`)\n\t\t\t\t} else {\n\t\t\t\t\tvalidOptions[key] = value\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t// case 'renderCountThreshold':\n\t\t\t// case 'resetCountTimeout':\n\t\t\t//   if (typeof value !== 'number' || value < 0) {\n\t\t\t//     errors.push(`- ${key} must be a non-negative number. Got \"${value}\"`);\n\t\t\t//   } else {\n\t\t\t//     validOptions[key] = value as number;\n\t\t\t//   }\n\t\t\t//   break;\n\t\t\tcase \"animationSpeed\":\n\t\t\t\tif (![\"slow\", \"fast\", \"off\"].includes(value as string)) {\n\t\t\t\t\terrors.push(\n\t\t\t\t\t\t`- Invalid animation speed \"${value}\". Using default \"fast\"`,\n\t\t\t\t\t)\n\t\t\t\t} else {\n\t\t\t\t\tvalidOptions[key] = value as \"slow\" | \"fast\" | \"off\"\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tcase \"onCommitStart\":\n\t\t\t\tif (typeof value !== \"function\") {\n\t\t\t\t\terrors.push(`- ${key} must be a function. Got \"${value}\"`)\n\t\t\t\t} else {\n\t\t\t\t\tvalidOptions.onCommitStart = value as () => void\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tcase \"onCommitFinish\":\n\t\t\t\tif (typeof value !== \"function\") {\n\t\t\t\t\terrors.push(`- ${key} must be a function. Got \"${value}\"`)\n\t\t\t\t} else {\n\t\t\t\t\tvalidOptions.onCommitFinish = value as () => void\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tcase \"onRender\":\n\t\t\t\tif (typeof value !== \"function\") {\n\t\t\t\t\terrors.push(`- ${key} must be a function. Got \"${value}\"`)\n\t\t\t\t} else {\n\t\t\t\t\tvalidOptions.onRender = value as (\n\t\t\t\t\t\tfiber: Fiber,\n\t\t\t\t\t\trenders: Array<Render>,\n\t\t\t\t\t) => void\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tcase \"onPaintStart\":\n\t\t\tcase \"onPaintFinish\":\n\t\t\t\tif (typeof value !== \"function\") {\n\t\t\t\t\terrors.push(`- ${key} must be a function. Got \"${value}\"`)\n\t\t\t\t} else {\n\t\t\t\t\tvalidOptions[key] = value as (outlines: Array<Outline>) => void\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t// case 'trackUnnecessaryRenders': {\n\t\t\t//   validOptions.trackUnnecessaryRenders =\n\t\t\t//     typeof value === 'boolean' ? value : false;\n\t\t\t//   break;\n\t\t\t// }\n\t\t\t// case 'smoothlyAnimateOutlines': {\n\t\t\t//   validOptions.smoothlyAnimateOutlines =\n\t\t\t//     typeof value === 'boolean' ? value : false;\n\t\t\t//   break;\n\t\t\t// }\n\t\t\tdefault:\n\t\t\t\terrors.push(`- Unknown option \"${key}\"`)\n\t\t}\n\t}\n\n\tif (errors.length > 0) {\n\t\t// biome-ignore lint/suspicious/noConsole: Intended debug output\n\t\tconsole.warn(`[React Scan] Invalid options:\\n${errors.join(\"\\n\")}`)\n\t}\n\n\treturn validOptions\n}\n\nexport const setOptions = (userOptions: Partial<Options>) => {\n\ttry {\n\t\tconst validOptions = validateOptions(userOptions)\n\n\t\tif (Object.keys(validOptions).length === 0) {\n\t\t\treturn\n\t\t}\n\n\t\tconst shouldInitToolbar =\n\t\t\t\"showToolbar\" in validOptions && validOptions.showToolbar !== undefined\n\n\t\tconst newOptions = {\n\t\t\t...ReactDevtoolInternals.options.value,\n\t\t\t...validOptions,\n\t\t}\n\n\t\tconst { instrumentation } = ReactDevtoolInternals\n\t\tif (instrumentation && \"enabled\" in validOptions) {\n\t\t\tinstrumentation.isPaused.value = validOptions.enabled === false\n\t\t}\n\n\t\tReactDevtoolInternals.options.value = newOptions\n\n\t\t// temp hack since defaults override stored local storage values\n\t\t// we actually don't care about any other local storage option other than enabled, we should not be syncing those to local storage\n\t\ttry {\n\t\t\tconst existing = readLocalStorage<undefined | Record<string, unknown>>(\n\t\t\t\t\"react-devtool-options\",\n\t\t\t)?.enabled\n\n\t\t\tif (typeof existing === \"boolean\") {\n\t\t\t\tnewOptions.enabled = existing\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tif (ReactDevtoolInternals.options.value._debug === \"verbose\") {\n\t\t\t\t// biome-ignore lint/suspicious/noConsole: intended debug output\n\t\t\t\tconsole.error(\n\t\t\t\t\t\"[React Scan Internal Error]\",\n\t\t\t\t\t\"Failed to create notifications outline canvas\",\n\t\t\t\t\te,\n\t\t\t\t)\n\t\t\t}\n\t\t\t/** */\n\t\t}\n\n\t\tsaveLocalStorage(\"react-devtool-options\", newOptions)\n\n\t\tif (shouldInitToolbar) {\n\t\t\tinitToolbar(!!newOptions.showToolbar)\n\t\t}\n\n\t\treturn newOptions\n\t} catch (e) {\n\t\tif (ReactDevtoolInternals.options.value._debug === \"verbose\") {\n\t\t\t// biome-ignore lint/suspicious/noConsole: intended debug output\n\t\t\tconsole.error(\n\t\t\t\t\"[React Scan Internal Error]\",\n\t\t\t\t\"Failed to create notifications outline canvas\",\n\t\t\t\te,\n\t\t\t)\n\t\t}\n\t\t/** */\n\t}\n}\n\nconst getOptions = () => ReactDevtoolInternals.options\n\n// we only need to run this check once and will read the value in hot path\nlet isProduction: boolean | null = null\nlet rdtHook: ReturnType<typeof getRDTHook>\nconst getIsProduction = () => {\n\tif (isProduction !== null) {\n\t\treturn isProduction\n\t}\n\trdtHook ??= getRDTHook()\n\tfor (const renderer of rdtHook.renderers.values()) {\n\t\tconst buildType = detectReactBuildType(renderer)\n\t\tif (buildType === \"production\") {\n\t\t\tisProduction = true\n\t\t}\n\t}\n\treturn isProduction\n}\n\nconst start = () => {\n\ttry {\n\t\tif (!IS_CLIENT) {\n\t\t\treturn\n\t\t}\n\n\t\t// Load fonts early for shadow DOM compatibility\n\t\tloadOptimisticFonts()\n\n\t\tif (\n\t\t\t!ReactDevtoolInternals.runInAllEnvironments &&\n\t\t\tgetIsProduction() &&\n\t\t\t!ReactDevtoolInternals.options.value.dangerouslyForceRunInProduction\n\t\t) {\n\t\t\treturn\n\t\t}\n\n\t\tconst localStorageOptions = readLocalStorage<LocalStorageOptions>(\n\t\t\t\"react-devtool-options\",\n\t\t)\n\n\t\tif (localStorageOptions) {\n\t\t\tconst validLocalOptions = validateOptions(localStorageOptions)\n\n\t\t\tif (Object.keys(validLocalOptions).length > 0) {\n\t\t\t\tReactDevtoolInternals.options.value = {\n\t\t\t\t\t...ReactDevtoolInternals.options.value,\n\t\t\t\t\t...validLocalOptions,\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst options = getOptions()\n\n\t\t// initReactDevtoolInstrumentation(() => {\n\t\tinitToolbar(!!options.value.showToolbar)\n\t\t// });\n\n\t\tif (!Store.monitor.value && IS_CLIENT) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (isInstrumentationActive()) return\n\t\t\t\t// biome-ignore lint/suspicious/noConsole: Intended debug output\n\t\t\t\tconsole.error(\n\t\t\t\t\t\"[React Scan] Failed to load. Must import React Scan before React runs.\",\n\t\t\t\t)\n\t\t\t}, 5000)\n\t\t}\n\t} catch (e) {\n\t\tif (ReactDevtoolInternals.options.value._debug === \"verbose\") {\n\t\t\t// biome-ignore lint/suspicious/noConsole: intended debug output\n\t\t\tconsole.error(\n\t\t\t\t\"[React Scan Internal Error]\",\n\t\t\t\t\"Failed to create notifications outline canvas\",\n\t\t\t\te,\n\t\t\t)\n\t\t}\n\t}\n}\n\nconst initToolbar = (showToolbar: boolean) => {\n\twindow.reactDevtoolCleanupListeners?.()\n\n\tconst cleanupTimingTracking = startTimingTracking()\n\tconst cleanupOutlineCanvas = createNotificationsOutlineCanvas()\n\n\twindow.reactDevtoolCleanupListeners = () => {\n\t\tcleanupTimingTracking()\n\t\tcleanupOutlineCanvas?.()\n\t}\n\n\tconst windowToolbarContainer = window.__REACT_DEVTOOL_TOOLBAR_CONTAINER__\n\n\tif (!showToolbar) {\n\t\twindowToolbarContainer?.remove()\n\t\treturn\n\t}\n\n\twindowToolbarContainer?.remove()\n\tconst { shadowRoot } = initRootContainer()\n\tcreateToolbar(shadowRoot)\n}\n\nconst createNotificationsOutlineCanvas = () => {\n\ttry {\n\t\tconst highlightRoot = document.documentElement\n\t\treturn createHighlightCanvas(highlightRoot)\n\t} catch (e) {\n\t\tif (ReactDevtoolInternals.options.value._debug === \"verbose\") {\n\t\t\t// biome-ignore lint/suspicious/noConsole: intended debug output\n\t\t\tconsole.error(\n\t\t\t\t\"[React Scan Internal Error]\",\n\t\t\t\t\"Failed to create notifications outline canvas\",\n\t\t\t\te,\n\t\t\t)\n\t\t}\n\t}\n}\n\n/**\n * @public\n */\nexport const scan = (options: Options = {}) => {\n\tsetOptions(options)\n\tconst isInIframe = Store.isInIframe.value\n\n\tif (\n\t\tisInIframe &&\n\t\t!ReactDevtoolInternals.options.value.allowInIframe &&\n\t\t!ReactDevtoolInternals.runInAllEnvironments\n\t) {\n\t\treturn\n\t}\n\n\tif (options.enabled === false && options.showToolbar !== true) {\n\t\treturn\n\t}\n\n\tstart()\n}\n\nexport const ignoredProps = new WeakSet<\n\tExclude<ReactNode, undefined | null | string | number | boolean | bigint>\n>()\n"],"x_google_ignoreList":[0,1,2,3,5,7,23],"mappings":"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"}